# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
Y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document studies and evaluates architectural enhancements for
Machine-Type and other mobile data applications Communications.
Specifically, the following system improvements are considered:
\- **Small Data Transmission (SDT)** which includes the following aspects:
\- SDT as per the service requirements (TS 22.368, clause 7.2.5); and
\- Efficient handling of frequent SDT as per the service requirement (TS
22.101, clause 4.3.1).
\- **Triggering enhancements** which includes the following aspects:
\- Device triggering enhancements including T5 based device trigger and other
triggering efficiency optimizations.
\- **Monitoring enhancements** which includes the following aspect:
\- Monitoring as per the service requirements (TS 22.368, clause 7.2.8).
\- **UE Power optimizations** which includes the following aspects:
\- Optimizations to prevent battery drain (that may come from e.g. frequent
changes between idle and connected mode or too long periods in connected
mode); and
\- Lower UE power consumption as per the service requirements (TS 22.368,
clause 7.1.1).
\- **Group based features** which include the following aspects:
\- Fulfil the group based policing requirements (TS 22.368 clause 7.2.14.2);
\- Fulfil the group based addressing requirements (TS 22.368 clause 7.2.14.3);
and
\- Fulfil the group based charging requirements (TS 22.368 clause 7.1.5).
The end-to-end application layer aspects between UEs and Application servers
including SCS (which can be located outside or inside the network operator\'s
domain) are out of the scope of this study. However, the transport services as
provided by the 3GPP system and the related optimizations are considered in
this study.
The present document analyzes architectural aspects to achieve these
objectives and to gather technical content until it can be included in the
relevant technical specifications.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.368: \" Service requirements for Machine-Type Communications
(MTC); Stage 1\".
[3] 3GPP TS 23.682: \"Architecture enhancements to facilitate communications
with packet data networks and applications\".
[4] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\".
[5] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
description; Stage 2\".
[6] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[7] 3GPP TS 29.061: \"Interworking between the Public Land Mobile Network
(PLMN) supporting packet based services and Packet Data Networks (PDN)\".
[8] 3GPP TR 36.822: \"LTE Radio Access Network (RAN) enhancements for diverse
data applications\".
[9] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2\".
[10] 3GPP TS 29.337: \"Diameter-based T4 Interface for communications with
packet data networks and applications\".
[11] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
network protocols; Stage 3\".
[12] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet
System (EPS); Stage 3\".
[13] 3GPP TS 36.304: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
User Equipment (UE) procedures in idle mode\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and TS 22.368 [2] apply.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply.\ An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
M2M Machine-to-Machine
MO Mobile Originated
MTC Machine-Type Communications
SDDTE Small Data and Device Triggering Enhancements
SDT Small Data Transmission
# 4 Architectural considerations
## 4.1 Architectural principles
Editor\'s note: This clause captures principles that can be agreed in
discussion of architecture. Once agreed, these principles will guide further
work in the TR.
## 4.2 Architecture model
Editor\'s note: This clause will capture the changes to architecture reference
model described in TS 23.682 [3].
# 5 Small Data and Device Triggering Enhancements (SDDTE)
## 5.1 Small Data Transmission (SDT)
### 5.1.1 Key Issue - Efficient SDT
#### 5.1.1.1 Description
Many MTC applications send or receive small amounts of data. This
characteristic of MTC application may lead to inefficient use of resources in
the 3GPP system. This key issue identifies the solutions to transmit and
receive small amount of data efficiently through 3GPP system. The exact amount
that is considered to be small may differ per individual system improvement
proposal. It is the amount of data where a specific system improvement
proposal still provides its benefits.
For SDT it is assumed that data transfer can happen any time when needed by
the application. Before the transmission of the small data, the MTC device may
be attached to or detached from the network.
#### 5.1.1.2 Architectural requirements
The following functionalities are required for SDT:
\- The system needs to support transmissions of small amounts of data
efficiently with minimal network impact (e.g. signalling overhead, network
resources, delay for reallocation).
#### 5.1.1.3 Solutions
##### 5.1.1.3.1 Solution: SDT starting from RRC IDLE (E-UTRAN): Use of pre-
established NAS security context to transfer the IP packet as NAS signalling
without establishing RRC security
##### 5.1.1.3.1.1 General {#general .H6}
Editor\'s note: This is a development of the concept in clause 6.52.2.6 of TR
23.888 \"Use of pre-established NAS security context to transfer the SMS PDUs
as NAS signalling without establishing RRC security\".
In LTE, the current data transfer procedures require the use of the Service
Request procedure. This entails the download of the RRC security context to
the eNB and the establishment of the radio bearers. If all that is intended is
the transfer of one, possibly small, IP data packet, and perhaps its response,
and the UE was in RRC IDLE state, these procedures lead to a substantial
increase in radio resource utilisation. In this clause, the proposed
optimizations that relate to UEs that were in RRC IDLE in E-UTRAN are given
the name tag \'infrequent small data\'.
In 2G GPRS, these procedures are avoided as 2G-PS is relatively
connectionless, and, the user plane and signalling messages are encrypted at
the SGSN, not in the RAN.
If the MME is using encryption functionality for the NAS signalling, the
transfer of the RRC security context to the eNB does not seem strictly
necessary. When performing a TAU from Idle mode, the RRC security context and
radio bearers are not established.
Figure 5.1.1.3.1.1-1 illustrates the architecture for this \'infrequent small
data\' feature.
Figure 5.1.1.3.1.1-1: E2E data paths for SDT
The following figures show the existing message sequence and describe a more
optimized message sequence for the transfer of one IP packet (and its
response). Neither of the following figures show the layer 2 acknowledgements
or Hybrid ARQ mechanisms.
Figure 5.1.1.3.1.1-2: Current LTE message sequence for the transfer of one IP
packet pair
**LTE procedure for single MO IP packet (and response):**
Figure 5.1.1.3.1.1-3: Optimized LTE message sequence for the transfer of a MO
IP packet pair
a) The mobile performs Attach activating a PDN connection or TAU (with an
already active PDN a connection).
During the Attach and TAU procedures, the UE indicates the establishment cause
\"small data\" to assist the eNB to select a MME optimized for MTC SDT. The UE
and MME exchange information on the UE and network ability to support the
\"infrequent small data\" procedures, the eNB\'s capability of \"infrequent
small data\" transfer is also considered by MME for the network capability
decision. The MME also obtains information (e.g. from the HSS) about the
likelihood that this UE will predominately use (or not use) the \'infrequent
small data\' transfer feature.
The finally selected MME makes sure to establish secure exchange of NAS
messages, i.e. to use encryption of NAS signalling messages.
The finally selected MME performs S-GW and P-GW selection taking into account
the UE\'s capability of \'infrequent small data\' transfers and possible other
information, e.g. specific APNs. The MME and S-GW also exchanges information
on the UE and network ability to support the \"infrequent small data\"
procedures.
The UE returns to RRC Idle mode.
b) When the UE needs to send just one IP packet and the UE is a low access
priority device, the UE requests the UE\'s AS to establish an RRC connection
with establishment cause \'low priority small data\'\'. When the UE is not a
low access priority device, (. the UE requests the UE\'s AS to establish an
RRC connection with establishment cause \"small data\" (including as usual\"
the S-TMSI in the RRC Connection Request).
c) A new NAS message format is used to carry the IP packet and its EPS Bearer
ID in an encrypted IE.
This NAS PDU is sent in the NAS container in the RRC Connection Setup Complete
message.
The unencrypted part of this new NAS PDU carries the \"eKSI and Sequence
Number\" IEs as usual for encrypted NAS messages. The MME uses this, and the
S-TMSI, to identify the security context to decrypt the IP packet and EPS
Bearer ID.
NOTE 1: RRC has not placed any significant size constraint on the NAS PDU
payload. Hence RRC is believed to be able to support a 1500 byte IP packet
within the NAS PDU. Any loss of radio efficiency needs to be determined, but,
it is believed that power control features would work correctly, and, that low
end devices would not deploy advanced/multi antenna features that need the
download of the UE Radio Capabilities IE from the MME to the eNB.
NOTE 2: The \"small data\" and \"low priority small data\" cause value, can be
used by the eNB to detect that a short lived signalling procedure is in
progress. Hence it is unlikely that the MME will download the security context
to the eNB. Without the security context, handover cannot be performed. Thus
radio resources can be saved if the eNB does not configure the UE to perform
measurement reporting.
If the UE derives from the uplink packet that is to be transferred that it
causes more than one uplink and one downlink IP packet, then it should use the
normal Service Request procedure.
NOTE 3: It could be considered to use this procedure to transfer more than one
(pair) of IP packets. This may be possible (e.g. it is not dissimilar to TAU
procedures where several NAS messages can be exchanged without downloading the
UE Radio Capabilities to the eNB), however this would have a larger RAN
performance impact.
The UE can also indicate in the release ind parameter whether
acknowledgment/response is expected or not.
Editor\'s note: How to ensure that the application correctly uses the Service
Request procedure and does not abuse this \'Small Data\' NAS procedure is an
open issue. However the MME\'s ability to release the connection provides a
control point. An additional possibility is for the NAS signalling in the
Attach/TAU procedure to carry a TFT, or some other \'rule\', to the UE which
the UE uses to restrict the traffic that can use the \'Small Data\' procedure.
d) The eNB forwards NAS PDU to the MME in the S1AP Initial UE message.
> The MME may monitor how frequent the small data transfer is used in uplink
> and downlink and how many packets are transferred per initiation or how
> often the small data transfer requires a change to using DRBs. When
> configured limits are exceeded the MME disallows that UE to continue
> transferring IP packets via NAS, optionally for a certain time period. When
> the MME decides to switch to the normal bearer handling, the MME first
> initiates the S1 release and then performs the normal paging procedure.
e) The MME decrypts the NAS message, obtaining the IP packet and the EPS
Bearer ID.
Using the EPS Bearer ID, the MME retrieves the S-GW IP address and TEID of
that bearer, forms the GTP-U packet and sends it to the S-GW.
The S-GW sends the packet to the P-GW and the P-GW forwards the IP packet on
to the SGi interface.
NOTE 4: The inactivity timer in the eNB controls how long the RRC connection
is kept after the NAS transfer. The eNB may apply specific inactivity timer
handling based on the \"small data\" establishment cause.
f) The MME may use knowledge of the subscriber and the assistance information
in the release ind parameter from the UE to determine whether to proceed with
the full UE triggered Service Request procedure, or, to immediately release
the RRC connection (Alt. A), or to wait for some time (e.g. to see if a
downlink IP packet causes the S-GW to send a Downlink Data notification to the
MME).
g) When a (response) IP packet arrives in the S-GW, the S-GW appends a packet
sequence number, the IP packet and the EPS Bearer ID to the Downlink Data
Notification and sends it to the MME. The S-GW also buffers the IP packet.
NOTE 5: The sequence number in the GTP-C header may be used for the packet
sequence number, it\'s left for stage 3 to decide.
h) If the RRC/S1 connection has not been released, then the MME encrypts the
NAS message with the downlink IP packet and the EPS Bearer ID and sends the
downlink NAS PDU to the UE. Knowledge of the subscriber type would permit the
MME to request the eNB to release the RRC connection in conjunction with the
eNB\'s delivery of the NAS PDU/IP response packet.
i) The Downlink Data Notification Ack sent by the MME to the SGW is extended
to inform the SGW that the packet identified by the sequence number has been
sent (or, that the normal Network Initiated Service Request procedure has been
triggered).
If the S-GW has not received a Downlink Data Notification Ack indicating that
the normal Network Initiated Service Request procedure has been triggered,
when a second downlink IP packet arrives in the S-GW, the S-GW sends a new
Downlink Data Notification with that IP packet, its packet sequence number and
the related EPS Bearer ID appended to the MME. If the S-GW receives multiple
subsequent IP packets, the S-GW can use the Downlink Data Notification to
request the MME to perform the normal Network Initiated Service Request
procedure, also when the NAS transmission of an earlier IP packet is not yet
confirmed by a Downlink Data Notification Ack.
**LTE procedure for single MT IP packet delivery**
This uses similar concepts to the MO case described above.
{width="6.676388888888889in" height="5.5680555555555555in"}
Figure 5.1.1.3.1.1-4: Optimized LTE message sequence for the transfer of a MT
IP packet pair
a) The MME and UE have (at Attach/TAU) performed the negotiations as described
above for the MO case, NAS encryption is activated and a PDN connection has
been activated.
b) when an IP packet arrives in the S-GW, if both the UE and S-GW support the
\"infrequent small data\" capability, the S-GW buffers the IP packet, appends
the IP packet, its packet sequence number and EPS Bearer ID to the Downlink
Data Notification and sends it to the MME. The S-GW monitors the criteria for
the small data transfer, e.g., whether subsequent packets have arrived for the
delivery to the UE and whether the total size of all arrived packets in sum or
number of arrived packets in the buffer is greater than the value configured
by the operator\'s policy or subscription. If this is the case the S-GW sends
the Downlink Data Notification to request the establishment of the S1/radio
bearer(s).
The MME may monitor how frequent the small data transfer is used in uplink and
downlink and how many packets are transferred per initiation or how often the
small data transfer requires a change to using DRBs. When configured limits
are exceeded the MME disallows that UE to continue transferring IP packets via
NAS, optionally for a certain time period. When the MME decides to switch to
the normal bearer handling, the MME first initiates the S1 release and then
performs the normal paging procedure.
c) If there is no signalling connection with the UE, the MME pages. The
addition of a \"Small data flag\" to the radio interface (and S1 interface)
paging messages allows the UE to change the RRC establishment cause from \"mt-
access\" to \"small data\". In turn, this RRC establishment cause allows the
eNB to optimise its resource allocation and to not configure the UE for
measurement reporting).
The MME may use knowledge of the subscriber to decide whether to include the
\"Small Data Flag\", and, whether to not fully proceed with the subsequent
Service Request procedure.
The Service Request sent as the paging response by the UE carries the \"KSI
and sequence number\" IE. The MME uses this, as usual, to verify the
authenticity of the Service Request.
d) The MME then sends the IP packet and EPS Bearer ID in an encrypted IE in a
NAS PDU in an S1 Downlink NAS Transport message and the eNB sends the NAS PDU
onto the UE.
e) Afterwards a Downlink Data Notification Ack is sent by the MME to the SGW,
which is extended to inform the SGW that the packet has been sent (or, that
the normal Network Initiated Service Request procedure has been triggered).
f) The UE might send an IP packet as an acknowledgement. This IP packet, along
with the EPS Bearer ID, is sent in an encrypted IE in a NAS PDU in an UL
Information Transfer message. The eNB forwards the NAS PDU to the MME.
g) The MME decrypts the IE, adds the GTP header and forwards it to the S-GW.
The eNB releases the RRC Connection when the inactivity timer expires. The
inactivity timer could be optimized based on the \"small data\" cause.
##### 5.1.1.3.1.1.1 Elementary procedure for single MO/MT IP packet transfer
{#elementary-procedure-for-single-momt-ip-packet-transfer .H6}
SDT might need to transfer only a single packet without any response.
Furthermore a small data transfer sequence may consist of e.g. transferring
two packets in one and one packet in the other direction.
The SGW and the MME should not need and may also not be able to know the
specific sequence of IP packet transfers.
Each packet transfer should work as an individual packet transfer,
independently. The only criteria are whether the signalling connection and/or
the DRB are established and the conditions that stop usage of the small data
mechanism when it is used too frequently. The procedures \"elementary
procedure for single MO IP packet \"and \"elementary procedure for single MT
IP packet\" are describing just an individual uplink or downlink transfer of
one packet. Depending on the actual packet sequence those procedures may be
concatenated.
**LTE procedure for single MO IP packet:**
{width="6.6375in" height="3.7222222222222223in"}
Figure 5.1.1.3.1.1.1-1: Optimized LTE message sequence for the transfer of one
MO IP packet
a) When the UE needs to send one IP packet and the RRC connection is not
already established the UE requests the UE\'s AS to establish an RRC
connection with establishment cause \"small data (including as usual the
S-TMSI in the RRC Connection Request). When the UE is a low access priority
device, the UE requests the UE\'s AS to establish an RRC connection with
establishment cause \"low priority small data\"
b) The UE forms a NAS message with the IP packet and its EPS Bearer ID and
encrypts that part of the message. This NAS PDU is sent in the NAS container
in the RRC Connection Setup Complete message or in RRC ULInformationTransfer
message when the connection is already established. The unencrypted part of
this new NAS PDU carries the \"eKSI and Sequence Number\" IEs as usual for
encrypted NAS messages.
c) The eNB forwards the NAS PDU to the MME in the S1AP Initial UE message or
in the S1AP UPLINK NAS TRANSPORT message, if the connection is already
established.
d) The MME decrypts the IP packet and EPS Bearer ID.
Using the EPS Bearer ID, the MME retrieves the S-GW IP address and TEID of
that bearer, forms the GTP-U packet and sends it to the S-GW.
The S-GW sends the packet to the P-GW and the P-GW forwards the IP packet on
to the SGi interface.
The inactivity timer in the eNB controls how long the RRC connection is kept
after the NAS transfer.
The eNB may apply specific inactive timer handling based on the \"small data\"
establishment cause.
**LTE procedure for single MT IP packet:**
{width="6.676388888888889in" height="4.733333333333333in"}
Figure 5.1.1.3.1.1.1-2: Optimized LTE message sequence for the transfer of one
MT IP packet
a) when a single IP packet arrives in the S-GW, the S-GW buffers the IP
packet, appends the IP packet, its packet sequence number and EPS Bearer ID to
the Downlink Data Notification and sends it to the MME. The S-GW monitors the
criteria for the small data transfer, e.g., whether subsequent packets arrive
for the delivery to the UE and whether the total size of all arrived packets
in sum or number of arrived packets in the buffer is greater than the value
configured by the operator\'s policy. If this is the case the S-GW sends the
Downlink Data Notification to request the establishment of the S1/radio
bearer(s).
b) If there is no signalling connection with the UE, the MME pages. The
addition of a \"Small data flag\" to the radio interface (and S1 interface)
paging messages allows the UE to indicate the RRC establishment cause \"small
data\" when performing the RRC Connection Request for the paging response,
which is performed as a Service Request, as usual. The RRC establishment cause
allows the eNB to optimise its resource allocation and to not configure the UE
for measurement reporting.
The Service Request sent as the paging response by the UE carries the \"KSI
and sequence number\" IE.
The MME uses this, as usual, to verify the authenticity of the Service
Request.
c) The MME then sends the IP packet and EPS Bearer ID in an encrypted IE in a
NAS PDU in an S1 Downlink NAS Transport message and the eNB sends the NAS PDU
onto the UE.
d) After sending the NAS PDU a Downlink Data Notification Ack is sent by the
MME to the S-GW, which is extended to inform the SGW that the packet has been
delivered (or, that the normal Network Initiated Service Request procedure has
been triggered).
The eNB releases the RRC Connection when the inactivity timer expires. The
inactivity timer could be optimized based on the \"small data\" cause.
##### 5.1.1.3.1.1.2 Alternative: GTP-C path between MME and S-GW for uplink
packet delivery {#alternative-gtp-c-path-between-mme-and-s-gw-for-uplink-
packet-delivery .H6}
For the uplink packet delivery, after MME decrypts the IP packet and EPS
Bearer ID, the MME can include the decrypted IP packet and EPS Bearer ID in
the GTP-C message and send the message to S-GW. Using the received EPS Bearer
ID, S-GW retrieves the IP address and TEID of that bearer, and forms the GTP-U
packet. The S-GW sends the packet to the P-GW and the P-GW forwards the IP
packet on to the SGi interface.
##### 5.1.1.3.1.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality .H6}
Impacts on UE:
\- Indicate eNB the small data transfer with new \"small data\" cause value or
\"low priority small data\" cause value plus the receipt of the S-TMSI in the
RRC Connection Request.
\- Handle \"small data\" transaction (including transfer the encrypted uplink
IP packet and its EPS bearer ID to MME in the first NAS message, indicate
termination of DL NAS PDU session, receive page with \"small data\"
indication, page response for \"small data\").
\- Exchange information with MME on their ability to support the \"infrequent
small data\" procedures.
Impacts on eNB:
\- Handle \"NAS small data\" session (including UE \"small data\" request in
RRC Connection Request, Inhibit the Measurement configuration procedure based
on UE\'s indication, indicate \"small data\" in page).
\- Release the RRC Connection based on UE or MME indication.
> \- Inactivity timer may be optimized based on the \"small data\" cause.
>
> \- MME selection based on the \"small data\" cause.
Impacts on MME:
\- Exchange information with UE on their ability to support the \"infrequent
small data\" procedures.
\- Possible MME redirection to an MME optimized for this type of small data.
\- Receive the uplink IP packet from UE by NAS.
\- Retrieve the IP address and TEID of the bearer using the EPS Bearer ID,
form the GTP-U packet, decrypt small data and send it to the S-GW (not apply
to alternative GTP-C path between MME and S-GW for uplink packet delivery).
\- Send the uplink IP packet and its EPS bearer ID to S-GW by GTP-C message
(apply to alternative GTP-C path between MME and S-GW for uplink packet
delivery).
\- Receive and encrypt the downlink IP packet and transfer, along with its EPS
bearer ID to UE by NAS.
\- Transfer the small data flag in the paging message to UE
\- Request the eNB to fast release the RRC connection after the NAS transfer
\- Possibly detect \"small data\" abuse and direct the UE to full Service
Request.
Impacts on S-GW:
\- Retrieve the IP address and TEID of the bearer using the EPS Bearer ID,
form the GTP-U packet and send it to the P-GW (apply to alternative GTP-C path
between MME and S-GW for uplink packet delivery).
\- append the downlink IP packet and EPS Bearer ID to the Downlink Data
Notification and send it to the MME.
\- monitor whether the downlink packet is small data.
\- on DL, possibly detect \"small data\" abuse and direct MME to full Service
Request.
Impact on HSS:
\- Possible subscription information to indicate if UE uses \"small data\"
feature.
##### 5.1.1.3.1.3 Solution evaluation {#solution-evaluation .H6}
Traffic Scenario: The solution mainly optimises scenarios that have data
traffic for use of PDN connections and have occasionally small data to
transfer
Benefits:
\- No establishment of DRBs and no resource reservation over the radio
interface;
\- Reduced signalling procedures in the core network (no S1-U establishment)
and radio interface.
Drawbacks:
\- MME capacity needs to be increased for this traffic;
\- MME required to queue DL data together with the paging when UE is idle.
This could be lengthy, e.g. 30 seconds, if paging retransmissions.
\- separate API calls to be used if the application has to select the data
path.
Typical IP flow scenarios (e.g. when TCP transport is used) require multiple
round trips.
During this procedure, the RRC security context is not downloaded to the
E-UTRAN: thus the UE cannot be handed over to any other cell.
Table 5.1.1.3.1.3-1: Comparison of Current and Optimized LTE mechanisms for
the Mobile Originated transfer of one IP packet pair
* * *
                       Number of radio interface events                                                 Number of core network signalling messages
Current LTE design 12\ 8 \+ 2 (for optional early UE measurement
configuration)\  
\+ (multiple) measurement reports (dependent on radio conditions and
mobility)\  
\+ 2n (for any extra RRC reconfiguration during the inactivity before release)
Optimized design 6 4
* * *
This solution piggybacks uplink small data onto the initial NAS uplink message
that is extended and it uses an additional NAS message for carrying downlink
response small data. The efforts for setting up the user plane, i.e. related
RRC messages and AS security setup, can be avoided. For downlink initiated
small data transfer starting from idle mode there are two additional NAS
messages in comparison to the NAS Service Request.
The solution is described as for an exchange of a request and a response
packet. There is no clear description about how to determine whether using the
small data or normal data transfer procedures. Having a proper determination
is crucial as some specific data transfer sequences may even increase system
signalling with such an approach, e.g. TCP, start with a small data pattern
and may afterwards change to higher volume data exchange. The solution
describes that the application in the UE knows whether to use small or normal
data transfer, i.e. uses separate API calls for transfer of small or normal
data. Further there are new specific interactions for changing between small
data and RAB based data transfer.
The data transfer relies on RRC without any acknowledgements above RRC layer.
It is for RAN to determine the reliability of the data transfer, e.g. how
likely it is that the uplink packet transfer starts again from UE because the
downlink response packet is not received due to loss of the RRC Release
message.
##### 5.1.1.3.2 Solution: Optimized handling of C-plane connection for Small
Data and Device Trigger Transmission without U-plane bearer establishment in
E-UTRAN
##### 5.1.1.3.2.1 Problem solved {#problem-solved .H6}
See clause 5.1.1 \"Key issue - Efficient SDT\" and clause 5.2.2 \"Key issue -
Support for T5 device triggering\".
##### 5.1.1.3.2.2 General {#general-1 .H6}
The optimizations described hereafter, which are using SMS and small data unit
as an example, can be used for any small data transfer or any other signalling
transaction that requires only the control plane for NAS PDU transfers and
that does not require the establishment of the U-plane RABs.
Depending on the triggered MTC application, the UE may either not require the
establishment of U-plane bearers, or not the immediate establishment of
U-plane bearer.
For uplink case, if the UE just needs to send MO SMS or some small amount
data, the UE can send MO SMS (as response to trigger or carries small data) to
the MME, and the MME forward the MO SMS. Or the UE may carry small data via a
new NAS message to the MME. Then the MME forward the small data or SMS to the
designated network entity.
In LTE, the current SMS over NAS procedures require the use of the Service
Request procedure. This entails the download of the RRC security context to
the eNB and the establishment of the U-plane radio bearers. If all that is
intended is the transfer of one SMS or SMS-like small data packet, these
procedures lead to a substantial increase in radio resource utilisation. For
transmission of SMS or small data, the establishment of U-plane bearers is not
necessarily needed.
The MME has encryption functionality for the NAS signalling and thus the
transfer of the RRC security context to the eNB does not seem strictly
necessary. When performing a TAU procedure starting from Idle mode, the RRC
security context and radio bearers are not established.
The following bullets describe more optimized message transfer sequences with
SMS over NAS and small data as an example. The optimized transfer sequences,
when used for SMS, are most suited for (and are described here for) the case
when the CP layer has been removed, but, they can still function if the CP
layer is retained. However, the generic approach (without the specifics of the
SMS CP layer) works for any small data or SMS or signalling transfer using the
control plane only.
**MO SMS over NAS or MO small data LTE procedure** :
a) The mobile performs a combined Attach/TAU, typically, for \"SMS-only\" and
returns to RRC-idle.
Only for the SMS CP layer optimization, during the Attach and TAU procedures,
the UE and MME exchange information on their (and in the case of a real,
separate, MSC, the MSC\'s) ability to support optimized SMS procedures. The UE
and MME also exchange information on their ability to support optimized
handling of C-plane connection.
b) The UE\'s NAS requests the UE\'s AS to establish an RRC connection \"for a
Tracking Area Update\" (sending the S-TMSI in the RRC Connection Request).
However, the new NAS PDU is a new form of initial layer 3 message that
includes the SMS RP-DATA or small data unit in an encrypted IE. This NAS PDU
is sent in the NAS container in the RRC Connection Setup Complete message. The
unencrypted part of this new initial layer 3 message in the NAS PDU carries
the \"KSI and sequence number\" IE and the MME uses this, and the S-TMSI, to
identify the security context to decrypt the RP-DATA. The new NAS PDU implies
that only the control plane, but no user plane RABs are to be established.
NOTE 1: During the Attach procedure, the RRC Connection Setup Complete message
typically carries a NAS PDU of around 80 bytes (for an SRVCC mobile), so, the
radio\'s Layer 1 and 2 mechanisms are probably not harmed by an RP-DATA
payload of up to 160 bytes.
The size of this NAS PDU means that it is worth setting the RRC establishment
cause to \"mo-Signalling\' rather than \"mo-Data\".
NOTE 2: The \"mo-Signalling\" cause value, potentially coupled with the
receipt of the S-TMSI in the RRC Connection Request, can be used by the eNB to
detect that a short lived signalling procedure is in progress. Hence it is
unlikely that the MME will download the security context to the eNB. Without
the security context, handover cannot be performed. Thus radio resources can
be saved if the eNB does not configure the UE to perform measurement
reporting.
If the UE\'s application knows that it needs to send multiple or concatenated
SMSs or multiple small data units, then the UE sets a (new) flag in the new
NAS PDU to inform the MME of this fact. The UE\'s application could also
indicate the number of SMSs or small data units that need to be sent. The main
purpose is for the MME to know when the signalling RAB can be released.
Possibly it can be also timer controlled, e.g. when some protocol for
acknowledging data transfers gets defined.
c) The eNB forwards the encrypted RP-DATA or small data unit to the MME in the
S1AP Initial UE message.
d) The MME decrypts the RP-DATA or the small data units. And for an SMS, the
MME (or SGs SMS IWF) adds the UE\'s identity information (e.g. MSISDN received
from the HSS in step a) and forwards the Short Message to the SMSC. For small
data units other than SMS, the originator ID is likely provided as part of the
small data units. The MME forwards the small data units to the network entity
defined for the small data.
e) The SMSC stores the SM and returns an RP-ACK to the MME. small data units
are processed by the network entity defined for small data units and any
potentially required acknowledgements are returned.
f) The MME forwards the RP-ACK / acknowledgement in an encrypted NAS PDU to
the eNB in an S1 Downlink NAS Transport message.
An additional, optional, IE is added to the S1 Downlink NAS Transport message
that allows the MME to request the eNB to release the RRC connection. (The MME
does not use this indication if the UE indicated that multiple SMSs needed to
be transferred in step b.)
NOTE 3: this situation is similar to the completion of a (periodic) TAU i.e.
the MME has not sent the Initial UE Context message to the eNB and so the eNB
cannot perform any commands on the UE that require RRC level security (in
particular section 5.3.1.1 of TS 36.331 [4] specifies that Handover cannot be
performed in this state).
g) The eNB sends the RP-ACK to the UE and releases the RRC Connection. The
small size of the RP-ACK means that it is possible for the eNB to include it
as a NAS PDU within the RRC Connection Release message itself.
Facets of the above procedure:
\- This MO SMS transfer only uses 4 RRC messages (plus the Hybrid ARQ frames
and the 2 messages that precede the RRC Connection Request.)
\- The CP Layer messages are not used.
**MT SMS over NAS or MT small data LTE procedure**
This uses similar concepts to MO SMS, but it requires 2 more RRC messages.
a) For the SMS, the MME and UE have negotiated (at Attach/TAU) that the CP
layer need not be used.
b) Paging leads to the establishment of the RRC Connection. The addition of a
\"SMS flag\" or \"small data flag\" to the radio interface (and S1 interface)
paging messages allows the UE to change the RRC establishment cause from \"mt-
access\" to \"mo-signalling\" (or to a new cause value of \"mt-signalling\").
In turn, this RRC establishment cause allows the eNB to optimize its resource
allocation and to not configure the UE for measurement reporting).
The initial NAS message (e.g. Service Request or a new NAS Request or TAU
Request without the active flag) sent as the paging response by the UE carries
the \"KSI and sequence number\" IE. The MME uses this, and the S-TMSI, to
encrypt the RP-DATA / small data sent in step c below. The initial NAS message
indicates that it is for signalling connection only.
c) The MME then sends the RP-DATA/ small data in an encrypted IE in a new NAS
PDU in an S1 Downlink NAS Transport message and the eNB sends the NAS PDU onto
the UE.
The UE sends the RP-ACK/potential small data acknowledgement in an encrypted
IE in a NAS PDU in an UL Information Transfer message and the eNB forwards the
NAS PDU to the MME.
d) After reception of acknowledgements for all downlink transfers, the MME
request the eNB to release the RRC connection.
e) The eNB releases the RRC Connection.
##### 5.1.1.3.2.3.1 Further optimization: C-plane connection termination
aspects {#further-optimization-c-plane-connection-termination-aspects .H6}
The main difference to the procedures above results from the UE behaviour
after receiving the small data or SMS (e.g. including a Device Trigger
message. Namely, the eNB/MME may not immediately initiate the NAS/RRC
connection release after the delivery of the small data or SMS . During the
Device Trigger, SMS or small data processing in the UE, the UE determines if
uplink data needs to be immediately sent. Further, the uplink data may result
in either 1) establishment/activation of EPS bearers for IP/based MO
communication or 2) the transmission of MO SMS or small data. If the UE needs
to transmit an MO SMS or small data, the UE reuses the existing NAS MM
connection to the MME. If the UE needs to set up the U-plane bearers, the UE
sends a corresponding EPS Bearer Activation message to the MME.
If the UE determines that the uplink data will be transmitted later (i.e. MO
communication will be established later), the UE indicates to the MME that the
NAS signalling connection is not anymore needed. The latter helps the network
to shorten the radio resource occupation.
Alternatively the network (eNB/MME) decides when to initiate the NAS/RRC
connection release after the delivery of the Device Trigger (e.g. MT SMS) or
Small Data to the UE.
Editor\'s note: The mechanisms to determine the optimal duration of the
C-plane only connection for transmission of Device Triggering and Downlink
Small Data over NAS signalling are FFS.
##### 5.1.1.3.2.3.2 Further optimization: RRC security aspects {#further-
optimization-rrc-security-aspects .H6}
Usually the MME decides whether to send Access Stratum (AS) security context
to the eNB when UE transfers from IDLE to CONENCTED state.
Some reasons for the establishment of the AS-security for C-plane connection
are:
1\. The support of mobility. When security is not configured for the RRC
connection, the UE is not configured for mobility measurements; and
2\. The ability of the UE to reliably activate the U-plane bearers if needed.
It may be required to have RRC security established when exchanging EPS
Session Management signalling between MME and UE.
Editor\'s note: It is FFS to evaluate the benefits and drawbacks of the RRC
security establishment for C-plane connection only.
The MME may establish the Access Stratum (AS) security for the Signalling
Radio Bearers. For this reason, the MME establishes only the UE AS-security
context at the eNB for the RRC connection (i.e. the MME doesn\'t include the
E-RAB context in the S1-AP Initial Context Setup request message to the eNB).
The main reasons for the establishment of the AS-security are 1) the support
of mobility and 2) the ability of the UE to reliably activate the U-plane
bearers if needed.
##### 5.1.1.3.2.4 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-1 .H6}
The base optimization of not establishing AS security is similar to 5.1.1.3.1.
This solution does not describe the possibility of HSS subscription
information and MME redirection that are possibilities in this solution
therefore the impact of those aspects are not included here.
NOTE: This evaluation does not include the general T5 small data evaluation.
See clause 5.1.1.3.3 for T5 small data.
Impacts on MME:
\- indicate \"small data\" capability to UE on Attach/TAU (depending on SA2
conclusion on solution option, this could be an indication of SMS CP
optimization, or NAS-small-data, or general \"no U-plane bearers\");
\- handle \"small data\" transaction (including reception of UL NAS PDU,
decryption, encrypting and sending to DL NAS PDU to UE, indicate \"small
data\" in page when DL received for an idle UE). Depending of type of NAS PDU
forward to appropriate destination e.g., SMSC, LCS GMLC/eSMLC, MTC-IWF).
\- and if \"5.1.1.3.2.3.2 Further Optimization: RRC security aspects\" is
supported, the MME needs to determine if AS security is establish, but not
U-plane bearers. If so, handling of handle \"small data\" transaction would
instead indicate to RAN to establish AS security but no U-plane bearers.
\- possibly detecting \"small data\" abuse and directing UE to full Service
Request.
Impacts on UE:
\- indicate \"small data\" capability on Attach/TAU (depending on SA2
conclusion on solution options, this could be an indication of SMS CP
optimization, or NAS-small-data, or general \"no U-plane bearers\".
\- application triggers \"small data\" transaction when only 1 IP packet needs
to be sent.
\- handle \"small data\" transaction (including initiate UL NAS PDU session
for signalling type (e.g., SMS/LCS/T5); indicate termination of DL NAS PDU
session, receive page with \"small data\" indication, page response for
\"small data\").
Impacts on RAN:
\- Handle \"NAS small data\" session (including UE \"small data\" request in
RRC ConnReq, bypass UE measurement reporting; not establishing DRBs, indicate
\"small data\" in page, and UE indication of termination of DL \"NAS small
data\" session).
\- and if \"5.1.1.3.2.3.2 Further Optimization: RRC security aspects\" is
supported, determine if MME indicated AS security is establish, but not
U-plane bearers.
##### 5.1.1.3.2.5 Solution evaluation {#solution-evaluation-1 .H6}
The solution is describing a complete solution for a more resource efficient
SMS transfer. The usage for small data in general is only a partial solution
as only the NAS part is described.
Benefits:
\- No establishment of U-plane bearers (i.e. no DRBs) and no resource
reservation over the radio interface;
\- Reduced signalling procedures in the core network (no S1-U establishment)
and radio interface.
\- When using the base capability he provided data path is independent from
the UP bearers/RABs and therefore the existing interactions between
connections for signalling only and for signalling+data apply.
\- When AS security option is supported, mobility is supported and U-plane
bearers are not established so there are signalling and radio savings, but not
as much as when AS security is not established. This can be a general
optimization for services (e.g., SMS and LCS) that require signalling only and
not U-plane bearers.
Drawbacks:
\- Modifications to the existing interfaces and nodes are needed.
\- MME required to queue DL data together with the paging when UE is idle.
This could be lengthy, e.g. 30 seconds, if paging retransmissions.
\- separate API calls to be used if the application has to select the data
path.
##### 5.1.1.3.3 Solution: Standalone Small Data Service with T5/Tsp and
generic NAS transport
##### 5.1.1.3.3.1 General {#general-2 .H6}
Carrying small volume of service data in signalling (e.g. NAS/T5/Tsp message)
is an efficient way which can reduce the allocation of U-plane resources and
radio resources. For the CN side, there is no need to allocate resources for
PDN/PDP context connection and no need to restore some U-plane bearer context
(e.g. S1-U bearer), since the small data goes through NAS signalling using the
generic NAS transport messages. For the RAN side, future enhancement can be
taken to avoid establishing DRB (Data Radio Bearer), and if applicable the
small data can use the SRB (Signalling Radio Bearer).
The standalone Small Data Service is a bearer service with service access
points in the UE and at Tsp. A protocol for Small Data Transmission (named SDT
protocol in the context of the present document) is introduced to carry small
data units of various users of that small data service. An already existing
protocol may be adopted for the SDT protocol to ease adoption by applications.
The SDT protocol spans between service access points in the UE and the SCS/AS.
Any service data exchange between UE and AS needs to go through the MTC-IWF
and the SCS. The small data transfer can be provided as confirmed or
unconfirmed delivery service.
Each SDT PDU indicates sender and receiver IDs, i.e. the provided service is a
connection-less service where each PDU provides all information needed for
routing and transferring each PDU independently. Further, each SDT PDU may
indicate sub-addresses for sender and/or receiver and allows for encryption
and/or integrity protection. The sub-addresses indicate, for example, the
addressed service user or application on a UE. This could be a port number,
but also a name string.
When transferring between the UE and the MME/SGSN, the SDT-PDU is encapsulated
in a Generic NAS PDU, with the protocol type set to \"SDT (Small Data
Transmission)\". In E-UTRAN, Generic NAS Transport message can be used to
carry small volume of service data (e.g. MTC specific small data). Similar
mechanism can be defined for UTRAN. These details may require more stage 3
considerations.
When transferring between the MME/SGSN and MTC-IWF, the small data is
encapsulated in a PDU of the T5‑AP. A T5 transport association is established
at the time when the MME receives the uplink SDT, or when the MTC-IWF receives
the downlink SDT. Such associations may also last longer and might be used for
all UEs that have the same MME-IWF pair. For uplink transfer the MME/SGSN
determines an MTC-IWF from the SDT-PDUs\'s receiver ID. For downlink transfers
the MTC-IWF determines the serving node address by resolving the receiver ID
of the SDT-PDU via HSS interrogation.
The header of an SDT-PDU identifies the \"SENDER\" and the \"RECEIVER\" of the
PDU. For M2M messaging MO case the sender is the UE (UE internal ID e.g.,
IMSI, MSISDN, or UE external ID) and the receiver is the SCS or AS. For M2M
messaging MT it is vice versa. The IMSI is used as UE ID only 3GPP system
internally. On receiving an MO SDT-PDU, the MTC-IWF finds the SCS as indicated
by the \"RECEIVER\" field in the SDT-PDU, and then forwards the SDT-PDU to
that SCS over Tsp interface.
The SDT-PDU may be encrypted and/or integrity protected. Integrity protection
in the form of a signature would allow any node on the path to check the
authenticity of the PDU once this node has access to the data (e.g. keys)
necessary for validating the signature, which is for SA3 to define, e.g. using
a public key infrastructure.
Barring services are not needed as all small data units are always routed via
an MTC-IWF of the home operator network giving the home operator full
awareness about any service usage. Barring is only needed when a UE can use
services in a visited network without direct control by the home operator,
i.e. when service traffic is not routed through the home network. When using
Tsp other than from hPLMN would be permitted, barring could be a subscription
option.
NOTE: The procedure flow below show interactions between SDT user (an
application) and UE, which are only for describing logical functionality (e.g.
via an internal API) and are not intended to describe any specific
implementation of device internal functionality.
##### 5.1.1.3.3.1.1 Procedure flows {#procedure-flows .H6}
The following procedure flows don\'t show details of RRC and NAS security
handling. The used mechanisms use of the established NAS security context to
transfer the small data in encrypted/protected NAS PDUs without establishing
DRBs or RRC security.
**Uplink MTC SDT:**
The figure below illustrates the uplink SDT through control plane channel on
T5 and Tsp.
Figure 5.1.1.3.3.1.1-1: uplink SDT procedure
1\. An application of the UE requests the transfer of an SDT-PDU. The
application performs any wanted security functions, e.g. integrity protection
of the PDU.
2\. The SDT-PDU is sent in an NAS message to the SGSN/MME. Protocol type of
NAS PDU is set to \"SDT\".
The SDT-PDU includes header and payload data. Within the header, if not
already done by the application, the UE fills the \"SENDER\" field with its
MSISDN (if known) or External ID (if known) and places SCS/AS ID in the
\"RECEIVER\" field. The sub address field may include the identity of the
application. The UE performs any wanted security functions, i.e. integrity
protection and/or encryption, if not already done by the application.
NOTE 1: In E-UTRAN, UPLINK GENERIC NAS TRANSPORT message may carry an SDT-PDU.
For 3G access, a similar mechanism can be defined. Or an existing GMM message
may be extended to carry SDT-PDU.
3\. On receiving the SDT-PDU, the SGSN/MME verifies the sender ID. If the SDT-
PDU contains no sender ID, the SGSN/MME adds a sender ID. If the subscription
doesn\'t require home-routing, the SGSN/MME determines the destination for the
SDT-PDU by interrogating the HSS for the SDT Receiver ID and finds thereby the
appropriate MTC-IWF. If the subscription requires home-routing, the SGSN/MME
determines the appropriate MTC-IWF from the UE\'s IMSI or sender ID. The
SGSN/MME then sends the SDT-PDU to the MTC-IWF over T5 interface using the
T5-AP protocol.
4\. The MTC-IWF determines the SCS/AS using the \'RECEIVER ID\' field in the
SDT-PDU header, and forwards the SDT-PDU or SDU to the SCS/AS using Tsp-AP.
Before forwarding the message MTC-IWF replaces IMSI (if indicated as sender
ID) with MSISDN or External ID as \'SENDER ID\'.
5\. On receiving the SDT-PDU the SCS/AS may verify the message integrity. The
SCS/AS returns an appropriate response, i.e. a Tsp-AP-PDU-Ack to confirm the
Tsp transfer of the SDT-PDU or the SDU, if an acknowledgment is requested.
6\. If an acknowledgement is requested, the MTC-IWF sends a T5-PDU-Ack to the
SGSN/MME
7\. The SGSN/MME sends an NAS-PDU-Ack to the UE.
8\. The UE confirms the SDT-PDU or the SDU transfer to the application.
**Downlink MTC SDT:**
The figure below illustrates the downlink MTC data transmission through
control plane data exchange.
Figure 5.1.1.3.3.1.1-2: downlink SDT procedure
1\. The SCS/AS sends a downlink small data SDT-PDU including the receiver UE
ID and possibly a receiver sub-address to the MTC-IWF. The SCS/AS identifies
the UE by its External Identifier. The SCS/AS indicates whether a delivery
confirmation is required and possibly the message lifetime.
2\. On receiving downlink small data SDT-PDU from the SCS/AS, the MTC-IWF
first interrogates the HSS for routing information (i.e. serving SGSN/MME
address), if a T5 association is not already established. Such associations
may also last longer and might be used for all UEs that share the same
MME/SGSN-IWF pair. In this case the MTC-IWF may store the serving node address
instead of a T5 association per UE. The IMSI of the UE is also retrieved to
enable the SGSN/MME to determine the UE.
The MTC-IWF also verifies with the help of the HSS whether the originator of
the SDT-PDU is allowed to send small data to the UE.
3\. The MTC-IWF sends SDT-PDU together with an indication whether a delivery
confirmation is needed and possibly a lifetime of the message to the serving
SGSN/MME over T5 interface using T5-AP protocol. The IMSI of the UE is also
included in the T5-AP message.
4\. The SGSN/MME sends the SDT-PDU over NAS to the UE. The SGSN/MME needs to
page the UE when in idle mode.
5\. The UE sends the SDT-PDU or the SDU to the application indicated by the
sub-address (e.g. port ID).
6\. The application may verify the integrity of the SDT-PDU and confirms its
transfer to the UE, if confirmation is requested.
7\. The UE confirms the SDT-PDU transfer towards the SGSN/MME.
8\. The SGSN/MME confirms the transfer towards MTC-IWF.
9\. The MTC-IWF confirms the transfer towards SCS/AS.
If the SGSN/MME cannot deliver the PDU, e.g. because the UE is not reachable,
it indicates this to the MTC-IWF. If the MTC-IWF stores the PDU once the
lifetime permits, the MTC-IWF registers for being informed when the UE becomes
active. The MTC-IWF indicates to the SCS/AS that the PDU is not delivered but
stored and allocates a reference number and indicates it also to the SCS/AS.
NOTE 2: In E-UTRAN, DOWNLINK GENERIC NAS TRANSPORT message may carry an SDT-
PDU. For 3G access, a similar mechanism can be defined. Or existing GMM
message may be extended to carry small data PDU.
##### 5.1.1.3.3.1.2 Roaming considerations {#roaming-considerations .H6}
In roaming scenarios it is useful to use the services of a visited MTC-IWF in
the VPLMN for the following reasons: filtering of delivered data units and
provide inter-operator charging. This visited MTC-IWF can filter and check
terminating messages before forwarding to the serving CN nodes. For
originating messages it may perform the message the protection, specifically
for SDT-PDUs that are delivered via other PLMNs and thereby it avoids that
every SGSN/MME need to provide such functionality. The 3GPP system internal
message protection and filtering may be limited to scenarios where serving
node and originating/terminating MTC-IWF are in different PLMNs, assuming PLMN
internal links can be protected differently and don\'t require separate per
message protection of the identity of the entity via which the message enters
the 3GPP system.
To accomplish such a 3GPP system internal message protection for roaming
scenarios, for MO small data the serving nodes of the vPLMN are configured
with a vPLMN MTC-IWF to forward all MO small data from roaming UEs to that
MTC-IWF for processing charging or message protection. The vPLMN MTC-IWF acts
then as described for the serving node. For MT small data the visited PLMN
serving nodes register the address of a visited MTC-IWF at the HSS. The
visited MTC-IWF is then in the data path, checks and verifies messages and
forwards messages to the actually serving nodes. The figure shows the
configuration of MTC-IWFs for providing message protection in inter-PLMN
scenarios, i.e. without configuring the serving nodes for performing message
protection.
NOTE 1: In case no visited MTC-IWF is deployed in the VPLMN, message
verification and integrity checking may be provided by the serving nodes.
Figure 5.1.1.3.3.1.1-3: message routing in roaming scenarios
##### 5.1.1.3.3.1.3 Protocol stack for T5 interface {#protocol-stack-
for-t5-interface .H6}
Similar to the SLs protocol used by E-SMLC to communicate with the MME
(described in TS 29.171 SLs specification) for LCS services, a T5-AP protocol
can be defined for the communication between MTC-IWF and SGSN/MME.
The SDT protocol is the application layer protocol for MTC equivalent to
LPP/LPPa in LCS and can be transparent to MME/SGSN/MSC. The T5-AP can
potentially provide both connection oriented, but also connectionless
communication (similar to LCS) between the nodes that can relay messages.
Following figure illustrates the protocol stack for the T5 reference point
with showing HTTP or CoAP as SDT user examples, carried by SDT.
Figure 5.1.1.3.3.1.2-1 Protocol stack for SDT data transfer with CoAP/HTTP
example
##### 5.1.1.3.3.1.4 Charging {#charging .H6}
Charging can be provided on a per SDT basis. The MTC-IWF and SGSN/MME
generates CDRs taking into account successful and unsuccessful delivery of SDT
as far as possible. As any SDT-PDU may be routed via MTC-IWFs in visited and
home PLMN charging may be performed by the MTC-IWFs only. In addition the
total amount of transferred data may be counted, which is useful as the
supported large message size allows for quite different resources usage.
Shorter messages consume less system resources.
##### 5.1.1.3.3.1.5 Lawful interception {#lawful-interception .H6}
Lawful interception is supported by this solution. Possibly the MTC-IWF and
SGSN/MME can provide related functionality for lawful interception. Similar to
charging, the SDU-PDU routing via MTC-IWFs allows for lawful interception at
MTC- IWFs only (i.e. not in serving nodes).
##### 5.1.1.3.3.1.6 Capability handling {#capability-handling .H6}
UE and the serving node exchange information on their ability to support the
Small Data Service when the UE registers with the network (i.e. during EPS
Attach, Tracking Area Update, GPRS Attach and Routeing Area Update). When both
the serving node and UE support the Small Data Service, the serving node
registers Small Data Service capability with the HSS (i.e. in Update Location
request upon initial attach, TAU or RAU). The HSS stores it and provides the
serving node ID on request to the MTC-IWF when the capability is supported.
##### 5.1.1.3.3.1.7 Support of IP as SDT user protocol {#support-of-ip-as-sdt-
user-protocol .H6}
Stateless IPv6 address autoconfiguration is used when T5 messaging is used to
carry IP datagrams. For using IPv6 the UE sends an SDT message carrying a
Router Solicitation message to the IWF. The IWF sends an SDT message carrying
a Router Advertisement message to the UE. The Router Advertisement messages
contain the IPv6 prefix, which the UE uses to construct a full IPv6 address
via IPv6 Stateless Address autoconfiguration in accordance with RFC 4862. This
provides a best effort QoS default bearer for small data usage. The charging
for messaging services applies as described below. Further recommendations and
restriction may apply from the description of stateless IPv6 address
autoconfiguration in TS 23.401 [6]. The PDN that is made available using T5
messages is provisioned in the MTC-IWF. Different PDNs may be provided for
different UE by using separate MTC-IWFs or based on IMSI ranges, for example.
The provided IP connectivity may be restricted by configuration of filters or
security functions to specific protocols, addresses or security associations.
NOTE: The support of IP as SDT user protocol is not considered for Rel-12. The
here described IP support functionality is not necessarily complete.
##### 5.1.1.3.3.1.8 Message protection and filtering {#message-protection-and-
filtering .H6}
Message protection enables filtering of messages based on the entity or PLMN
ID via which the message entered the 3GPP system, e.g. for dropping messages
that are protected by unknown entities or that stem from PLMNs with which no
relation exists. For MO messages the serving node protects the message so that
the MTC-IWF can verify before delivery, which serving node or PLMN accepted
the message for delivery. For MT message the MTC-IWF protects the message so
that the serving node can verify before delivery to the UE, which MTC-IWF or
PLMN accepted the message for delivery.
The design of the related means is for SA3. It is beneficial to consider
mechanisms, which also external entities like the SCS or applications can
adopt so that message filtering may consider also 3GPP external entities for
performing message filtering based on the origin of messages. In this case the
3GPP entities, via which a message entered the 3GPP system, can filter the
messages instead of protecting the messages.
The protection and filtering functions described for serving nodes may be
provided by an MTC-IWF as described under \"5.1.1.3.3.1.2 Roaming
considerations\".
##### 5.1.1.3.3.1.9 UE to UE message transfer {#ue-to-ue-message-transfer .H6}
UE to UE message transfer is accomplished by concatenating MO and MT message
transfer. As the MTC-IWF is not necessarily the same for originating and
terminating UEs a UE to UE message transfer may include a message routing from
one to another MTC-IWF.
The MTC-IWF of the originating UE interrogates the HSS for the receiver ID to
determine the MTC-IWF of the terminating UE. The external ID format is
clarified to enable determining an HSS. Or, a separate UE identifier is
introduced for this. The first may be preferred to keep the overall amount of
HSS and subscription data reasonable. Also as the serving node needs to store
and handle the originating UE ID for adding to an originated message or
verifying a UE provided sender ID to prevent spoofing.
NOTE: Whether UE to UE message transfer is part of the overall functionality
is to be concluded during normative work, if normative work on the overall
functionality gets concluded.
##### 5.1.1.3.3.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-2 .H6}
Impacts to UE:
\- Support SDT service, including offering that service to different
users/applications on UE
\- Optionally, support of SDT security functions.
Impacts to SGSN/MME:
\- Support the SDT service, including:
\- SDT PDU encapsulation/decapsulation in/from the NAS signalling messages.
\- Identify/resolving the MTC-IWF and other entities terminating SDT protocol
and implementing the related transport interface(s).
\- Support transfer of SDT PDU from/to the MTC-IWF over T5 interface.
\- Optionally, support charging for SDT.
\- Optionally, support lawful interception.
\- Optionally, support of SDT security functions.
Impacts to MTC-IWF
\- Implement T5 interface towards SGSN/MME or to another MTC-IWF for roaming
scenarios.
\- Identify/resolve the SGSN/MME or MTC-IWF for forwarding the SDT PDU over T5
SDT-AP messages.
\- Support transfer of MTC data/MTC PDU from/to the SCS using Tsp-AP.
\- Mapping of UE internal identifier to external identifier and vice versa.
\- Support charging for SDT.
\- Support lawful interception.
\- Optionally, support of SDT security functions.
\- Possible \"small data\" usage control.
Impacts to SCS/AS:
\- When an application cannot carry all its data via this small data service
it may need to determine whether to use data transmission is via UP or via Tsp
path.
##### 5.1.1.3.3.3 Solution evaluation {#solution-evaluation-2 .H6}
The NAS optimizations resulting in less RRC signalling are basically the same
as above under \"5.1.1.3.1 Solution: SDT starting from RRC IDLE (E-UTRAN)\".
The provided data path is independent from the UP bearers/RABs and therefore
the existing interactions between connections for signalling only and for
signalling + data apply. In addition an option for SMS CP layer optimization.
This solution may need a specific API procedure call for small data to
transfer (comparable to SMS). When an application cannot carry all its data
via this small data service it may need to use different API procedure calls,
for IP bearers and for messaging.
The solution is targeting an efficient transfer of infrequent application
messages similar to SMS. The small data messages may carry any wanted
protocol. The main usage is for carrying application protocol messages.
##### 5.1.1.3.3.3.1 Benefits {#benefits .H6}
T5 small data solution provides following benefits:
\- Supported message size of up to possibly 1kB. The actual maximum message
size is assumed to be constrained by the RAN design, e.g. by the preference to
transfer a single small data message in a single RRC message.\ The supported
message size enables more usage scenarios and improves resource efficiency,
e.g. it can avoid the establishment of the user plane as a complete
application level message can be transferred, specifically for usage scenarios
that can satisfy all their communications via the T5 small data service. When
comparing to transfer in multiple SMS it reduces the amount of delivery
messages.
\- T5 small data has a flexible payload size from 1 byte to maximum payload
size. Also charging is flexible, which can be per message, but can also
consider the size of the payload, e.g. for encouraging efficient use of
resources. The total amount of data transferred by T5 small data service can
be calculated from the CDRs.
\- The RRC and S1 handling is not further detailed. However compared to a UP
transmission the same gains can be derived as described for \"5.1.1.3.1
Solution: SDT starting from RRC IDLE (E-UTRAN): Use of pre-established NAS
security context to transfer the IP packet as NAS signalling without
establishing RRC security\". i.e. for the transfer of a single uplink small
data unit the radio interface messages can be reduced from 12 to 6 and the
messages for the serving nodes from 8 to 4. This result in reduced latency and
less power consumption, especially as only the permanent NAS security
association is used and not the RRC security that is re-initialized for every
idle to active transition.
  * \- The T5 small data service offers improved efficiency for multiple different usages, like for device triggering or any infrequent small data application. E.g. push services or polling M2M devices may be supported without the need for continuously maintaining the downlink user plane path by keep alive signalling or other means. Usage for small data applications can considerably reduce resource consumption in UE, network and SCS/AS. The SCS/AS no longer needs to maintain an IP session per UE, but only needs to maintain an IP session per MTC IWF. This is especially an advantage when there are large amounts of UEs per SCS/AS. Ensuring the 24/7 IP session availability as needed by many M2M applications also requires functionality to deal with dropped EPS connections, re-attaching UEs, et cetera. With T5 small data service, this can be avoided.
\- The T5 small data service includes security functions that allow receiver
and transfer nodes to verify integrity of the data units and thereby providing
a strong protection against fake or erroneous small data deliveries.
Specifically the capability of the transfer nodes to verify small data
integrity is advantage as it enables to discard small data before delivering
to UEs. The provided security functions may also be used by the users of the
small data service, e.g. by applications end-to-end.
\- The T5 small data service provides flexible addressing means for devices
and also users/applications on devices, e.g. allowing for identifying
applications on UEs by names without a need for defining and maintaining
mapping functionality for shorter sub-IDs like application or port numbers.
\- The T5 small data service is a standalone solution, independent of other
transmission services, such as SMS/IP transmission. This solution provides
uplink and downlink small data transfer without the need for allocation of an
MSISDN. The uplink/downlink small data transfer when the IP user plane
transmission is not available, e.g. due to related bearers failed or are not
yet allocated or due to other issues such as: lack of IP address resources,
NAT traversal, IP keep-alive, etc. which all do not apply to this solution.
##### 5.1.1.3.3.3.2 Drawbacks {#drawbacks .H6}
It introduces a new delivery service with all the related efforts, like:
\- impacts to UE, MME/SGSN, HSS and MTC-IWF;
\- new function for SCS or AS to use the T5 small data service;
\- requires related charging functionality and possibly a new subscription
type;
\- may require specific inter-operator roaming agreements;
\- service usage in roaming scenarios depends on whether the visited PLMN
deploys the functionality;
\- MME required to queue DL data together with the paging when UE is idle.
This could be lengthy, e.g. 30 seconds, if paging retransmissions;
\- separate API calls to be used if the application has to select the data
path. When the application requires higher volume data it may need to use both
data paths in parallel;
\- if applications use small data and UP path then those need to interface
with the 3GPP system via SGi and Tsp and may need separate security
associations for each interface.
##### 5.1.1.3.4 Solution: Stateless Gateway for cost efficient transmission of
infrequent or frequent small data
##### 5.1.1.3.4.1 General {#general-3 .H6}
##### 5.1.1.3.4.1.1 Introduction {#introduction .H6}
Existing EPS procedures are not optimized for low cost delivery of infrequent
short transactions. Especially they involve either too much signalling when
such devices wake up from time to time just to send a very small number of
packets and/or require permanent allocation of resources in the EPC user plane
(SGW and PGW):
\- with the proliferation of MTC devices and smart-phones, there is a need to
improve the efficiency of device re-activation, i.e., to reduce the network
resources needed to support device re-initiation of data transmission after a
quiescent period;
\- EPC requires that significant state information be maintained in two data
gateways (S-GW and P-GW) for each registered device. With a huge increase in
the number of MTC devices expected in the network, there is a need to reduce
the number of gateways required for the most common devices and to reduce the
amount or duration of state information retention in these gateways.
It is proposed to define a cost efficient data transmission scheme, via a
stateless gateway and reduced signalling, when the following assumptions can
be met. For example, MTC devices and devices that only need an internet
connection are likely candidates:
1\. the APN to be used by the device is reachable from the VPLMN;
2\. the device does not require a reachable IP address when the UE is idle,
i.e. when it is acceptable that the device becomes unreachable unless it opens
a transport connection (e.g. upon device triggering);
3\. the device requires access only to best effort data transport (or to
static QoS), i.e. only one bearer exists for the attached APN;
4\. the device registers for access to only one APN and bearer at a time;
5\. the device registration and range of mobility with IP address preservation
may be limited to a (set of) MME.
The UE will fallback to existing EPC procedures if the device is outside areas
supporting this solution or if the device needs connectivity to more than one
APN or bearer at a time.
The solution relies on **two main principles** :
1\. Elimination of signalling between the controller entity of the mobile
network (MME) and data forwarding gateways (S-GW/P-GW) prior to the start of
data transmission after a quiescent period by providing the required control
information from the base station (eNB) to the data forwarding gateways
together with the first data packets from the device;
2\. Avoid retaining any long term device specific state information in the
data forwarding gateway by transferring the necessary data from the MME to the
gateway via the eNodeB only for periods of data transmission.
##### 5.1.1.3.4.1.2 Stateless combined {#stateless-combined .H6}
The solution relies on instantiating and maintaining device specific state
information in the Combined GateWay (CGW) only for users actively engaged in
user data transmission and eliminates signalling between the MME and CGW. per
the following principles described within the context of an Attach procedure.
Figure 5.1.1.3.4.1.2-1: Attach procedure
1\. During the E-UTRAN attach procedure at Step 12 when the network supports
the reduced bearer signalling and the default APN for the UE is identified as
applicable for stateless CGW, the MME selects a combined S-GW/P-GW (CGW)
associated with the requested APN and assigns the device an APN-wide private
IPv4 address or an IPv6 global unicast address among a pool of addresses
locally provisioned for the requested APN and for the combined S-GW/P-GW (CGW)
that is assigned to the device. MMEs are provisioned with non-overlapping
ranges of IPv4 private address or/and IPv6 global unicast addresses, per CGW
and APN, across MMEs. _This is a new way of assigning an IP address to the
device instead of the current S5/S8 Create Session procedures in steps 12-16.
As a result the CGW does not need to remember the IP address assigned to the
UE for the lifetime of the E-UTRAN attach or lifetime of the PDN connection,
as in current procedures._
2\. The MME assigns a combined S-GW/P-GW (CGW) associated with the APN to the
UE as in the current E-UTRAN attach procedure except that all messages between
the MME and CGW are deleted (steps 7, 10, 12-16, 23-24). The MME is
provisioned with any information it needs about the CGW and APN locally so
that it does not need to contact the CGW for device specific procedures
(instead current procedures where it would be received in Step 16). The MME
also ensures that the CGW is available (e.g. periodic keep-alives). _No state
information about the device is retained in the CGW as a result of the E-UTRAN
attach procedure._
3\. The MME provides protocol configuration options (PCO) to the device during
the attach procedure at Step 17, based on provisioned information about the
requested APN. _This differs from the usual procedure in which the MME
retrieves the PCO from the S-GW/P-GW during the attach procedure at Step 16._
4\. Each MME is provisioned with a (set of) destination IP address(es) for
tunnelled uplink data packets for each CGW (i.e. CGW\'s S1-U IP addresses).
Different APNs may share these addresses. The MME passes this IP address to
the eNB during each Service Request procedure. _This is a change from current
procedures in which the CGW provides this tunnelled uplink data destination IP
address to the MME during the attach procedure._
5\. At Step 17, the MME assigns to each device an uplink data TEID that is
unique to each device within a given service area of an APN in which the
device can remain continuously attached. The service area is covered by one or
more MMEs. _Normally the S-GW assigns the uplink data TEID for the APN at Step
16._ As a result, the CGW does not need to retain information about uplink
data TEID assignment for the device for the duration of the data attach.
Assignments can be made unique across MMEs by assigning non-overlapping ranges
of TEIDs to each MME for assignment. As in current procedures, the MME passes
this uplink data TEID to the eNB with each Service Request from the device for
use in every uplink tunnelled data packet to the CGW. When moving outside of a
given service area, the device may receive a new TEID from a different,
overlapping pool of numbers in that area.
6\. At Step 17, the MME provides any additional information to the eNB that it
needs to include in the first tunnelled uplink data packets towards the CGW.
When the device has data to send and initiates the UE triggered Service
Request procedure, the first tunnelled uplink data packets include additional
information in extension headers as needed for the CGW to perform the
necessary functions for the device. This type of APN supports only a limited
range of functions so only needs a few pieces of information to handle traffic
for the device. The additional information provided by the eNB includes the
eNB transport address and TEID (as per the first main aspect), a device ID
needed for charging functions on the CGW, LI indicators as needed, and
location information as needed for charging or LI. During the attach request
and Service Request procedures, the MME can provide any additional information
that the eNB needs to include in the first tunnelled uplink data packets
towards the CGW. All information needed to re-establish the uplink and
downlink data tunnels has been exchanged without requiring the CGW to maintain
any device specific state information during periods of time when the device
has no active radio bearers.
7\. Upon receipt of uplink data packets from the device at Step 21a, the CGW
creates a device context to store all the control information provided in
extension headers in the first tunnelled uplink data packets together with the
device IP address to support all necessary CGW functions for the device. The
CGW maintains the device context for at least as long as the radio bearers are
configured to remain active after the last known uplink or downlink data
packet for the device and then releases all state information associated with
the device. Step 24a: The CGW can forward data packets received from the
network towards the device as downlink data only as allowed by device contexts
established during handling of uplink packets. When the device is idle and
there is no device context in the CGW, network packets received at the CGW are
discarded. If the CGW forwards network packets to the eNB after the device
radio bearers go inactive, the eNB discards them.
Editor\'s note: It is for further study to determine if DL data can be sent to
an idle UE. For example, when the device is idle, the CGW could possibly
deliver downlink data packets to the device even after the device context
information is released in the CGW by sending a downlink data notification
message including the device IP address to identify the device towards the MME
owning the device\'s IP address. The MME would need to let the CGW know that
an IP address is used or not (at the setup of the PDN connection) to enable
the CGW to filter out downlink data not associated to any active PDN
connection.
8\. Post Step 26, when the device becomes inactive, the eNB may send a dummy
(zero content) tunnelled uplink data packet to the CGW when the device radio
bearers become inactive with an indication that the device context can be
immediately released (without waiting for the inactivity timer to expire).
This reduces the window of time during which undeliverable data packets might
be sent to the eNB.
9\. When the device moves outside of the service area (MME or CGW) in which it
is attached to the APN, it is forced to re-attach to again access to the APN
available in the new service area. If additional bearers are quested, i.e.,
best effort no longer applies, the MME will deactivate the current PDN
connection and request the device to reactivate the same APN. The MME will
retain UE context while waiting for the UE reactivation. On reactivation the
MME will establish the PDN connection using current procedures.
10\. When the device detaches from EPC, the resources allocated by the MME to
the device (i.e., IP address and uplink data TEID) are returned to a common
pool.
NOTE: An extension could be possible whereby the MME assigns the device a
local IP address that is unique across the MMEs and with NAT support in the
CGW, i.e. with the CGW creating NA(P)T bindings as necessary to translate the
local source address, port and transport protocol combination from the device
into an APN-wide address and port combination with the same protocol. Such an
extension could possibly simplify the configuration by removing the need for
coordinating and partitioning the APN\'s IP address pools among MMEs, would
allow the UE to retain the same local IP address as it moves to a different
CGW or MME and thus also ease service restoration after a network (MME or CGW)
failure, and could mitigate the risk that an MME assigns the device an APN-
wide IP address that would be temporarily unavailable (e.g. failure in CGW).
##### 5.1.1.3.4.1.3 UE Triggered Service Request {#ue-triggered-service-
request .H6}
With only one data bearer for the device for an APN accessible from the
visited network, it is possible to reduce the number of messages required in
the \"UE triggered Service Request\" procedure, as depicted in Figure
5.1.1.3.4.1.3-1.
Figure 5.1.1.3.4.1.3-1: UE Service Request procedure (optimized)
When the eNB and SGW support optimized bearer re-establishment, and there is a
single PDN connection with a single bearer for a UE, the eNB includes the eNB
tunnel identifier (i.e., F-TEID) and CGW context information for the UE
(described in principle 6 above) in the first UL GTP-U packets to the SGW
(until eNB receives a DL GTP-U packet). The eNB sends dummy UL GTP-U packets
(i.e. GTP-U packets without user payload) if no UL traffic is received from
the UE. The bearer is identified in the SGW by the tunnel endpoint identifier
(received in step 4) to which the packet is sent from the eNB to the gateway
as per existing procedures. The receipt of the message at the SGW is
acknowledged with the receipt of the first downlink packet at the eNB (which
may be a dummy downlink data packet with zero content used just for the
purpose of acknowledgment), thus serving the purpose of the modify bearer
response message. The extra information is no longer included in the headers
of subsequent uplink packets.
The eNB sends the S1-AP Initial Context Setup Complete procedure after receipt
of downlink packet from the SGW acknowledging the receipt of the UL GTP-U
packet at the SGW _(like the RNC returns the RAB Assignment Complete message
to an MSC after successful Iu Framing Protocol initialisation with the MGW)_.
This implicitly informs the MME that the bearer was successfully re-activated
in the SGW. Steps 8 - 12 are eliminated.
##### 5.1.1.3.4.1.4 Changes to other procedures {#changes-to-other-procedures
.H6}
**Attach, Tracking Area Update, Handover, Service Request, Detach** : The
create session request and response messages, the delete session request and
response messages, and the modify bearer request and response messages are
removed from the associated procedures that are relevant to the APNs.
**Handover when device remains in the serving area** : During handover
procedures, the modify bearer request and response messages over S11/S4 are
also removed. The MME never contacts the CGW during handover. The purpose of
these messages in current procedures is primarily to inform the S-GW of the
target eNB transport address and TEID for tunnelled downlink data packets to
be sent after handover. The target eNB now performs this function by sending
dummy (zero length user data payload) tunnelled uplink data packet(s) to the
CGW, with tunnel header formed exactly as described above for the first uplink
data after a Service Request, until acknowledged by a downlink data packet
(which may be a dummy downlink data packet with zero content used just for the
purpose of acknowledgment).
**Handover when device moves outside the serving area** : The old MME re-
evaluates whether this new mode of operation is supported in the new tracking
area. For an Inter-MME TAU procedure the new MME will query the old MME (via
GTP Context Request/Response); the old MME will likely have to reject the
Context Request since the device\'s IP address is specific to each MME (unless
principle 10, note 2 IP addressing is used).
**Detach** : During the detach procedure, the MME releases resources assigned
to the device, including its IP address and uplink data TEID.
##### 5.1.1.3.4.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-3 .H6}
\- eNB:
\- support GTP-U header extensions (S1-U);
\- when sending NAS or HO related messages to MME indicate support of
optimized signalling (S1-MME);
\- on X2 HO, include the SGW support indication to the target eNB (X2).
\- receive new control information from S1-MME (e.g. APN ID code)
\- CGW:
\- obtain control signalling information (i.e., eNB TEID) from GTP-U header
received from S1-U.
\- device context instantiation upon receipt of uplink traffic, and device
context release upon user inactivity;
\- MME:
\- assignment of IP address, CGW\'s S1-U IP address and TEID during E-UTRAN
attach when the criteria described in 5.1.1.3.4.1.1 are met;
\- pass new control information via S1-MME (e.g. device ID)
\- S11 signalling removed during related attach, tracking area update,
handover and detach procedure;
##### 5.1.1.3.4.3 Solution evaluation {#solution-evaluation-3 .H6}
Editor\'s note: The benefits and drawbacks below are not yet reviewed or
agreed. They are kept here only to stimulate thought.
##### 5.1.1.3.4.3.1 Benefits {#benefits-1 .H6}
\- reduction in the long term state information to be retained in the packet
gateways;
\- reduces MME/SGW signalling to resume uplink or downlink data transmission
for a UE in idle mode and during handover;
\- supports IP-based SDT (i.e. UE still allocated an IP address);
\- small data packets do not cross Control Plane entities (i.e. MME, SGSN);
\- small data volume upper limit only constrained by radio design;
\- suitable for frequent and infrequent SDT, including bursty transmissions;
\- no UE impact (assuming no IP address formats);
##### 5.1.1.3.4.3.2 Drawbacks {#drawbacks-1 .H6}
\- Limited to UEs with a single PDN connection and single bearer and
conditions described in clause 5.1.1.3.4.1.1 are met.
\- Extra intelligence in the CGW to instantiate and release device contexts
for active user plane connections and to update device contexts with RAN
address upon inter-eNB/RNC mobility;
\- Although signalling is reduced, idle-to-connected transitions are required.
##### 5.1.1.3.5 Solution: Downlink small data transfer using RRC message
##### 5.1.1.3.5.1 General {#general-4 .H6}
The solution addresses the Key issue \"Efficient Small Data Transmission\" for
a UE in idle mode.
It causes too much signalling to use Service Request procedure to transfer
down link small data/device trigger to idle mode UE. This solution
particularly focuses on the optimization of small data transfer from MME to
UE.
When MME receives small data packet from SGW (according to clause 5.1.1.3.1)
or MTC-IWF (according to clause 5.1.1.3.3), if the target UE is in idle mode,
downlink small data transfer from MME to UE can be optimized as follow. The
MME sends the small data to eNodeBs via S1-AP Paging message, and _One-shoot-
Paging_ procedure is used by eNodeBs to deliver the small data to the UE.
After receiving the S1-AP paging message containing the small data, eNodeBs
buffer the small data and co-relate it with the S-TMSI. Then eNodeBs page UE
and start a paging timer. A \"small data flag\" could be added in paging
message to indicate UE that the paging is to transfer downlink small data and
Service Request procedure is not needed. After the UE responds with RRC
Connection Request message, the eNodeB retrieves the small data according to
the S-TMSI included in the RRC Connection Request message, encapsulates the
small data in the _DedicatedInfoNAS IE_ , and puts this IE in the RRC
connection setup message. The UE responds with the RRC connection setup
complete message, which contains an NAS PDU to acknowledge the reception of
the small data. The eNodeB forwards the NAS PDU to MME via a S1-AP message.
When the paging timer expires, eNodeBs can discard buffered small data.
In order to security protect the small data, MME/UE could use the existing NAS
security context to encrypt / decrypt the small data packet and ACK message.
Editor\'s note: How to provide security protection for small data in 3G system
and for downlink small data in LTE system is FFS. Whether sending small data
to all eNodeBs in the TA list cause security issues or not is FFS.
UE and network could negotiate about this optimized small data transfer
solution during Attach and TAU/RAU procedure according to subscription data
and UE\'s request.
The signalling procedure of LTE system is described below. The figure shows
two alternatives of small data transfer path within core network: transfer
path via SGW/PGW and transfer path via Tsp/T5.
Figure 5.1.1.3.5.1-1: Downlink small data transport procedure for UE in idle
mode
1\. The MME receive the small data.
1a. The SCS submits the small data packet to MTC-IWF through Tsp interface,
and provides the external identifier for the target UE, application ID, and
application data. The MTC-IWF checks if the SCS is authorized to send small
data. If yes, MTC-IWF queries HSS with external identifier for serving node
information and IMSI. MTC-IWF sends small data packet together with IMSI to
the serving MME through the T5b interfaces; or:
NOTE: If the identifier mapping is stored in MTC-IWF, MTC-IWF can query HSS
using IMSI directly.
1b. when an IP packet arrives in the S-GW, the S-GW buffers the IP packet,
appends it to the Downlink Data Notification and sends it to the MME. The S-GW
monitors whether subsequent packets have arrived for the delivery to the UE
and whether the total size of these packets is greater than the value
configured by the operator\'s policy or subscription. If this is the case the
S-GW sends the Downlink Data Notification to request the establishment of the
S1 bearer(s).
Editor\'s note: FFS how the S-GW determines whether it is a SDT or not.
2\. When MME determines that downlink small data is sent to a UE in idle mode
and the network has no other signalling or data pending, MME encrypts the
small data packet using NAS security context and sends encrypted small data in
a NAS PDU in paging message to eNodeBs. Paging optimization is applied, if
possible, e.g. UE has low mobility characteristic. The MME supervises the
paging procedure with a timer and may repeat the paging according to TS 23.401
[6]. The paging repetition strategy is operator dependent.
3\. eNodeBs buffer the small data, record the corresponding S-TMSI, and page
UE. The addition of \"small data flag\" to the radio interface paging messages
allows the UE to change the RRC establishment cause from \"mt-access\" to
\"mo-signalling\" (or to a new cause value of \"mt-signalling\"). In turn,
this RRC establishment cause allows the eNodeB to optimize its resource
allocation and to not configure the UE for measurement reporting).
One-shoot paging could be used, i.e. eNodeBs only page the UE once, if the UE
does not respond after paging timer is expired, eNodeBs simply discard the
buffered small data packet.
4\. UE sends RRC Connection Request message to an eNodeB to respond to paging
message.
5\. The eNodeB retrieves the small data according to UE\'s S-TMSI,
encapsulates the small data in _DedicatedInfoNAS IE_ , put the IE in RRC
connection setup message and sends it to UE.
6\. After receiving _DedicatedInfoNAS IE_ in RRC connection setup message, UE
decrypts the small data packet and routes the application data to the target
application according to the application ID. The NAS layer in the UE may sends
a small data ACK to confirm the reception of the small data, it is encrypted
and encapsulated in a _DedicatedInfoNAS IE_ in the RRC connection setup
complete message.
Editor\'s note: Evaluation of RRC impacts of step 3-6 are FFS by RAN.
7\. The eNodeB transparently forwards the small data ACK to the MME, drops the
buffered data packet, and release RRC signalling connection.
8\. Upon receipt of the small data ACK , MME sends the Delivery Report to MTC-
IWF or SGW. Subsequent transfer of Delivery Report is not shown in the figure.
If the MME receives no small data ACK from the UE, it may perform the paging
repetition procedure according to TS 23.401 [6].
9\. When the application requests to initiate communication after receiving
the small packet, the UE could send Service Request message to establish PDN
connection or send uplink small data according to clause 5.1.1.3.1, 5.1.1.3.2
or 5.1.1.3.3.If there is no uplink data to transfer, UE could ask eNodeB to
release RRC signalling connection.
##### 5.1.1.3.5.2 Impacts on existing nodes or functionality {#impacts-on-
existing-nodes-or-functionality .H6}
MTC-IWF
\- Impacts due to support T5 based small data also applied here;
MME/SGSN
\- Impacts due to support T5 based small data also applied here;
\- Extension of S1-AP paging message to transfer small data packet.
eNodeB
\- Impacts due to support T5 based small data also applied here;
\- Buffer small data, and delete small data after the timer expired or after
delivery.
\- Extension of RRC connection setup message and S1-AP paging message to
transfer small data packet.
UE
\- Impacts due to support T5 based small data also applied here;
\- Extension of RRC connection setup complete message to transfer small data
ACK
##### 5.1.1.3.5.3 Evaluation {#evaluation .H6}
This solution could also be used to transfer device trigger.
Since more eNodeBs needs to buffer the small data for certain time duration,
and in order to reduce such impacts, this solution is suitable for UE(s) that
belong to smaller tracking area.
Editor\'s note: This clause is not finalised.
##### 5.1.1.3.6 Solution: Small Data Fast Path / Connectionless
##### 5.1.1.3.6.1 General {#general-5 .H6}
The two alternatives described below describes how small data can be passed in
the user plane without disproportionate amount of signalling caused by idle-
connected mode transitions. These alternatives can handle small data of any
frequency with upper volume limit only constrained by radio design. (Small
data for UE in connected mode does not suffer from the problem of excessive
idle-connected mode transitions).
Both alternatives below are based on the principle of providing information to
the UE about the end-point of the PDN Connection or its bearer(s) in the SGW.
The UE can then append this information to small data that is sent UL to the
eNB. The eNB uses the appended information and creates a GTP-U PDU and passes
the small data packet on the S1-U to the SGW. The SGW forwards the received
packet uplink as normal. To allow subsequent DL small data, the eNB also
appends its DL TEID and IP address to the GTP-U PDU in an extension header.
The SGW stores and uses this information for any subsequent DL small data.
There are differences between the two alternatives. The connection less
alternative has the following specifics:
\- Security model is not changed as the eNB performs the encryption function.
The security material is downloaded in the eNB from the core when the UE first
uses the eNB for data transmission and this security context is used for
connectionless data transmission as long as the UE remains under the eNB
coverage (the exact method is to be defined in cooperation with SA3)
\- The UL TEID and the SGW IP address are derived from a _connection ID_ which
is allocated to the UE at bearer set up and maintained via Mobility management
procedures. This connection ID is formatted in such a way to identify the SGW
and the TEID for UL data and the mapping of connection ID to TEID and SGW is
passed to the eNB when security is established. This Connection ID is
sufficient to forward the data in the UL to the correct SGW and TEID.
\- A Bearer connection is either connection less or a normal bearer. It is
decided when the bearer is created whether the bearer can use connectionless
mode of operation. DL Data for connectionless bearers trigger connectionless
paging.
\- A suitable RAN transmission mechanism is to be decided together with RAN
groups.
The Small data fast path alternative has the following specifics:
\- Does security between UE and SGW. Security information is provided by MME
to SGW at session creation. The security solution is FFS by SA3.
\- The UE passes information required for the eNB to forward the small data to
the SGW. The eNB derives the SGW S1-U F-TEID from the SGW Bearer Resource ID
provided by the UE.
\- It operates per bearer and only when a device uses a single bearer. The
information appended to the small data specifies the GTP-U tunnel where the
eNB forwards the data.
\- A bearer can be enabled for Small data fast path. If data arriving in the
UE or the SGW meets the small data criteria (a 5-tuple and a packet limit not
exceeded) it is sent in the fast path, otherwise the data is sent the normal
way by initiating a Service Request.
\- A suitable RAN transmission mechanism is to be decided together with RAN
groups.
##### 5.1.1.3.6.2 Alternative A: Small Data Fast Path {#alternative-a-small-
data-fast-path .H6}
##### 5.1.1.3.6.2.1 General {#general-6 .H6}
The Small data fast path solution is intended to optimize for small data for
UEs in ECM-idle mode. It describes how small data can be passed in a fast path
of the user plane without the disproportionate amount of signalling caused by
ECM-idle ECM-connected mode transitions. The solution proposes a limit for the
amount of data passed in the fast path and a transition to normal bearers at
exceeded limit. The limit is enforced in the network (SGW) for both DL and UL.
Small data for UE in ECM-connected mode does not suffer from the problem of
excessive ECM-idle ECM-connected mode transitions.
The Small data fast path is intended as an add-on function. That is, it does
not replace any existing system function but it can be used if the network and
the UE support it. This should also keep the impact on the system lower and
simplify the introduction in networks.
The basic principle of the Small data fast path is that small data can be sent
when the UE is in ECM-idle mode without requiring the normal transition to
ECM-connected mode. This avoids the disproportional amount of signalling when
just passing a few bytes of data e.g. for reporting a M2M sensor value or
sending a keep alive message from a smart phone application.
Figure 5.1.1.3.6.2-1: E2E Small data fast path transmission
The purpose with the solution outlined here is to pass small data over the
3GPP E-UTRAN & UTRAN access with a minimum signalling overhead. Small data
encryption/decryption in the SGW enables that.
Editor\'s note: The security solution for Small data fast path is for further
study by the SA3 including trust aspects.
The Small data fast path is made possible by providing a Bearer Resource ID to
the UE that represents the bearer in the SGW. The Bearer Resource ID enables
the eNB to derive the SGW S1-U F-TEID. The eNB does not need any other
information than the Bearer Resource ID to derive the SGW S1-U F-TEID. The
format of the Bearer Resource ID should consist of two parts, one part that is
an identifier that can be mapped to an SGW IP address in the eNB
(preconfigured in the eNB), and another part that is the SGW TEID. A
reallocation procedure for the Bearer Resource ID (between UE, MME) may be
used if privacy requires it. When the criterion for small data is met, the UE
passes the data together with the SGW Bearer Resource ID to the eNB where it
is currently camping using Uu. The eNB assembles a GTP-U packet using the
F-TEID and the data and forwards the GTP-U PDU on the S1-U interface. Since
all info required to assemble the GTP-U PDU is received from the UE, the eNB
does not need to signal to the MME or have any UE context information.
NOTE 1: The SGW Fully Qualified Tunnel Endpoint Identifier (F-TEID) is defined
in TS 29.274 and includes a TEID and an IPv4 address and/or an IPv6 address.
**Enabling EPS Bearers for Small data fast path**
EPS bearers are enabled for Small data fast path during MM and SM procedures,
based on subscription information (per IMSI level enabling/disabling) and
local configuration in the MME (serving PLMN policy and per bearer
enabling/disabling). The SGW Bearer Resource ID is provided to the UE as part
of the SM procedures when bearers are added/deleted/modified for the UE. A
timeout value for the fast path is also sent to the UE. The MME enables one
(or more) of the established bearers for Small data fast path. GBR bearers
should not be enabled. No bearers are enabled when the SGW does not support
Small data fast path function.
When bearers have been enabled for Small data fast path in the UE, MME and
SGW, and the current eNB does not support Small data fast path, a fast path is
never activated. See below under \'Small data initiated Up Link\' for the
capability handshake between the UE and the eNB in the RRC Connection
Request/Setup signalling.
The MME derives small data security information and provides to the SGW as
part of session management. A timeout value assigned by the MME for the fast
path is also included. The SGW stores the security information for the PDN
connection, enables indicated bearers and acknowledges to the MME that bearers
have been Small data fast path enabled.
Figure 5.1.1.3.6.2-2: Enabling EPS Bearers for Small data fast path
The new parameters in the figure above of the existing attach procedure,
establishes the Small data fast path including the security. At a minimum
integrity protection based on a derivation from K~ASME~ of the small data is
needed to ensure that data is not inserted or changed. Data encryption may
also be used, especially if the small data is not encrypted end-to-end on the
application layer.
NOTE 2: The security protocol between UE and SGW can for example consist of an
E-UTRA PDCP layer based protocol that reuses the integrity protection and
ciphering functionality, but where header compression is switched off needs to
be decided by SA WG3.
The Small data fast path is intended only for single bearer UEs, especially
M2M devices using small data. This would minimize the impact in the UE, eNB
and the SGW.
A 5-tuple and a packet limit specifying for which IP packets the Small data
fast path needs to be used, and a fast path inactivity timer, are sent to the
SGW as part of the create session request (step 6 above) and to the UE as part
of the session management request in the Attach Accept (step 9 above). The
fast path inactivity timer is sent by the UE to the eNB when small data is
initiated Up Link.
**Small data initiated Up Link**
The following figures show an example of how mobile originated small data
packet is passed from the UE and up link (UL) and how a subsequent small data
IP packet is passed back to the UE down link (DL). The term small data \"fast
path session\" is used in the text below meaning the time from a fast path is
established (e.g. DRB is created) until it is released (e.g. FP inactivity
timeout).
Figure 5.1.1.3.6.2-3: LTE Small data fast path transfer of one IP packet pair
0\. The UE establishes an RRC connection for the intention of sending small
data (i.e. a small data indicator is included in the RRC Connection Request
and in the RRC Connection Setup response) and remains in ECM-IDLE state (see
ECM state model in UE below under \'Other\' clause).
1\. In a UE using a single PDN connection and a single bearer, an UL IP packet
for an ECM-idle mode bearer that is enabled for Small data fast path and where
the criteria for \"small data\" are fulfilled ( i.e. a 5-tuple and the packet
limit for the current fast path session not exceeded) is integrity protected,
encrypted and sent to the eNB using Uu together with the SGW Bearer Resource
ID . Compression is not used for the Small data fast path.
2\. The eNB derives the SGW S1-U F-TEID based on the received Bearer Resource
ID, allocates a new eNB S1-U F-TEID for the fast path, assembles a GTP-U PDU
using the received and derived data, adds a GTP-U extension header with the
eNB S1-U F-TEID and forwards the GTP-U PDU on the S1-U interface to the SGW.
Information is stored in a temporary Small data fast path context using a
timeout value that is pre-configured in the eNB.
NOTE 3: The details of the Uu e.g. whether a DRB is established as part of
connection setup procedure or using the legacy reconfiguration procedure or
some other Uu alternative and, the content of the temporary fast path context
in the eNB are to be decided by RAN.
3\. The SGW receives a small data GTP-U PDU, decrypts and checks the integrity
protection. If not already done the SGW saves the eNB S1-U F-TEID in its
bearer context and sets the fast path for the bearer as active. A FP
inactivity timer is (re)started (at each UL packet). The SGW forwards a GTP-U
PDU on the S5/S8 interface to the PGW.
4\. An IP packet is received by the PGW and forwarded as a GTP-U PDU on the
S5/S8 interface to the SGW.
5\. The SGW receives a GTP-U PDU on the S5/S8 interface on a bearer that has
an active fast path. If the DL data meets the small data criteria (i.e. a
5-tuple and the DL packet limit for the current fast past session not
exceeded), the SGW integrity protects, encrypts and forwards the GTP-U PDU on
the S1-U interface to the eNB. Otherwise the SGW buffer the DL data and sends
a DDN to page the UE indicating normal DL data.
6\. The eNB uses the default DRB of the active fast path to forward the small
data to the UE. The UE decrypts, checks integrity protection, and passes the
small data to the receiving IP stack.
If the UE has moved to another cell, the eNB returns a GTP-U Error Indication
to the SGW. The SGW sets the fast path as inactive and fallbacks to paging
(indicating DL small data). The eNB may include the undelivered small data in
a GTP-U Extension Header, for the SGW to buffer it during the paging
procedure.
7\. At the FP inactivity timeout in the eNB of an active fast path (e.g. 2-5
sec), an RRC Connection Release is sent to the UE, the S1-U is released and
the Small data fast path information is removed in the eNB. At the FP
inactivity timeout in the SGW the S1-U is released and the fast path
information locally deactivated.
8\. In the UE the Small data fast path is set as inactive (but remaining
enabled) when the RRC connection and DRB are released.
The example described above shows one UL and one DL packet, but several UL and
DL packets up to the packet limit (see \'Criteria for small data decision\')
can be sent between the UE and the network as long as the fast path is active.
**Small data initiated Down Link**
Small data initiated DL, that is, DL data received in the SGW on a bearer
where fast path is enabled but not active (i.e. the eNB S1-U F-TEID is
unknown), is handled as described in the figure below. It should be noted that
compared to when small data is initiated UL, an additional paging of the UE is
required. However as approximately 2/3 of all Service Requests are initiated
by the UE in today\'s mobile networks, the majority of small data sent in a
fast path would not require any paging signalling.
Figure 5.1.1.3.6.2-4: LTE Small data fast path transfer initiated down link
1\. An IP packet is received by the PGW and forwarded as a GTP-U PDU on the
S5/S8 interface to the SGW.
2\. The SGW receives a GTP-U PDU on the S5/S8 interface. If the bearer is ECM-
idle and fast path enabled but not active and the criteria for small data are
fulfilled (fulfilled (i.e. a 5-tuple and the packet limit for the current fast
path session not exceeded), the SGW pages the UE indicating DL small data.
NOTE 4: According to the procedure \'Enabling EPS Bearers for Small data fast
path\' above, the MME and the UE will both be supporting fast path when the
bearer is fast path enabled in the SGW (i.e. when one or both of them don\'t
support fast path, the fast path will not be enabled in the SGW). If the eNB
does not support fast path, the UE will fall back to a normal Service Request
if the small data indicator is missing in the RRC Connection Setup message
(see the \'Small data initiated Up Link know\' description above).
3\. A page request is sent to the UE. The paging cause is set to DL small
data.
4\. The UE responds to the small data page by sending a dummy IP packet uplink
in the fast path. A small data page should only be sent to UEs having single
bearer/single PDN connection. If a UE has multiple bearers when receiving a
small data page (e.g. at an error case with inconsistent data in the network
and the UE), the UE needs to treat the paging cause as normal DL data i.e. not
use the fast path.
5\. The eNB receives the small data and proceeds as described above for step 2
in figure 5.1.1.3.6.2-3 above.
6\. The SGW receives a GTP-U PDU with small data on the S1-U interface, it
decrypts and checks the integrity protection. The eNB S1-U F-TEID is saved in
the bearer context and the fast path is set to active. A FP inactivity timer
is (re)started (at each UL packet). The dummy UL IP packet is discarded. The
SGW sends a DDN Complete message to the MME (to stop any additional paging
attempts).
7\. The SGW sends the buffered DL packet (encrypted and integrity protected)
on the S1-U interface to the eNB.
8\. Corresponds to step 6 in figure 5.1.1.3.6.2-3 above.
9\. Corresponds to step 7 in figure 5.1.1.3.6.2-3 above.
10\. Corresponds to step 8 in figure 5.1.1.3.6.2-3 above.
**Activation of normal bearer when fast path is active**
When a bearer needs to be transitioned to normal connected mode, any active
fast path is deactivated in the UE, eNB and SGW as described below. The
deactivation of fast path is made as part of a Service Request procedure. The
Service Request may be triggered by e.g. UL data in the UE that does not meet
the fast path criteria, paging after DL data in the SGW that does not meet the
fast path criteria, paging after a fast path packet limit has been exceeded in
the SGW, exceeded fast path packet limit in the UE, paging as part of
activation of a dedicated bearer, or any other paging that triggers bearers to
be established.
{width="6.46875in" height="4.7659722222222225in"}
Figure 5.1.1.3.6.2-5: UE triggered Service Request procedure
The differences from the UE triggered Service Request procedure specified in
TS 23.401 [6] subclause 5.3.4.1 are described below.
0\. A Small Data Fast Path is established as described above in figure
5.1.1.3.6.2-3 step 1 and 2. After this step the UE and the eNB will be in RRC
connected mode and a DRB and a S1-U connection will exist.
1\. The NAS Service Request will be sent on the SRB2 if it exists after step 0
above (or otherwise SRB1 if RRC reconfiguration is not used when the DRB is
established) .
4\. If a Small Data Fast Path exists for the UE in the eNB, the fast path eNB
S1-TEID is reused for the default EPS bearer.
5\. If a radio bearer already exists after a previous Small Data Fast Path
establishment, that bearer is reconfigured with AS security and QoS.
The ECM state in the UE is changed to ECM-CONNECTED and the Small Data Fast
Path is marked as inactive as part of the radio bearer establishment. The eNB
inactivates (removes) any remaining parts of the Small Data Fast Path.
6\. To support seamless transition between fast path and normal bearer, a
marking of packets on Uu and S1-U that have been protected with fast path
specific PDCP would enable the receiving UE or SGW to apply fast specific
handling (decryption & integrity protection) on those packets.
8\. If an active Small Data Fast Path exists for the UE in the Serving GW, the
FP inactivity timer for the fast path is stopped and the fast path is set as
inactive (but kept enabled).
When the UE eventually changes state from ECM_CONNECTED back to ECM_IDLE, a
fast path always remains inactive in UE and SGW (but enabled) and the UE RAN
context is removed in the eNB, i.e. the existing S1 Release procedure is used
(see is TS 23.401 [6] clause 5.3.5). If transmission of small data happens to
be needed immediately after the S1 Release, the Small data fast path is
established the normal way (see above figure 5.1.1.3.6.2-3 and 5.1.1.3.6.2-4).
An alternative approach for activation of normal bearer when fast path is
active is to use a separate S1-U connection and/or DRB for the normal bearer.
This would avoid issues with encryption during the transition phase and the
marking of packets on Uu and S1-U.
**Mobility**
The Small data fast path is established by existing session management
signalling. When bearers are created/deleted/modified the MME informs the UE
and the SGW of any changed Small data fast path parameters. This is done by
new parameter in existing messages.
Mobility while a Small data fast path is active does not trigger X2 handover
or S1 handover even if RRC is in connected mode. This since the SDT is
expected to be short in time and since the UE does not send measurement
reports (measurements are assumed not possible when AS security is switched
off).
**From an eNB perspective** , mobility while a Small data fast path is active
is handled by releasing the RRC connection locally when the fast path
inactivity timer expires. If there is DL data not yet delivered when the fast
path inactivity timer expires and the RRC synchronization with the UE failed,
the eNB responds with a GTP-U Error Indication to the SGW. The undelivered DL
packet may be included in an extension header in the GTP-U Error Indication.
The Error Indication will trigger the SGW to set the Small data fast path as
inactive, store the DL data in the SGW buffer and to initiate a DDN which will
cause a paging of the UE (with paging cause set to \'small data\').
**From a UE perspective** , mobility while a Small data fast path is active is
handled by releasing the RRC connection locally in the UE using a specific
implicit RRC release timer for the fast path. At any UL data before the
implicit RRC release timer has expired and the RRC synchronization with the
eNB fails, the UE will re-establish the RRC connection in the new cell and
send the UL data as described above in clause \'Small data initiated Up
Link\'.
**From a SGW perspective** , mobility that results in SGW relocation needs
consideration. At TAU and Handover with SGW relocation the MME updates the new
SGW and the UE with new security information and updated SGW Bearer Resource
ID as part of existing procedures. For other cases e.g. bringing a SGW out of
service for maintenance, additional modify bearer signalling to the UE for
updating SGW Bearer Resource ID and security information may be needed. Since
while a Small data fast path is active, X2 and S1 handover is not triggered,
there is no issue with SGW relocation for SIPTO as the UE has not moved out of
its current location and as such the SGW serving the UE remains accurate.
The FP inactivity timer for the RRC connection in the eNB should be smaller
for the fast path (e.g. 2-5 seconds), since it can be assumed that a SDT is
short in time. There should be a common time out value used in the eNB and the
SGW. It can either be pre-configured in the nodes, or signalled from the MME
(via the UE to the eNB) as part of the Small data fast path establishment.
The implicit RRC release timer in the UE for the Small data fast path should
be based on the FP inactivity timer used in the eNB, which may be signalled to
the UE from the MME as part of the Small data fast path establishment.
A communication between the UE and a server/host using small data is assumed
to be short in time (e.g. a keep-alive message and a response, a report of a
measurement value and receiving an acknowledgement, etc). Depending on the
response time of the server, the communication can be assumed to be finished
in less than one or a few seconds, and therefore crossing a cell border during
communication can be assumed to be less frequent. Hence it is not considered
necessary with any advanced mobility support, such as X2 handovers.
**Criteria for small data decision**
Specific criteria is used to decide whether UL or DL data needs to be sent in
the normal path (i.e. using Service Request) or in the Small data fast path
That it is transparent to the application in the UE and to the Application
Server whether or not the network applies the Small data fast path. This
should simplify normal M2M application development, not having to worry about
what is \"small data\" and what is not.
For UL data the decision is taken in the UE before a Service Request is sent
but after a bearer has been selected. The Small data fast path is not used if
the bearer hasn\'t been enabled by MME for fast path. The criteria for UL
small data uses a 5-tuple and a UL fast path packet limit received from the
MME as part of the session establishment. Each of the five fields in the
5-tuple can be a single value, ranges of values, or a match all wild card.
This allows the criteria to for example be configured to \"use fast path only
for the CoAP protocol\". An MTC device reporting sensor values using CoAP
would then transmit those over the fast path, but use normal bearers when it
starts to transmit something else e.g. video media using TCP/RTP etc.
For DL data the decision is taken in the SGW before a DDN is sent to the MME.
The Small data fast path is not used if the bearer where the DL data arrives
hasn\'t been enabled by MME for fast path. The criteria for DL small data uses
a 5-tuple and a fast path packet limit received from the MME as part of the
session establishment. Each of the five fields in the 5-tuple can be a single
value, ranges of values, or a match all wild card. This allows the criteria to
for example be configured to \"use fast path only for the CoAP protocol and
less or equal than X packets in a single fast path session\". If DL packets
arrive in the SGW that does not match the criteria, a normal DDN/paging for DL
data is done and the DL packets buffered in the SGW until the normal bearer
has been established.
Part of the DL criteria in the SGW may be counting received GTP-U Error
Indications from the eNB and fallback to paging for normal ECM-connected mode
in the DDN if error indications become frequent (i.e. implying high mobility
and that data is not small data).
The SGW has a packet limitation for the Small data fast path. If more than a
configurable number of packets, e.g. 10 DL packets or 10 UL packets, have been
transmitted during a single fast path active session, the SGW sends a DDN and
triggers the establishment of a normal bearer. The UE also has a packet
limitation for the Small data fast path, however only UL. The SGW checks the
DL but also the UL packet limit to avoid that misbehaving UEs can exploit the
fast path for larger amount of data.
**Security**
In the Small data fast path the UE sends traffic without having set up the
regular AS security.
In the described solution the security protection is done by security contexts
in the UE and the S-GW. These are established as part of existing signalling,
hence keeping the signalling overhead for small data to a minimum. The
security information for the Small data fast path is stored in the SGW and UE
as part of the PDN connection information. It is kept regardless if the fast
path is active or not, i.e. the security information is kept as long as the
fast path remains enabled and is not removed when the fast path is deactivated
after time out or at transition from ECM-idle to ECM-connected. When the
security information is updated for the UE i.e. the K~ASME~, the MME updates
the SGW with new security information for SDT.
The security protocol between the UE and the SGW consists of an E-UTRA PDCP
layer based protocol that reuses the integrity protection and ciphering
functionality, but where header compression is switched off.
NOTE 5: (see other note): Any security threats, security impliciations and
security protocols (including for S1-U) needs to be decided by SA WG3.
**RAN aspects**
The Uu will determine any upper limit for small data volume. Any possible
optimizations to the Uu are RAN decisions.
**Feature introduction in networks**
The Small data fast path can be introduced in any order in affected network
nodes. As the fast path is an \"add-on\" feature and is triggered to become
active by the UE, it will only become active if all involved entities (i.e.
the UE, eNB, SGW and MME) all support the Small data fast path.
**Other**
The Small data fast path is intended for E-UTRAN. It is primarily intended for
M2M devices known to be sending small data. Use for some use cases by smart
phones is not precluded. The target use cases are those where the traffic
pattern in a given network causes frequent ECM-idle - ECM-connected mode
transitions. The concept of keeping the SGW bearer end point address and
identity in the UE has similarities of how GERAN is designed. In GERAN the UE
keeps the TLLI which is passed together with each UL PDU. The BSC can use the
NRI embedded in the TLLI to find the SGSN that serves the UE and the SGSN can
use the TLLI to find the specific PDP context.
A preconfigured default QoS may be used for the Small data fast path.
Modification of QoS/ARP is not considered needed for fast path (this is
similar to SIPTO\@LN which is single bearer and where modification of QoS is
not specified).
The ECM-state in the UE and the MME will be ECM-IDLE when the Small data fast
path is active (see UE state model below). For a UE that only sends and
receives small data it means that the UE will be staying in ECM-IDLE mode.
Hence UE reachability procedures used for SMS, UE location and other services
will work as for ECM-IDLE mode UEs, for example, a MT SMS that was not
delivered due to an out of coverage situation will be delivered next time the
UE does a TAU.
Figure 5.1.1.3.6.2-6: ECM-state model in UE
##### 5.1.1.3.6.2.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-4 .H6}
The Small data fast path can be introduced in any order in affected network
nodes. As the fast path is an \"add-on\" feature and is triggered to become
active by the UE, it will become active when all involved entities (i.e. the
UE, eNB, SGW and MME) all support the Small data fast path. This facilitates
introduction of the feature in networks.
The UE should be capable of:
\- Determining whether or not the UL data can be sent as small data on the
fast path enabled bearer;
\- Supporting security and PDCP based security protocol for Small data fast
path;
\- Receiving the SGW Bearer Resource ID for a fast path enabled bearer
\- Responding to small data paging by sending a dummy IP packet uplink.
\- Indicating small data in RRC Connection Request.
The eNB should be capable of:
\- At initial UL data, deriving the SGW S1-U F-TEID based on the received SGW
Bearer Resource ID.
\- Receiving and sending small data on Uu using a default DRB and on the S1-U
interface using GTP-U PDUs and keeping Small data fast path related
information in a context until a timer expires.
\- May return GTP-U Error Indication to the SGW when DL data has arrived and
the UE has moved out of its coverage, and including the undelivered small data
in the GTP-U Extension Header.
\- Include its own F-TEID in the initial S1-U UL GTP-U PDU(s).
\- Support paging using the new small data cause value (depending whether this
is transparent to the eNB or not).
\- Indicating small data in RRC Connection Setup.
The SGW should be capable of:
\- Supporting security and PDCP based security protocol for Small data fast
path. This includes maintaining a small data security context within the PDN
connection (for the lifetime of the PDN connection) and Small data fast path
parameters within the bearer context until a timer expires.
\- Forwarding GTP-PDUs between S5/S8 and S1-U and when the ECM-idle bearer has
an active Small data fast path perform security protection of the data, or
trigger paging for DL small data for non-active fast path.
\- Determining whether or not to indicate DL small data to the MME when paging
the UE for received DL data.
The MME should be capable of:
\- Create and provide the UE with a Bearer Resource ID (that can be used by
the eNB to derive corresponding SGW S1-U F-TEID) for the bearer to be Small
data fast path enabled when the SGW supports it.
\- Derive small data security keys and send to the SGW as part of existing
Session signalling.
\- Indicate to UE and SGW as part of existing session signalling if a bearer
needs to be enabled for Small data fast path and a timeout value to be used
for an active fast path bearer.
\- Support paging using the new small data cause value.
##### 5.1.1.3.6.2.3 Alternative A evaluation {#alternative-a-evaluation .H6}
The solution addresses PDN connections with mixed data usage as it adds an
alternative data path for small data to the existing one, so it is mainly for
e.g. M2M small data scenarios (mixed data usage or small data only) but could
also be used for keep-alive or similar frequent small data. The solution also
addresses infrequent SDT. The solution may cause additional signalling towards
the UE at SGW restarts or relocations due to the existing security association
between the UE and the SGW.
The addressed usage scenarios are single bearer small data.
**Benefits**
\- Eliminates the NAS part of the Service Request signalling in RAN, MME, SGW
when the selected data transfer path is the small data path.
\- Application developers are not required to use special handling of small
data (but can optionally do so). The network decides whether data are
transferred as small data or if normal bearers are established.
\- Seem-less transition to normal ECM-connected mode possible in any situation
e.g. when data on a PDN connection/bearer doesn\'t fulfil the small data
criteria anymore or a small data packet limitation is exceeded.
\- Can be used for SDT over the user plane with a minimum signalling overhead,
e.g. primarily for messaging applications (exchanging a few messages with a
certain protocols e.g. CoAP), but also some applications using keep-alive
signalling (M2M and Smartphones) with single bearer.
\- Existing UP functions is reused, e.g. charging, IP address & IP routing,
firewalls/NATs/VPNs, DPI, etc.
\- Small data volume upper limit only constrained by radio design and by UE\'s
mobility.
\- Suitable for frequent and infrequent SDT, including bursty transmissions.
\- Feature introduction in networks are facilitated as it can be introduced in
any order in the affected nodes. It becomes active when the involved nodes
(i.e. the UE, eNB, SGW and MME) support the Small data fast path.
\- Also reduces network load from keep-alive signalling from smart phones.
\- Less total network resource consumption for M2M devices using primarily UP
based infrequent and frequent small data.
**Drawbacks**
\- Impacts on SGW, MME, UE, eNB. Updated state model for the fast path in UE
and SGW. Updated paging handling for the fast path.
\- Extra processing and intelligence in the SGW to maintain timers and packet
count for PDN connections having active fast paths.
\- New security association handling for small data between the UE and the
SGW.
\- Co-existence of Small data fast path and regular user plane, and of small
data security contexts and regular EPS security contexts in the UE adds
complexity and consumes resources in UE and SGW.
\- High signalling traffic in case of SGW recovery; without the new SGW
functions the MME may re-new SGW contexts without affecting UEs.
##### 5.1.1.3.6.3 Alternative B: Connectionless Data Transmission
{#alternative-b-connectionless-data-transmission .H6}
##### 5.1.1.3.6.3.1 General {#general-7 .H6}
In order to allow a reduction of signalling needed to establish bearers at
idle to active transitions, it is proposed to send data in connectionless mode
between the UE and the SGW along the following principles:
1\. Data are sent in connectionless mode over the radio interface, and over
S1-U/S12/Iu tunnels that are predefined at Bearer/PDP context set up time and
maintained via Mobility management procedures (i.e. when SGW relocation
happens). The S1-U/S12/Iu UL tunnels are unique per UE bearer, for a given
SGW/SGSN. This eliminates the need to establish these tunnels per UE at each
idle to active transition and reduces state in nodes.
2\. To send uplink data a UE passes to the RAN a Connection ID that the
MME/SGSN has passed to the UE at bearer set up time or when a TAU causes a
SGW/SGSN relocation, so that the RAN node can select the appropriate TEID for
uplink traffic and the appropriate SGW/SGSN IP address. The Connection ID
enables the RAN to derive the SGW/SGSN address and the uplink TEID. The UL
TEID identifies the SGW/SGSN for the UE and the S5/S8/Gn/Gp TEID to be used to
forward traffic to the PGW. In the UL GTP-U Packet the RAN includes in an
extension header the DL TEID to be used for the connectionless Bearer.
3\. Connectionless mode procedures are defined over the radio interface for
allocation of radio resources to the UE and user data transmission, via
establishment of RRC connection without the need to send a Service Request
message to the MME/SGSN every time the UE needs to send or receive data. The
current data radio bearers can be used with suitable QoS over the RAN to
support connectionless mode. In UMTS case RABs are used with no SRNS
relocation. If relocation is required the bearers are released by the RNC and
the UE will then initiate them again in the cell under the new RNC.
Editor\'s note: RAN aspects need to be studied by RAN WGs.
3A. A possible way to support connectionless data and related security in
E-UTRAN can be based on the concept of token as outlined below:
The UE includes its ability to support connectionless small data in the UE
Capabilities on Attach.
The UE at first visit of( a cell) in an ENB or when the security context for a
cell of an eNB is not known / valid, executes a full Service Request procedure
as outlined in Figure 5.1.1.3.6.3.1-1 here below, where at steps 6 and 7 the
UE and eNB exchange also a token value provided by the eNB to be used as a
future reference to the UE context in the eNB, and possibly the eNB provides
the UE also with a timer value, used to age the token and the context. The
Token is unique per cell. This procedure is used for the initial data
transmission in this eNB. Future data transmissions in this eNB can use the
connectionless procedure. The cookie provided by the MME allows to associate
context in the eNB to the same UE.
Figure 5.1.1.3.6.3.1-1: E-UTRAN updated Service Request procedure with Token
exchange and security context caching
At a subsequent visit to the cell of the eNB, the UE does not need to execute
the full SR procedure as long as it passes a valid token to the eNB, (which is
the one associated to the cell ID the UE reads), as depicted in Figure
5.1.1.3.6.3.1-2 step 3. This eliminates 9 messages.
Figure 5.1.1.3.6.3.1-2: E-UTRAN Service Request procedure with Token passing
NOTE: Optimizations of the RAN aspects of the procedure in figure
5.1.1.3.6.3.1-2 can be explored in RAN working groups.
It is assumed the UE reads the cell ID on the broadcast channel and then sends
the related token in the RRC ConnectionSetupComplete message. The token is
signed with the RRC integrity key so as to avoid possible denial of service
attacks. Note also that the support of the token based approach to security is
implicitly known when the eNB provides the token to the UE the first time it
has visited the eNB. If not then this support is not assumed and also this may
be assumed as indication the connectionless feature is not supported (as it
would be inefficient). The UE also passes in the RRC ConnectionSetupComplete
message all the connection IDs of the connectionless PDNs that it intends to
possibly use so that the eNB\'s configures them and it ready to receive the
related packets over related DRBs.
If by any chance the UE has provided a non-existent or invalid token value,
then the eNB rejects the RRC connection establishment with a cause code
requesting the UE to go ahead with a full Service Request procedure as if it
was the first visit to the eNB as shown in Figure 5.1.1.3.6.3.1-1. As a result
it will issue a security mode command to the UE and generate a new token, or
reject the UE depending on the outcome of the interaction with the MME, which
may include NAS authentication/security procedures as defined in clause 5.3.10
of TS 23.401 [6].
In fact, when due to aging a security context elapses, this is removed from
the eNB and when the UE attempt to use it, it is detected as invalid so the UE
will remove it. This requires the UE to perform the full SR as per Figure
5.1.1.3.6.3.1-1. Also, in principle, the UE may or may not be provided the
timer associated to aging of tokens, and the scheme still works fine. Giving
an aging time to the UE is an optimization as a UE detecting a token is no
longer valid would not attempt to use it, and right away issue a Service
Request as shown in Figure 5.1.1.3.6.3.1-1.
If the token is valid then the DRB\'s are established via RRC Connection
Reconfiguration. The DRB\'s are kept alive for the duration of connectionless
activity timer which may be different (much smaller) than the activity timer
used to consider the UE in EMM Connected mode. Note however that the UE is not
in EMM-Connected mode from a system perspective (i.e. the MME does not
consider the UE to be in connected state).
It should be clear then by now that if the eNB keeps UE contexts indexed by
the token values it provides (unique per eNB) and the UE keeps tokens+security
contexts per eNB, then the need for full SR procedures is minimized. This
eliminates 9 messages when establishing bearers using the token passing
optimization. As UE\'s used for MTC may be static, this is particularly
efficient for MTC devices as the UE would seldom have to resort to a full
Service Request procedure (provided the token validity is set to be long
enough). Also the mobility patterns of most users do repeat themselves
frequently and also include long periods during which the users are static, so
this mechanism results to be particularly effective when taking this into
account
A further optimization of the procedure may be possible by reducing the number
of RRC messages over the air, but this would be in scope of RAN to explore.
3B. A possible way to support connectionless data and related security in UMTS
can be based on the concept of token as outlined here below:
The UE includes its ability to support connectionless small data in the UE
Capabilities on Attach.
For UMTS, The UE at first visit with a cell under an RNC or when the security
context for a RNC is not known / valid, executes a full Service Request
procedure as outlined in Figure 5.1.1.3.6.3.1-3 here below, where at security
functions execution time the UE and RNC exchange also a token value provided
by the RNC to be used as a future reference to the UE context in the RNC, and
possibly the RNC provides the UE also with a timer value, used to age the
token and the context.
Figure 5.1.1.3.6.3.1-3: UMTS Connectionless approach
This makes the way security is handled more efficient, in that the RNC and the
UE need to establish security only when strictly needed (i.e. upon first visit
to a given RNC that is identified as unknown or when the UE and RNC do not any
longer share a valid security context, e.g. because the security material
expires (due to an aging process). The concept of RNC may be related here to a
way to logically identify a single RNC from a UE perspective, based on
criteria defined by RAN WGs. Since the RNC ID is part of the Cell ID, applying
a \"mask\" on the cell ID bits could probably be the basis of a solution to
identify a Match of RNC ID.
In particular, with reference to figure 5.1.1.3.6.3.1-4 here below, the token
is exchanged in step 7.
Figure 5.1.1.3.6.3.1-4: UMTS Local authentication and connection set-up with
token exchange (adapted from Fig. 14 in TS 33.102)
This token can also be used as a reference to a broader set of information
like the UE capabilities and other necessary UE context information that the
RNC may retain between subsequent UE accesses to RNC resources.
The cookie provided by the SGSN to the RNC in step 6 allows to associate
context in the RNC to the same UE.
With this in mind, the procedure to send an UL packet once the token is
acquired (starting from idle mode) is the following, as illustrated in Figure
5.1.1.3.6.3.1-5:
Figure 5.1.1.3.6.3.1-5: UMTS Token based security context set up
It is assumed the UE reads the RNC ID on the broadcast channel based on a mask
of the cell-ID, and then sends the related token in the RRC ConnectionSetup
Complete message. The token is signed with the RRC integrity key so as to
avoid possible denial of service attacks. Note also that the support of the
token based approach is implicitly known when the RNC provides the token to
the UE the first time it has visited the RNC. If not, then this support is not
assumed and also this may be assumed as indication the connectionless feature
is not supported ( for obvious reasons as otherwise the feature could be
utterly inefficient as discussed above!). The UE also passes in the RRC
ConnectionSetupComplete message all the connection ID\'s of the connectionless
PDN\'s or bearers that it intends to possibly use so that the RNC\'s
configures them and it ready to receive the related packets over related
RAB\'s.
If by any chance the UE has provided a non-existent or invalid token value,
then the RNC rejects the RRC connection with a cause code requesting the UE to
go ahead with a full Service Request procedure as if it was the first visit to
the RNC. As a result it will issue a security mode command to the UE and
generate a new token, or reject the UE depending on the outcome of the
interaction with the SGSN. In fact, when due to aging a security context
elapses, this is removed from the cache in the RNC and when the UE attempt to
use it, it is detected as invalid so the UE will remove it from the cache and
require any UE submitting this token to perform the full SR as per figure 1.
So in principle the UE may or may not be provided the timer associated to
aging of tokens, and the scheme still works fine.
If however the token is valid then the DRB\'s are established and the UE must
assume the RNC has accepted its token and was able to find the UE context in
its stored data. The DRB\'s are kept alive for the duration of a
connectionless activity timer. Note however that the UE may not be for this
reason considered in Connected mode from a system perspective (i.e. the SGSN
does not consider the UE in connected state).
It should be clear then by now that if the RNC keeps a cache of UE contexts
indexed by the token values it provides (unique per RNC) and the UE keeps a
cache of tokens+security contexts per RNC, then the need for full SR
procedures is minimized. As UE\'s used for MTC may be static, this is
particularly efficient for MTC devices as the UE would seldom have to resort
to a full Service Request procedure (provided the token validity is set to be
long enough). Also the mobility patterns of most users do repeat themselves
frequently and also include long periods during which the users are static, so
this mechanism results to be particularly effective when taking this into
account.
A further optimization of the procedure may be possible by reducing the number
of RRC messages over the air, but this would be in scope of RAN to explore.
4\. Multiple PDN connections can be supported concurrently. However all PDN
connections are handled in Connectionless or Connection oriented mode at any
one time.
5\. Connectionless mode is applicable to UTRAN and E-UTRAN in the EPC.
Applicability to GPRS Core is FFS.
6\. For E-UTRAN: Handover is not necessary in connectionless mode, since the
connectionless mode is expected to last for short duration. If during
connectionless mode, cell change is required, the UE reselects to the target
cell and sets up bearers in connectionless mode in case the UE has the token
of the target cell, or performs Service Request procedure. The source eNB
releases the radio resources when the connectionless activity timer expires.
For UTRAN: There is no SRSN relocation and if RNC needs to change the bearers
are disconnected and the UE will need to establish new bearers under the new
RNC. Mobility under one RNC is handled as if the UE was in active state when
radio bearers are established.
##### 5.1.1.3.6.3.2 Procedures {#procedures .H6}
**PDN connection, PDP Context or EPS bearer establishment**
There are two possible mode of operation for a UE when it sends and receives
data: connectionless mode of operation and connection oriented mode, the UE
only operate in one mode at a time. The transfer of large amount of data would
normally cause transition to connected mode of operation for data transfer on
any PDN connection.
For bearers that are allowed to use connectionless mode operation, during PDN
or PDP Context or EPS Bearer set up a Connection ID is sent to the UE. The
Connection ID identifies the PDN and the SGW/SGSN uniquely and the TEID to be
used in the UL. This is provided securely to the UE via NAS signalling at the
connection set up and every time a SGW selection or relocation is performed.
The Connection Id is generated by the MME/SGSN based on MME/SGSN policies and
UE connectionless capability for each bearer a UE or PGW activates, if the UE
or the PGW requests a bearer, e.g. GBR bearers may not get a connection ID so
they can only operate in connection oriented mode even if in error the UE or
the PGW requested connectionless service.
**TAU/RAU**
During TAU/RAU if there are any connection IDs allocated for a UE, and if as a
result of the procedures the SGW/SGSN relocates, a new connection IDs
associated to this new SGW/SGSN are passed to the UE for these bearers. In
UTRAN, a UE in connectionless active state will perform RAU to keep the SGSN
aware of the whereabouts of the UE for DL paging related to data for
connection oriented bearers. The RNC, if the UE location is known on a cell
basis, may optimize paging.
NOTE 1: In EUTRAN the TAU procedure in a cell is executed before the
connectionless bearers are established, so that any relocation of the SGW and
generation of new connection ID\'s occurs before the bearers are established
(in this way the correct connection ID after relocation is used).
**UL traffic handling**
For uplink traffic in connectionless mode, the UE passes to the RAN the
Connection ID it received during the bearer setup (or updated during the last
tracking/routing area update procedure). This Connection ID implicitly or
explicitly (depending on stage 3 decisions) identifies the SGW/SGSN and the
TEID to be used to send UL traffic at the eNB/RNC. The format of the
Connection ID is FFS but the eNB/RNC does not need other information than the
connection ID to select the SGW/SGSN and the TEID for UL data. The RAN should
be optimized to transmit this information in the UL sparingly if sustained UL
packet data transmission occurs. If a Bearer is set up over the RAN to serve a
Connection ID (i.e. no special connectionless resources over the RAN are used
and current bearers are reused as described in this proposal above), then the
Connection ID is only sent at bearer establishment time and is not included in
each packet.
The UE/bearers context information in the SGW associates the TEID used in
S1-U/S12/Iu uplink packet to a S5/S8 bearer.
An uplink packet for a connectionless mode bearer resets a connectionless
activity timer held at the UE, eNB/RNC and SGW/SGSN. While the timer is
running, the UE signals cell changes to the RAN and, for cell change to a new
RAN node, the new RAN node propagates the information (e.g. under the form of
a dummy uplink GTP-U packet) including the information necessary in the
SGW/SGSN to locate the UE (e.g. RAN Node IP address and the DL TEID to be
used). This allows the SGW/SGSN to learn that the UE (with active
connectionless traffic) moved to a new eNB/RNC and then redirect DL packets to
this new eNB/RNC. See \"DL traffic handling\" for the usage of the timer in
the SGW/SGSN.
When at least one connection oriented bearer is used by a UE, or when based on
UE local policies the UE decides to switch from connectionless to connected
mode of operation for a particular bearer, the UE enters connection oriented
mode of operation, which entails first releasing all the connectionless
bearers already established.
If necessary, the eNB/RNC token may be refreshed while the UE is in connection
oriented mode of operation when security mode command is executed.
**DL traffic handling**
If the UE is operating in connectionless mode, when due to mobility the eNB or
RNC change while a connectionless activity timer is running in the UE, eNB/
RNC, the SGW/SGSN learns the IP address of the new RAN node using the
information sent in the UL packets as described above, i.e. the SGW/SGSN
records in the UE context the address of the RAN node currently serving the UE
and the TEID.
Upon receipt of DL packets for a connectionless bearer (i.e. a bearer for
which a connection Id is generated), if the UE is considered active for
connectionless purposes by the SGW/SGSN (i.e. a local connectionless activity
timer has not expired), the SGW/SGSN sends the DL packets to the RAN node
serving the UE. Otherwise, if the UE is considered idle by the SGW/SGSN (i.e.
connectionless activity timer has expired), the SGW may either:
\- invoke the network triggered Service Request procedure: the paging message
includes a \"connectionless\" indication to which the UE responds by sending a
cell update that updates the SGW/SGSN with the RAN address/TEID. A
connectionless paging does not cause the activation of all bearers in the UE,
just the connectionless bearer(s);
\- as another option, an optimization based on subscription or learning of UE
behaviour, could be applied for often stationary UE\'s: when the UE enters
Idle state, the SGW/SGSN marks the DL forwarding information as \"tentative\".
When a DL packet is received, the packet is forwarded regardless to this last
known eNB/RNC and the Connection ID and UE identity is added as an extension
header to the GTP-U packet. In the event the eNB/RNC cannot deliver the packet
to the UE, possibly via a localized connectionless paging, it needs to request
the SGW /SGSN to page the UE via the MME/(SGSN) as described above and in this
request forward the data received.
**Exiting from the connectionless mode**
When the connectionless activity timers expire in the UE, eNB/RNC and
SGW/SGSN, the UE is considered idle.
**Entering connected mode**
Entering connected mode via normal Service Request procedure, causes the
creation of fresh security context in the serving eNB/RNC, the serving eNB/RNC
can detect and replace the old token by matching the cookie the SGSN/MME
provide to the serving RAN node.
In the EUTRAN, while in connected mode, as the UE moves and HO procedures are
executed, each target eNB leaves any connectionless context intact.
Transitioning to connected mode is performed as follows:
\- DL: If the SGW receives DL data from the PGW for a \"regular\" bearer that
is not active the session must be transitioned to connected mode as follows:
\- The SGW starts to buffer all DL data until the transition to connected mode
is complete. The SGW sends a DDN to the MME includes the current serving eNB
id. The MME then sends a Page request, only to the eNB included in the DDN and
includes the \"cookie\". When the eNB receives this, it sends a RRC release to
the UE associated with the \"cookie\", and includes an indication to
transition to connected mode. The UE releases the RRC connection and initiates
a an RRC Connection and NAS Service Request. When the connection is
established and the SGW receives the Modified Bearer Request, then the
buffered data is forwarded to the eNB.
\- UL: If the UE has UL data for a connection-id that is not active the
session must be transitioned to connected mode as follows:
\- The UE will request the release of the existing RRC signalling connection,
by sending a RRC release request to the eNB informing the eNB that it needs to
transition to connected mode. On reception, the eNB transitions to connected
mode as in the DL case. The eNB releases the connectionless bearers (and the
associated RRC signalling connection). On reception of the transition
indication, the eNB also notifies the SGW of the transition so that the SGW
will buffer any further DL data until the transition is complete. The eNB
notifies the SGW of the transition by including a transition indication in a
GTP-U header of a dummy packet sent over the tunnel to the SGW associated with
an active connectionless bearer of this UE. Immediately following the implicit
or explicit release procedures, the UE initiates RRC connection establishment
procedure for connected mode. The eNB had saved the S-TMSI UE identifier
received in the RRC Connection Request of the connectionless mode
establishment. When the RRC Connection Request is sent by the UE for connected
mode establishment, the S-TMSI is again included. When received for the
connection mode establishment the eNB uses the S-TMSI to correlate this
connected mode request with the UE in transition so that the eNB can clear any
remaining connectionless session resources associated with this UE.
\- Optionally, a UE or SGW can transition a connectionless session to a
connected mode procedure if a small data threshold is reached. This can be
done by executing the transition procedures described above. However, for low
mobility UEs, this is not necessary.
**Exiting connected mode**
If the UE exits connected mode, it will enter idle mode regardless of whether
the UE was in connectionless mode when it entered connected mode.
**Purging UE contexts from RAN nodes**
Optionally, if for any reason the core nodes (SGSN/MME) decide to purge a UE
from the network, they can remove all the cached RAN contexts by sending a
multicast message to all RAN nodes in the network forcing the purging of UE
contexts indexed by the UE cookie. Otherwise, the UE contexts in the RAN will
be cleared as they time out.
NOTE 2: It is up to stage 3 to determine if there is a suitable existing
message that can be enhanced or a new message.
**Cell reselection**
Handover is not necessary in connectionless mode, since the connectionless
mode is expected to last for short duration. If during connectionless mode,
cell change is required, the UE reselects to the target cell and sets up
bearers in connectionless mode in case the UE has the token of the target
cell, or performs Service Request procedure.
During connectionless mode the UE is not reporting measurements and the eNB is
not doing handover evaluations.\ As described in document R2-131997, it is
shown that the number of messages used in a handover is about the same used
for a Service Request. Therefore, if the UE is moving and needs to select
another cell, if connectionless is used in the new cell, this is a signalling
optimization and if the UE transitions to connected mode and initiates a
Service Request, the signalling is comparable to the number of messages used
in an X2 handover. If there is any loss in packets during cell reselection, it
is expected that IP based applications will manage reliable transmission as IP
is unreliable (if reliability is needed).
##### 5.1.1.3.6.3.2a Alternative B-2: Use of bearer-ID instead of
connectionless identifier {#a-alternative-b-2-use-of-bearer-id-instead-of-
connectionless-identifier .H6}
This alternative of the connectionless mode differs from the above in the
following:
\- Indication of support of the connectionless mode by the network is provided
as an indication in every Attach/TAU accept message to the UE. The support of
connectionless mode is expected to be TA wide.
\- The UE can select any bearer to be setup in connectionless mode, by
providing the EPS bearer ID (instead of connectionless ID) to the eNB in the
RRC Connection Setup Complete message. The EPS Bearer ID points to the EPS
bearer context stored in the eNB which contains SGW address and TEID. There is
no functionality needed in the MME to determine which bearer to be enabled to
be setup in connectionless mode. This is a UE decision. Also, there is no
functionality needed to update the UE with Connectionless ID during TAU/RAU
procedure.
\- Exiting from the connectionless mode is explicitly controlled by the eNB,
by releasing the RRC connection and corresponding S1-U bearers with the SGW.
The release of the S1-U bearers with the SGW is performed by the eNB sending a
dummy IP packet to the SGW along with an indication to release the S1-U
tunnels. Since connectionless mode is expected is to be used for small data
transfer only, the eNB releases the RRC and S1-U connection within a very
short time (several seconds).
##### 5.1.1.3.6.3.3 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-5 .H6}
\- UE
\- Determine whether or not the UL data can be sent using connectionless mode
procedure;
\- security context caching and token handling
\- Separation between security contexts for connectionless mode and for
connection oriented mode;
\- Running connectionless active timer;
\- Responding to connectionless paging by sending a cell update and activate
only the connectionless bearers.
\- Store and provide connection ID or bearer ID to the network.
\- if cell changes when UE is in RRC connection mode, UE select the new cell
to perform the Service Request procedure or connection-less mode bearer
establishment is needed;
\- eNB/RNC
\- new connectionless data procedures (e.g. deriving the SGW S1-U F-TEID based
on the received Connection ID);
\- UE context caching and token handling for UEs in idle state potentially in
several eNBs simultaneously for mobile devices;
\- Running token timer and connectionless active timer;
\- Connectionless paging support.
\- Sending a dummy IP packet to the SGW along with an indication to release
the S1-U tunnels (for Alternative B-2).
\- SGW
\- new connectionless data procedures;
\- Running connectionless active timer;
\- Determining whether or not to invoke connectionless paging or mark the DL
forwarding information as \"tentative\" for the received DL data,
\- MME/SGSN
\- new connectionless data procedures (e.g. generating and providing the UE
with Connection IDs for connectionless bearers);
\- Connectionless paging support;
\- Indicating the network support of the connectionless mode in Attach/TAU
accept message (for Alternative B‑2).
##### 5.1.1.3.6.3.4 Alternative B evaluation {#alternative-b-evaluation .H6}
The solutions mainly address SDT that may happen on PDN connections that may
or may not also transfer other patterns of traffic. The number of contexts is
function of the activity, so low activity = few contexts. Similarly, the lower
the mobility the lower the number of contexts. A low activity no mobility will
have zero or one contexts. It is well suited for large populations like
sensors or meters. Static sensors may be provisioned with long aging timers
and stay in one eNB. The eNB has one context and no other eNB has one.
The solution is providing gains for UEs with no or low mobility and for mobile
UEs that have periods of low mobility (e.g., when a user is home or in the
office) as any UE mobility to a cell without stored or with invalid security
context causes fallback to existing procedures. I.e. there is not any
optimization for UEs that never return to the same cell while the context is
stored.
The solution works for frequent and infrequent data transfers, and for small
and large data. When the UE is highly mobile, the UE moves frequently, then
transfer large data in connection-less mode is inefficient.
The control events for the eNB and the SGW are the same as with CP signalling.
The MME/SGW/PGW signalling is eliminated when eNB contexts can be reused.
**Benefits**
\- greatly reduce the signalling in RAN, MME, SGSN, SGW to resume uplink or
downlink data transmission for a UE in idle mode by eliminating the need of
Service Request. The benefits materialize when the UE repeats UL data
transmission in the same Cell within the Token validity time;
\- supports IP-based SDT (i.e. UE still allocated an IP address);
\- existing UP functions is reused, e.g. charging, IP address & IP routing,
firewalls/NATs/VPNs, DPI, etc;
\- small data volume upper limit only constrained by radio design;
\- suitable for both low mobility UEs and high mobility UEs that have periods
of low mobility (e.g. when user is at home or in the office) that have
frequent and infrequent SDT, including bursty transmissions;
\- a long term optimization that can be used for efficient support of SDT;
\- The UE decides when to use the connectionless or connection oriented mode
of operation;
\- No impact on architecture security functional allocation.
**Drawbacks**
\- Impacts on SGW, MME/SGSN, UE, eNB/RNC;
\- Potential latency in purging users from the system can be addressed by
sending a multicast message to the RAN as described in the solution;
\- Storage of UE context in the RAN in idle state, potentially in several eNBs
simultaneously for mobile devices;
\- Extra processing and intelligence in the SGW to maintain timers for active
connectionless PDN connections and to update UE contexts with RAN address upon
inter-eNB/RNC mobility;
\- If the MME has the UE marked as unreachable and the UE becomes reachable
without doing a TAU or other MM/SM NAS procedure prior to sending data in
connectionless mode the notification of UE reachability will be delayed until
a MM/SM NAS procedure (e.g., periodic update) is performed.
Editor\'s note: It is FFS if an additional drawback is: In connection less
mode, UE decides the cell changes, which may collide with network based
resource control.
##### 5.1.1.3.6.4 Solution evaluation {#solution-evaluation-4 .H6}
Editor\'s note: Any combined evaluation for alternatives A and B needed or
useful?
##### 5.1.1.3.7 Solution: Service Request signalling reduction by RRC message
combining
##### 5.1.1.3.7.1 General {#general-8 .H6}
Currently, during Service Request procedure the eNodeB exchanges at least 7
RRC signalling messages with the UE, namely RRC Connection Request, RRC
Connection Setup, RRC Connection Setup Complete, Security Mode Command,
Security Mode Complete, RRC Connection Reconfiguration and RRC Connection
Reconfiguration Complete messages. The MME also conducts a Modify Bearer
Request/Response transaction with S-GW. As a result, the overall signalling
cost of establishing a DRB is
i) 5 non-over-the-air signalling message between MME, eNodeB and S-GW; and
ii) 7 over-the-air RRC signalling messages including the messages for setting
up a RRC connection.
The solution proposed reduces the amount of over-the-air (RRC) signalling
messages required in Service Request procedure, by combining the information
exchanged between the UE and MME in fewer RRC messages.
##### 5.1.1.3.7.1.1 Procedure flows {#procedure-flows-1 .H6}
Currently, RRC messages required during Service Request procedure consist of:
1) RRC Connection Request, RRC Connection Setup, RRC Connection Setup
Complete.
2) Security Mode Command, Security Mode Complete.
3) RRC Connection Reconfiguration, RRC Connection Reconfiguration Complete.
The eNB does not retrieve any context from the MME until RRC Connection Setup
Complete is received.
The proposed solution consists of piggybacking the Security Mode Command
exchange (2) and RRC connection reconfiguration exchange (3) into the RRC
connection establishment exchange (1), and eNB retrieving the context from the
MME earlier in the procedure.
Figure 5.1.1.3.7.1.1-1 shows the call flow of the RRC message combining
solution. The main changes are:
Step 1: UE already includes NAS Service Request and parameters for MME
selection in RRCConnectionRequest message.
Editor\'s note: Piggybacking the Service Request in RRCConnectionRequest (Step
1) increases the size of RRCConnectionRequest. RAN WGs need to study the
impact of this increased size in the TR solution evaluation phase.
Step 2: eNB sends Initial UE Message with Service Request after receiving
RRCConnectionRequest.
Step 4: eNB includes DRB configuration and SMC in the RRConnectionSetup
message.
Editor\'s note: Steps 2 and 3 increase the delay between RRCConnectionRequest
(Step 1) and RRCConnectionSetup (Step 4). RAN WGs need to study the impact of
this increased delay in the TR solution evaluation stage.
Figure 5.1.1.3.7.1.1-1: Service Request with RRC combining (success)
Since the Security Mode Command message is sent in step 4 together with the
DRB configuration, there may be a need to perform partial encryption of
security sensitive IEs. One possible way to do this is as follows:
\- During UE registration procedures (TAU, attach), the UE request for fast
Service Request.
\- The MME provides the UE with security information (e.g., algorithm,
security key, etc) to decipher the encrypted IEs in RRCConnectionSetup during
fast Service Request.
\- During fast Service Request procedure, the MME provides the security
information for partial encryption to the eNB in the Initial Context Setup
Request (Step 3 of Figure 5.1.1.3.7.1.1-1).
\- The eNB applies the partial encryption to the required IEs in
RRCConnectionSetup, using the security information received from the MME.
NOTE 1: The security information for the partial encryption of
RRCConnectionSetup may be independent or partially independent from the UE\'s
Security Context.
NOTE 2: Details of encryption and required parameters to be provided by the
MME to UE and eNB are TBD and require feedback from SA WG3.
Also, the UE needs to know whether the network supports this feature. One
possibility is for the eNodeB to broadcast its capability in a SIB message.
Alternatively, UEs can learn about network\'s capability during Attach/TAU
procedure but this requires changes in MME.
In case of Service Request being rejected, the network falls back to normal
procedures.
##### 5.1.1.3.7.1.1.1 Procedure flows for UMTS {#procedure-flows-for-umts .H6}
In the case of Service Request procedure of UMTS, before transmitting an UL
PDU, the MS needs to perform Random Access procedure, SRB and RRC connection
setup, Iu and NAS connection Establishment and user plane establishment (DRB
establishment and Iu establishment). This amounts to a possible 11 RRC
messages before being able to transmit the UL PDU (6 UL RRC messages and 5 DL
RRC messages) .
Following the RRC message combining principle as for LTE, it is proposed to:
\- merge all the DL messages into one: RRC Connection Setup; and,
\- merge UL messages into 1 or 2: RRC Connection Request and RRC Connection
Setup Complete
Figure 5.1.1.3.7.1.1.1-1 shows the merged message flow of Service Request
procedure. Red texts show the new IEs and/or parameters added to the existing
messages.
NOTE 1: AKA messages are not shown, for simplicity.
Figure 5.1.1.3.7.1.1.1-1: Optimized SDT procedure by combining RRC connection
and Service Request procedures
1\. UE initiates random access procedure to get resource for UL transmission.
For HSPA+ capable UE, RNC assigns resource of common E-DCH to UE.
2\. UE includes NAS Service Request message into RRCConnectionRequest. IDNNS
is also included in this message for RNC to select SGSN. The NSAPI of the MTC
bearer is included in the Service Request message.
Editor\'s note: Piggybacking the NAS Service Request in RRCConnectionRequest
(Step 2) increases the size of RRCConnectionRequest. RAN WGs need to study the
impact of this increased size in the TR solution evaluation phase.
3\. RNC sends initial UE message to SGSN including the NAS Service Request
message.
4\. SGSN sends Common ID to RNC
5\. SGSN sends Security Mode Command to RNC
6\. SGSN sends RAB Assignment Request to RNC to establish DRB of the MTC
bearer
7\. RNC sends RRCConnectionSetup message to UE with SRB parameters, DRB
parameters, security mode command and measurement control information.
Editor\'s note: Steps 2-7 increase the delay between RRCConnectionRequest
(Step 1) and RRCConnectionSetup (Step 8). RAN WGs need to study the impact of
this increased delay in the TR solution evaluation stage.
8\. UE responds security mode command, DRB establishment and measurement
control in RRC Connection Setup Complete message.
9\. RNC sends Security Mode Complete to SGSN per the result of SMC in step 8.
NOTE 2: To avoid changing SGSN, RNC can reply SGSN RANAP Security mode command
soon after step 5 and before step 6. In case AS security mode command fails
later on, RNC can follow an exception handling procedure (e.g. release Iu
connection) to handle this.
10\. RNC replies to SGSN with RAB Assignment Response per the DRB setup result
received in step 8.
11\. SGSN updates GGSN/SGW of the user plane path.
12\. SGW/GGSN replies with update PDP Context Response.
13\. Service Request procedure is completed. UE sends UL user data.
This procedure is for MO SDT. The MT SDT procedure is similar. When UE
receives paging for DL data transmission, UE initiates almost the same
procedure as MO.
Since the Security Command message is sent in step 7 together with the DRB
configuration, there may be a need to perform partial encryption of security
sensitive IEs. One possible way to do this is as follows:
\- During UE registration procedures (RAU, attach), the UE request for fast
Service Request.
\- The SGSN provides the UE with security information (e.g. algorithm,
security key, etc.) to decipher the encrypted IEs in RRCConnectionSetup during
fast Service Request.
\- During fast Service Request procedure, the SGSN provides the security
information for partial encryption to the RNC in the Initial Context Setup
Request (Step 3 of Figure 5.1.1.3.7.1.1-1).
\- The RNC applies the partial encryption to the required IEs in
RRCConnectionSetup, using the security information received from the SGSN.
##### 5.1.1.3.7.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-6 .H6}
Impacts to UE:
\- Support of early Service Request procedure with a new
RRCConnectionRequestion message.
\- Support of RRC combining in RRCConnectionSetup and
RRCConnectionSetupComplete.
\- Support of fallback to the legacy RRC connection setup procedure.
Impacts to eNodeB:
\- Support of new RRC messages.
\- Support of NAS triggered RRC connection setup procedure.
\- Support of fallback to the legacy RRC connection setup procedure.
Impacts to MME/S-GW/P-GW
\- Depending on solution, there may be impact in MME to aid in partial
encryption of RRCConnectionSetup.
Similar impacts can be found to MS, RNC, SGSN and GGSN in case of UMTS.
##### 5.1.1.3.7.3 Solution evaluation {#solution-evaluation-5 .H6}
##### 5.1.1.3.8 Solution: Optimized Service Request procedure
##### 5.1.1.3.8.1 General {#general-9 .H6}
##### 5.1.1.3.8.1.1 Introduction {#introduction-1 .H6}
This solution reduces network signalling under certain conditions by not
invoking the \"Modify Bearer Request\" (MBR) or \"Modify Access Bearers
Request\" (MABR) over the S11 interface. Instead, the network forwards the
necessary control signalling information from the MME to the SGW via S1-MME to
the eNB and GTP-U header information from the eNB to SGW (S1-U). This
optimization reduces MME-SGW signalling and shortens the interval for the SGW
to send DL data.
This optimization can also apply to a Service Request procedure in Iu mode to
save S4 signalling between an S4-SGSN and the SGW by forwarding the necessary
control signalling information from the S4-SGSN to the SGW via Iu to the RNC
and GTP-U header information from the RNC to SGW (S12). This is not further
described in the rest of the clause.
The solution is mainly useful for UEs that have a single bearer (and single
PDN connection) as otherwise piggybacked signalling multiplies. This is for
example M2M devices using infrequent transmission of small data. The solution
would also be useful for other types of UEs not using any dedicated bearers
i.e. having a single bearer/single PDN connection.
The normative specification of the solution may cover support for the full
case of multiple bearers & multiple PDN connections, or it may cover only the
specific case of UEs with single bearer/single PDN connection.
##### 5.1.1.3.8.1.2 Pre-conditions {#pre-conditions .H6}
This solution applies to the Service Request procedures and to the S1 Release
procedure.\ It is these procedures that stand for the majority of signalling
at infrequent small data and frequent small data when the UE is in idle mode.
Alternatively the optimization may also apply to handover procedures, but this
is not considered essential as handovers should be quite rare during SDTs that
should be short in time. The following conditions are similar to those that
apply to use of MABR. The optimization applies to the following procedures:
\- UE triggered Service Request if there is no suspended bearer for that UE,
\- S1-based Handover without SGW relocation,
\- X2-based handover without SGW relocation.
if there is no need for the SGW to send MBR signalling to the PDN GW as
specified in TS 29.274 clause 7.2.24.
In addition to the conditions for MABR, the following conditions apply:
\- Optimized signalling supported by eNB, SGW and MME.
NOTE: This optimization could be extended to support multiple bearers, but is
not proposed at this time. It would require the eNB to send one GTP-U UL
packet per bearer (with its eNB F-TEID) which may be less efficient.
##### 5.1.1.3.8.1.3 Procedures {#procedures-1 .H6}
##### 5.1.1.3.8.1.3.1 SGW indication of support {#sgw-indication-of-support
.H6}
The MME knows whether an SGW supports this optimized Service Request procedure
by local configuration, or via the feature notification procedure (see TS
29.274, clause 11) or by requiring the SGW to indicate in the Create Session
Response its support of the MBR optimization during procedures that create a
session in a SGW, (e.g., Attach, Creating a new PDN connection, SGW change).
For X2 HO, the target eNB starts sending UL data to the SGW prior to sending a
Path Switch Request to the MME. Therefore the source eNB needs to include the
SGW support indication that it received from the MME in the Initial Context
Setup Request, in the X2 HO information to the target eNB.
##### 5.1.1.3.8.1.3.2 eNB indication of support {#enb-indication-of-support
.H6}
When the eNB forwards NAS messages to the MME or a target eNB sends a HO
related message to the MME, the eNB indicates its support for the MBR
optimization.
##### 5.1.1.3.8.1.3.3 Use of optimized signalling {#use-of-optimized-
signalling .H6}
Below is an example of the optimized signalling during a UE triggered Service
Request with subsequent data transmission and S1 Release. In general, if the
eNB received an indication that the SGW supports the MBR signalling
optimization then the eNB includes the necessary control signalling
information (e.g., eNB F-TEID) in the GTP-U header information for the
procedures listed in 5.1.1.3.8.1.2.
The small data UP optimization is triggered within the network. The MME
decides to use the small data UP optimization based on parameters such as APN,
subscription parameters, traffic statistics, number of bearers/PDN connections
(e.g. single bearer or not) etc.
##### 5.1.1.3.8.1.3.4 MO data {#mo-data .H6}
UE Triggered Service Request (TS 23.401 [6] clause 5.3.4.1)
Figure 5.1.1.3.8.1.3-1: UE Service Request procedure for small data
When the UE initiates a Service Request to send data, the following changes
are needed:
Step 2: The eNB indicates if it supports optimized bearer re-establishment.
Step 4: The MME determines if optimized bearer re-establishment can be used.
If the eNB and the SGW indicated support and for example subscription
parameters e.g. indicates \'messaging only\', and/or a specific APN is used,
and/or specific traffic statistic indicates that the optimized bearer would be
beneficial, and/or there are a specific number of bearers/PDN connections
(e.g. single bearer), then the MME will indicate to the eNB in the Initial
Context Setup Request to use optimized GW bearer re-establishment. The eNB may
use a specific predefined inactivity time that is sufficient for transmission
of small data.
Step 6: The eNB includes the eNB F-TEID (i.e. IP address and TEID) in first UL
GTP-U packets to SGW (until eNB receives a DL GTP-U packet). The eNB sends
dummy UL GTP-U packets (i.e. GTP-U packets without user payload) if no UL
traffic is received from the UE. The bearer is identified in the SGW by the
tunnel endpoint identifier (received in the RAB setup step 4) to which the
packet is sent from the eNB to the gateway as per existing procedures. The SGW
establishes the S1-U connection with a predefined inactivity timer equal to
the corresponding eNB inactivity time for small data. The receipt of the
message at the SGW is acknowledged with the receipt of the first downlink
packet at the eNB (which may be a dummy downlink data packet with zero content
used just for the purpose of acknowledgment), thus serving the purpose of the
modify bearer response message. The extra information is no longer included in
the headers of subsequent uplink packets.
The eNB re-sends dummy UL GTP-U packets to the SGW a few times if it does not
receive downlink packet from the SGW acknowledging the receipt of the UL GTP-U
packet at the SGW.
The SGW stores the eNB F-TEID if a new F-TEID was received. SGW forwards the
received GTP-U PDU to PGW (except for dummy packets which are discarded). The
SGW inactivity timer is restarted.
NOTE: The details to ensure S1-U connection setup and packet delivery (e.g. to
send the eNB S1-U F-TEID in one or multiple UL packets or to depend on some
feedback) and the format of dummy packets are for stage 3 considerations.
Step 7: The eNB sends the S1-AP Initial Context Setup Complete procedure after
receipt of downlink packet from the SGW acknowledging the receipt of the UL
GTP-U packet at the SGW (like the RNC returns the RAB Assignment Complete
message to an MSC after successful Iu Framing Protocol initialisation with the
MGW). This implicitly informs the MME that the bearer was successfully re-
activated in the SGW. The MME suppresses the modify bearer signalling on S11
(step 8 to 12) if a small data indication was given to eNB in step 4.
Step 8 - 12: removed
The modify bearer request message normally includes information about each
bearer to be reactivated for the UE and the eNB tunnel endpoint identifier for
each bearer. Since there is only one bearer to be reactivated, and message 6
is tunnelled data associated with the bearer to be re-activated, the bearer
identity and tunnel endpoint information for the one bearer is simply included
in extension headers in the first uplink packets (6).
Step 13: The inactivity timer in the SGW is restarted when UL or DL data is
forwarded by the SGW.
Step 14: The timeout of the inactivity timer triggers the SGW to locally
deactivate the S1-U connection to eNB, by locally removing the stored eNB
F-TEID.
Step 17 - 18: The MME suppresses the modify bearer signalling on S11 (step 8
to 12) if a small data indication was given to eNB in step 4.
##### 5.1.1.3.8.1.3.5 MT data {#mt-data .H6}
The above procedure for MO data applies for MT data as well. The difference is
that a paging procedure proceeds for MO data, followed by a Service Request
that uses the same changes as described for MO data above. When the eNB
establishes the RB/RABs as part of the Service Request, it also sends dummy
packets UL to establish the S1-U connection.
MT data when the DL S1-U connection is active in the SGW, is handled as today
with the difference that the inactivity timer associated to the active
connection is restarted (see step 13 above).
##### 5.1.1.3.8.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-7 .H6}
This is an optimization that is optional for the eNB, MME and SGW to support.
\- eNB:
\- support GTP-U header extensions (S1-U) to include eNB F-TEID when indicated
by MME;
\- when sending Service Request messages to MME indicate support of optimized
signalling (S1-MME). Optionally also when sending other NAS or HO related
messages to MME;
\- (optionally) on X2 HO, include the SGW support indication to the target eNB
(X2)
\- Dummy packets are sent in error cases when a response is not received and
in DL case when eNB needs to send GTP-U header information to SGW before the
UE sends UL data.
\- SGW:
\- Attach/PDN connection/MM-SGW change: indicate to MME in the Create Session
Response, if optimized signalling is supported, or signal the same via the
feature notification procedure.
\- obtain control signalling information (i.e. eNB TEID) from GTP-U header
received from S1-U, store the eNB F-TEID if it has changed and acknowledge
receipt with a DL GTP-U header that may require sending a dummy packet if
there is no DL data to send.
\- SGW maintains an inactivity timer for DL S1-U connections that were
activated using on-path signalling.
\- MME:
\- store whether SGW supports optimized signalling and receive support
indication from eNB.
\- Apply optimized signalling when the criteria described in 5.1.1.3.8.1.2 and
5.1.1.3.8.1.3.4 step 4 are met.
##### 5.1.1.3.8.3 Solution evaluation {#solution-evaluation-6 .H6}
##### 5.1.1.3.8.3.1 Benefits {#benefits-2 .H6}
\- An incremental optimization that can be used for all data transmissions
that the MME determines meet the criteria described in 5.1.1.3.8.1.2.
\- No UE impact.
\- Reduces MME/SGW signalling on Service Request and S1 Release, and
optionally also at S1 HO w/o SGW change and X2 HO w/o SGW change.
\- The race problem with the Service Request in current standard were UL or DL
data reaches the SGW before the S11 modify bearer request message reaches the
SGW would be solved, which may also reduce the response time for DL data in
some situations e.g. when MME has high load.
##### 5.1.1.3.8.3.2 Drawbacks {#drawbacks-2 .H6}
\- Benefits primarily apply for UEs that have single bearer (and single PDN
connection).
\- The GTP-U provides information for SGW and eNB to do control events. Dummy
packets are sent in error cases when a response is not received and in DL case
when eNB needs to send GTP-U header information to SGW before the UE sends UL
data.
##### 5.1.1.3.9 Solution: Lean Service Request Procedure
##### 5.1.1.3.9.1 General {#general-10 .H6}
For transfer of small amounts of data in larger intervals the 3GPP system
needs an inadequate effort for signalling and processing to establish the
radio access bearer. Considering the transfer of only low volume data is the
effort for NAS and AS security signalling, processing and synchronisation
relatively high. Connection-less models, as adopted for GPRS, use the user
plane security context for multiple active mode periods. Similarly, the Lean
Service Request procedure re-uses the AS security contexts and activates AS
security together with RRC reconfiguration so that the RAB setup needs less
messages for UE and within network and is also faster thereby.
##### 5.1.1.3.9.1.1 Procedure flow {#procedure-flow .H6}
The S1 signalling is between eNB and SGW. The flow is as shown below.
Figure 5.1.1.3.9.1.1-1
1\. and 2. are unchanged besides the Service Request message indicates that
Lean Service Request is supported by the UE as a capability, which indicates
that the UE is able to setup RRC with reusing AS security contexts.
3\. The MME sends Initial Context Setup Request to eNB, provides AS security
parameters and indicates therein that RAB(s) should be established based on
earlier used AS security parameters.
4\. The eNB establishes the DRB. UE and eNB initiate AS security with the
parameters used for the earlier RAB.
The remaining steps are not modified.
The security aspects are to be evaluated by SA WG3.
##### 5.1.1.3.9.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-8 .H6}
Impacts to UE:
\- Support of Lean Service Request procedure with capability indication in
Service Request message
\- Support of RRC functionality to re-instantiate stored AS security contexts
when re-establishing RAB(s) and synchronise usage between UE and eNB
\- Support of related error handling
Impacts to eNodeB:
\- same as for UE
\- Support of extended Initial Context Setup handling via S1
Impacts to MME/S-GW/P-GW:
\- The MME serves the Lean Service Request by storing eNB keys during Idle
mode and assigning again
##### 5.1.1.3.9.3 Solution evaluation {#solution-evaluation-7 .H6}
For RAN signalling the solution can provide gains similar to connection-less
models as the radio control signalling reduces mainly to accessing and
granting resources, but it avoids signalling and processing for generating new
security parameters. Compared to a connection-less solution approach with
security entities in SGW it maintains the connection-oriented E-UTRAN model
and requires therefore less changes or additions for the system.
#### 5.1.1.4 Overall evaluation
Editor\'s note: Use this section for evaluation of key issues.
Editor\'s note: It is FFS how user plane based solutions will support small
data charging aspects, and subscription aspects.
Editor\'s note: It is FFS how user plane based solutions can efficiently
support MT small data messaging when the SCS/AS is behind a NAT or Firewall.
### 5.1.2 Key issue - Frequent SDT optimizations
#### 5.1.2.1 Description
Many mobile data applications (e.g. social networking applications, VoIP
applications, etc.) are characterized by transmission of small data packets
(i.e. in terms of packet size) in the UL and DL. SDT may cause the UE to
transition frequently between idle and connected state, if the UE is sent to
idle mode soon after the transmission of small data is complete. If the UE is
kept in connected mode for an extended duration it has impact on UE power
consumption and more extensive control plane signalling is required for
handovers.
Such frequent transmissions can have the following adverse effects on the
network and the UE:
\- Increased control plane signalling in RAN (Radio Access Network) and CN
(Core Network).
\- Increased UE power consumption.
Any solution that aims at optimising for SDT, e.g. keep-alive messages, is
considered under SDDTE BB. This also when the solution\'s signalling reduction
contributes to reduction of UE power consumption. Solutions that are for
optimising SDT can be categorised as following:
a) affect only on 3GPP system level;
b) are completely outside 3GPP system on application level from 3GPP
perspective;
c) a combination of application and 3GPP system level.
Although 3GPP will not develop category b) solutions, it is useful to document
such solutions as far as needed for comparison with and evaluation of 3GPP
based approaches as the latter might become obsolete when category b)
solutions are available that accomplish the same results.
#### 5.1.2.2 Architectural requirements
The following functionalities are required for the network to handle Frequent
SDT:
\- The system needs to support frequent transmission of small amount of data
efficiently with minimal network impact (e.g. signalling overhead, network and
radio resources, delay for resource reallocation).
\- The system needs to support mechanisms to reduce the high frequency of
signalling procedures, e.g. RRC signalling, paging / Service Request
procedures, caused by frequent SDT or frequent UE state transition.
NOTE: The solutions considered for this key issue should avoid conflict to the
goals and requirements for UE Power consumption optimization described in
clause 7.1
Editor\'s note: Additional architecture goals for frequent SDT optimizations
are FFS.
#### 5.1.2.3 Solutions
##### 5.1.2.3.1 Solution: Core Network assisted eNB parameters tuning for
Small Data Transfer
##### 5.1.2.3.1.1 General {#general-11 .H6}
When multiple applications popularly used these days are running on the UE,
the UE sends the small data (e.g. keep alive messages) with a frequent and
diverse traffic pattern. This causes frequent UE state transitions. If the
period sending the small data is not synchronized among the applications
and/or number of applications running on the UE is high, the frequency becomes
higher and higher.
Parameters like the RRC inactivity timer and the DRX timers are determined
locally at the eNB. The setting of these parameters has quite some impact on
the frequency of idle/active transitions, as well as the level of power
consumption in active and idle state.
RAN2 studies in TR 36.822 [8] analyse in particular the effects of the RRC
inactivity release timer and/or the DRX cycle on network signalling
(transitions idle\<>connected), handovers (extra handover signalling when
keeping the UE in connected state for a longer RRC release timer, in
particular for moving UEs), and UE power consumption, for different kinds of
traffic.
RAN2 also specified in Rel-11 (see TS 36.300 [9] and TS 36.331 [4]) a new UE
assistance information procedure enabling the UE to indicate to the network a
power preference indication, e.g. lower power consumption, to enable the eNB
to optimize the setting of the DRX parameter & RRC (inactivity) release timer.
This feature however suffers from the drawback that how this is used by the UE
is implementation dependent. Besides, only new terminals can use them leaving
the legacy handling still an open issue.
It is therefore useful to look at alternative or additional ways to optimize
the setting of these parameters in order to minimize the UE state transitions
and achieve optimum network behaviour.
The MME, for instance, could provide CN assistance information to the RAN
based on initial values for the parameters provided at attach time or
subscription data (e.g. related to expected mobility pattern, or expected
allowed applications characteristics such as whether only mobile originated
services are expected by the particular vertical application) and/or the
learning of the signalling traffic pattern (e.g. time between successive
signalling connections, mobile originated or/and mobile terminated traffic)
and/or the mobility pattern (e.g. static vs. moving) of the user. The CN
assistance information can enable the RAN to adjust/optimize the RAN
parameters (DRX cycle and/or RRC user inactivity timer) applied to the UE and
thus reduce the frequency of transitions between idle and connected states,
minimize network signalling, and save UE battery consumption.
In case the UE frequently changes its states, RAN could adjust the RRC user
inactivity timer of the UE longer than the one of the UE rarely changing its
state. In addition, RAN could determine a longer DRX cycle for the UE in order
to save the UE battery consumption.
The RAN may also help the MME and the new eNB additionally by the transfer of
RAN assistance information to the MME during the release of the signalling
connection (e.g. in the UE Context Release Complete message sent by the eNB to
the MME) e.g. the value of the RRC user inactivity timer applied for the
signalling connection being released and e.g. the related DRX idle and active
mode timers, for subsequent use during the setup of the next signalling
connection of the user. The RAN assistance information is relayed between
eNB\'s, but the MME can also use it to improve the CN assistance information.
The RAN assistance information may also include information provided by the UE
to the eNB to improve the selection of eNB parameters.
As an alternative, the core is not providing additional intelligence and just
relaying transparently the RAN information between eNB\'s at Handover time and
between S1 release and Service Request.
As the UE moves, the eNB may change, so the same long term information
collected at the MME cannot easily be collected in the RAN as e.g. the
duration of an active connection may span the coverage of multiple eNB\'s. To
achieve the same functionality, the RAN nodes would need to transfer between
applicable information, e.g. the applied inactivity timers and potentially
history and statistics they gain, during Handover procedures and when the UE
is idle the information would need to be stored in the MME.
Figure 5.1.2.3.1.1-1 provides an example call flow whereby the MME provides CN
and/or RAN assistance information to the eNB during the setup of the RRC
signalling connection.
{width="6.654861111111111in" height="3.448611111111111in"}
Figure 5.1.2.3.1.1-1: Core Network assisted eNB parameters tuning for Small
Data Transfer
Figure 5.1.2.3.1.1-2 provides an example call flow whereby the MME provides
relay service and storage of RAN assistance information to the eNB between S1
release and the setup of the RRC signalling connection. The data is stored in
a transparent way for the CN, and the content of the data depends on what
information RAN needs to store.
{width="6.654166666666667in" height="3.448611111111111in"}
Figure 5.1.2.3.1.1-2: Core Network relayed eNB parameters tuning for Small
Data Transfer
The MME may monitor the following UE\'s activity in particular (for the CN
assisted solution):
\- The MME is aware of when signalling connections are established and
released, so the MME can keep data related to the time elapsed between the
release of the last signalling connection and the establishment of the
subsequent signalling connection for a UE. An average short duration (e.g. a
few seconds) between successive signalling connections would be an incentive
for the RAN to increase the RRC user inactivity timer;
\- The frequency of transitions between idle and connected modes can allow the
detection of UE\'s with frequent transitions;
\- The MME is aware of change of eNB when the UE is in active state. A rapidly
moving UE may be put on shorter RRC inactivity timers than a static UE.
The MME can therefore assist the RAN in optimizing RAN parameters, the DRX
cycle (i.e. period of discontinuous reception when the UE is in connected or
idle state) and/or the RRC user inactivity timer (i.e. timer used in the RAN
to release the RRC signalling connection of the UE). This assistance
information may be provided by the MME e.g. during the setup of the signalling
connection (e.g. in the S1-AP Initial Context Setup Request sent to the eNB,
but other procedures may also be affected) or other procedures which involve
interaction between UE, CN and RAN.
In the alternative with just information relay between eNB\'s by the MME, the
statistics the MME can collect as discussed above can also be collected by the
eNB\'s, but the Core needs to relay between eNB\'s the information that the
next eNB needs (which information would be up to RAN to define) to use to
perform the calculations related to velocity, transition idle-active
statistics.
The principles of this solution can equally apply to UEs under UTRAN with the
SGSN relaying information or with the SGSN monitoring the UE activity and
passing CN and RAN assistance information to the RNC. Though, as for UTRAN the
RNC assist a larger area than an eNB i.e. there would be a less need for
introducing the same functionality for UTRAN.
##### 5.1.2.3.1.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-9 .H6}
For the CN assisted alternative:
Impacts to HSS:
\- storing the subscription data used in determining the CN assistance
information.
Impacts to MME:
\- setting of CN assistance information based on subscription data and/or
(dynamic) monitoring of the UE activity;
\- storing RAN assistance information received from the last eNB during the
release of the last RRC signalling connection;
\- passing CN and/or RAN assistance information to the eNB during the setup of
a new RRC signalling connection.
\- passing CN and/or RAN assistance information to new MME in case of the idle
mobility events and inter MME handovers.
Impacts to eNB:
\- tuning of RAN parameters (e.g. DRX cycle and/or RRC inactivity timer) using
CN and/or RAN assistance information;
\- providing the RAN assistance information to the MME during the release of
the RRC signalling connection and S1 and X2 handover procedures.
\- providing the RAN assistance information to the target eNB over X2 during
an X2 handover procedure.
For the CN relaying alternative:
Impacts to MME:
\- storing RAN assistance information received from the last eNB during the
release of the last RRC signalling connection;
\- passing CN and/or RAN assistance information to the eNB during the setup of
a new RRC signalling connection.
\- passing CN and/or RAN assistance information to new MME in case of the idle
mobility events and inter MME handovers.
Impacts to eNB:
\- providing the RAN assistance information to the MME during the release of
the RRC signalling connection and S1 and X2 handover procedures.
\- providing the RAN assistance information to the target eNB over X2 during
an X2 handover procedure.
##### 5.1.2.3.1.3 Solution evaluation {#solution-evaluation-8 .H6}
Editor\'s note: RAN WGs would need to provide feedback in relationship also to
the existing RAN capabilities.
The CN assistance-based solution provides additional intelligence to the RAN
in the selection of the timers related to activity and idle mode, thus
providing ways to reduce the number of signalling transaction related to UE
activity patterns. This could be for instance from additional information
derived e.g. from subscription information, information configured in the
core.
The additional benefit is that it not only covers the need to optimize
parameters tuning for SDT related issues, but also it can be used to optimize
energy consumption and handover related signalling with the intelligence the
core can provide by inspecting the UE mobility patterns.
The advantage of this solution compared to UE-based solutions is that the UE
is not impacted and therefore this can be used also for legacy UE\'s. Also,
since there is no need of specialized configuration information, it is not too
impacting operations of the network.
##### 5.1.2.3.2 Solution: Push Proxy/Device Agent Function for reducing
heartbeat/keep-alive of applications
##### 5.1.2.3.2.1 General {#general-12 .H6}
The figure below illustrates the deployment of a \'push proxy\' function (also
known as a \'device agent\' function) for reducing keep-alive data of
applications.
NOTE: The MTC AAA operates in proxy mode.
Figure 5.1.2.3.2.1-1: Using a push proxy/device agent function to bypass
NAT/firewall
A push proxy/device agent function is deployed to enable applications sending
MT information to devices without a need for keep-alive signalling that keeps
a NAT and or firewall open for MT communications. The proxy/device agent
functionality is allocated on the user plane path between device and
application server. This is accomplished by proxying application data traffic
via the proxy/device agent function, i.e. enabling the application. Or, by
enforcing to route the specific application traffic via the proxy/device agent
function. This traffic bypasses the NAT/firewall and thereby it avoids the
need for keep-alive signalling.
The proxy/device agent function is informed by the PGW/GGSN via (S)Gi
Radius/Diameter functionality about the existence of a PDN connection and also
about mapping between external ID and allocated (internal) IP address. Thereby
applications may use the external ID for sending information to devices and
the push proxy/device agent knowing the mapping of external ID and internal IP
address delivers the information to devices via the existing PDN connection.
In addition or alternatively applications on the device registers with the
proxy/device agent providing e.g. its (internal) IP address, identity etc.
NOTE 1: The notification of PDN connection establishment/release using
Diameter functionality is for the PGW, and the notification of PDP context
establishment/release using Radius functionality is for the GGSN. This is
supported by the existing functionality of (S)Gi authentication and accounting
procedures in TS 29.061 [7].
The proxy/device agent registers with the application server for the user.
Alternatively the proxy/device agent updates a DNS with the device IP address
and optionally other information (e.g. Ext ID). The domain name that is used
for the device should include an identifier that known by the application
server (e.g. known through pre-configuration, pre-provisioning, or earlier
signalling with the device). Such an identifier may be the External ID or it
may be an application specific device identifier.
If the proxy/device agent is transparent for the applications the proxy/device
agent may replace the device\'s IP with its own IP address in registration
signalling and DNS update, unless security functions prevent it. The
proxy/device agent may also verify the external ID used for application level
registration. The proxy/device agent function may control the permitted
applications if it has application knowledge. When the PDP context is released
the proxy/device agent function is informed via (S)Gi Radius/Diameter
functionality so that the proxy/device agent can deregister from all
applications or just PDN connection if it does not have application knowledge,
e.g. when the UE perform a power-off detach. Making thereby also sure that the
IP address /communication parameters are not kept for long by applications,
which may cause issues when the same parameters get later allocated to other
users.
Other small data optimizations for the 3GPP system may apply when a push
proxy/device agent is used.
NOTE 2: This solution, when using application level proxy support, needs
specific functionality at the application layer e.g. the applications needs to
know/implement stopping performing keep-alive and using the push proxy/device
agent, which is out of 3GPP scope.
**The figure below shows an example for a procedure of the alternative where a
DNS is used.**
Figure 5.1.2.3.2.1-2: Application level solution for reducing keep-alive
messages using DNS
1\. The UE activates a PDN connection by sending a request to the GGSN/P-GW.
2\. The GGSN/P-GW requests internal IP address for the UE from Device
Agent/Proxy. The Device Agent/Proxy allocates the address. The GGSN/P-GW makes
sure the UE receives the IP address (in case of IPv6 both the assigned prefix
and a known IID).
3\. Optionally/alternatively application(s) in the UE register with the Device
Agent/Proxy.
4\. Device Agent/Proxy publishes UE\'s access information into public DNS
records, such as in the form of External Identifier, MSISDN, host names, or
any predefined alias names, and inserts it into DNS.
5\. Later when the Application Server has to send downstream data to the UE,
it does a DNS lookup using the published access information of the UE, after
the DNS lookup the application server will know the public IP address on the
Device Agent/Proxy to reach the UE.
6\. The application server then sends the data to Device Agent/Proxy using the
public IP address.
7\. Device Agent maps the IP address of the received data to the UE\'s
internal IP address, and forwards the data towards the UE.
NOTE 3: The Proxy/Device Agent solution uses configurations with home routed
traffic.
##### 5.1.2.3.2.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-10 .H6}
Editor\'s note: Impact on existing nodes and functionality is FFS.
Proxy/Device Agent: resides at application level, allocates internal IP
address for UE and publishes or registers the UE\'s access information towards
external application servers or DNSes, as well as maps the public IP address
of the inbound data from AS to the internal IP address of the UE.
##### 5.1.2.3.2.3 Solution evaluation {#solution-evaluation-9 .H6}
##### 5.1.2.3.3 Solution: Eliminate keep-alive packet by network-based always-
on solution
##### 5.1.2.3.3.1 General {#general-13 .H6}
Some Instant Messaging and other real time applications generally send keep-
alive data (heartbeat/beacon) frequently to make the application server aware
of the client\'s online status, keep the PDP context/PDN connection always on
and maintain the state binding when NAT exists. This leads to lot of
signalling and increased power consumption of the handset.
To achieve the above goals without sending heartbeats, or to reduce the
frequency of the heartbeats, the following network-based always-on solution is
proposed:
1) The application status (online/ offline) and the connection status
(connected/disconnected) can be exchanged via the interface between the
application server and the network.
2) The network keeps the always-on connection by holding the PDP context/PDN
connection. The NAT session binding will also be kept when a NAT exists.
##### 5.1.2.3.3.1.1 Procedure flow {#procedure-flow-1 .H6}
The detailed procedures are summarized as below:
1\. An always-on type of application is opened in the UE and sends its online
state and the local IP address and the port of the application to the
application server (AF). The application client in the UE will start to send
the heartbeat packets.
2\. The AF informs the PCRF about the application local IP address and port
via the Rx interface.
3\. The PCRF sends an always-on indication to the GGSN/PGW.
4\. The GGSN/PGW keeps the PDP context/PDN connection as \"always-on\" and
will not deactivate/release the PDP context/PDN connection.
Editor\'s note: How does the GGSN/PGW keep the NAT state binding is FFS when a
NAT exists. Some candidate solution is listed in section 5.1.2.3.3.1.2.
5\. The acknowledge message is sent from GGSN/PGW back to the PCRF, and then
to AF.
6\. The application server informs the client to stop sending the heartbeat
messages.
Figure 5.1.2.3.3.1-1: Network-based Always-on solution procedures
##### 5.1.2.3.3.1.2 Further analysis of the solution {#further-analysis-of-
the-solution .H6}
1\. Candidate solution for keep the NAT state binding
There are some solutions can be considered as the candidate solutions to
achieve NAT state binging in the step 4, for example:
1) The GGSN/PGW acts as a PCP client and maintains the NAT state through PCP
control messages. The PCP approach is work in progress by IETF. The PCP base
protocol is described in RFC 6887. .
2) The GGSN/PGW acts as a TCP proxy. The TCP connection is established between
UE and GGSN/PGW and between GGSN/PGW and AF. The GGSN/PGW sends the
application level TCP heartbeat message towards AF on behalf of UE. In this
case, the UE is configured to establish TCP connections via the TCP proxy.
3) The PCP client in the UE contacts to the PCP server in the network and asks
the current NAT binding lifetime for the application flow from the internal
address and port to the external address and port. If the lifetime is less
than what expected, the PCP client requests the PCP server to extend the NAT
binding. The application client reduces the application heartbeats to
correspond with the NAT binding lifetime as indicated by the PCP server.
2\. Stop the always-on state
When the application logout, the AF will send the logout indication to the
PCRF then to the GGSN/PGW to stop the always on state. The GGSN/PGW need not
to keep the PDP context/PDN connection specifically for this always on
application.
If the UE connection state is changed, e.g., due to unreachable,
deactivation/detach, the GGSN/PGW will indicate the termination of the always-
on application to the PCRF then to the AF.
3\. Further optimization
When downlink data arrives, the network will page the UE. If the UE enters
areas without coverage or the application terminates abnormally, the server
could not receive acknowledge message in such cases. To avoid unnecessary
paging signalling, the server does not keep sending downlink data to the
client. Instead, the AF needs to release the online state of the user and
inform the PCRF and GGSN/PGW.
##### 5.1.2.3.3.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-11 .H6}
GGSN/PGW
\- Need to preserve PDP context/PDN connection based on the always-on policy.
\- Maintain the NAT state for session binding when there is a NAT deployed.
i.e., implement one of the following:
1) PCP client function to communicate with PCP server in NAT/FW, or,
2) TCP proxy and send keep alive to AF on behalf of UE.
PCRF
\- Support network-based always-online control described in the solution.
Receive and send message to indicate the always-on state start/stop between AF
and GGSN/PGW.
UE and AF
\- Need to aware the network always-on solution and work as the procedures as
identified. The application protocol needs to be enhanced to support the
heartbeat usage negotiation. This need to be conducted in the corresponding
SDO (e.g., OMA).
\- If UE based PCP is used to maintain the NAT binding state, the UE need to
implement PCP client.
##### 5.1.2.3.3.3 Solution evaluation {#solution-evaluation-10 .H6}
Note: Evaluation of the solution should also consider the applicability of
related solution, such as Google Cloud Messaging Server (GCM).
##### 5.1.2.3.3.3.1 Benefits {#benefits-3 .H6}
\- Frequent keep-alive data transmission on the UE is avoid, thus reducing
UE\'s power consumption
\- Radio resources can be saved since frequent heart beats are not needed
anymore.
##### 5.1.2.3.3.3.2 Drawbacks {#drawbacks-3 .H6}
\- The server may not be able to know the application unreachable timely if
the UE moves to an area without coverage or the application client terminates
abnormally.
\- If the NAT is deployed and if the GGSN/PGW is required to send keep alive
message on behalf of the UE, it costs large of GGSN processing capability.
\- The solution, if being standardized in R12, may need to consider
interworking with other SDOs (e.g., OMA) to coordinate the related interface
and functionalities.
\- The implementation of application on the handset and on the application
server is out of 3GPP scope. This solution works only together with
applications that that partner with the operator and are aware of this new
network based solution and can be advised to stop heart-beat messages.
## 5.2 Device triggering enhancements
### 5.2.1 Key issue - Overload handling and scalability for device triggering
#### 5.2.1.1 Description
This key issue relates to device triggering optimization for overload handling
and scalability of device triggers which was not fully specified in Rel-11.
For potentially large number of MTC devices, device trigger functionality can
overload the operator network and therefore appropriate mechanism needs to be
developed to prevent such overload from device triggers. In case of congestion
situation, control mechanisms are needed to avoid that the trigger requests
deteriorate the congestion. This key issue also study the solutions for
scalability of device trigger when large numbers of devices need to be
triggered at the same time. The scalable transmission of trigger request is
independent from the Group based feature.
#### 5.2.1.2 Architectural requirements
The following architectural requirements need to be met:
\- It needs to be possible to provide a load control mechanism for the trigger
requests over Tsp. For e.g. controlling the ingress rate of trigger requests
from a specific SCS at the MTC-IWF or the aggregate ingress rate from all SCS
at the MTC-IWF or by some other means to reduce the load on the network.
\- It needs to be possible to provide a load control mechanism for the trigger
requests over T4/T5 interface. For e.g.: network node (e.g. MME/SGSN/SMS-SC)
initiating overload control to MTC-IWF for trigger request, or network nodes
controlling (e.g. dropping/rejecting) the trigger requests in case of
congestion.
\- Trigger load control mechanisms need to ensure that the network congestion
is not exacerbated by UEs that respond to triggers.
\- The trigger mechanism needs to be able to provide a scalable transmission
of trigger request and trigger response messages for multiple MTC Devices in
the PLMN and on the interfaces to the SCS.
#### 5.2.1.3 Solutions
##### 5.2.1.3.1 Solution: Overload control for device triggering
##### 5.2.1.3.1.1 General {#general-14 .H6}
For device triggering, a SCS can send a trigger over Tsp interface to an MTC-
IWF for trigger delivery over T4 to SMS-SC (see TS 23.682 [3]) or over T5 to
MME/SGSN directly. There are following parts for overload control for device
triggers:
1\. The MTC-IWF supports load control functionality to indicate SCSs over Tsp
interface to limit trigger loads generated on it. This is described in clause
5.2.1.3.1.1.1.
2\. The MME/SGSN/SMS-SC and MTC-IWF supports overload control functionality to
allow the MME/SGSN/SMS-SC to limit trigger loads generated on it over
T5b/T5a/T4 interface. This is described in clause 5.2.1.3.1.1.2.
##### 5.2.1.3.1.1.1 MTC-IWF Control of Trigger Load over Tsp to SCS(s) {#mtc-
iwf-control-of-trigger-load-over-tsp-to-scss .H6}
The use of the load control on MTC-IWF is for handling of signalling load and
avoiding signalling overload from the SCSs sending triggering requests to
target UEs.
The MTC-IWF can detect the trigger load associated with a particular SCS and
perform the load control based on criteria such as: the ingress/service rate
of triggers from a specific SCS, the aggregate ingress/service rates from all
SCSs, the maximum number of queuing trigger requests from a specific SCS or
all SCSs, one or multiple MMEs/SGSNs/SMS-SCs indicate congestion to the MTC-
IWF, or setting in network management.
The MTC-IWF and SCSs support the load control functionalities over the Tsp
interface in the following manners:
\- The MTC-IWF checks quota or the trigger submission rate over Tsp of the
authorized SCS.
\- The MTC-IWF indicates the SCS to control trigger load by sending an
appropriate message over Tsp interface with optional IEs indicating Tsp
suppression parameters, including suppression factor, suppression duration or
the suppression subcategories, e.g. a priority type, a specific TCP/UDP port,
etc., to suppress the triggers sending from one or more SCSs, where the
suppression factor indicates the percentage of triggers that is expected to
receive from the SCS, the suppression duration indicates the duration the
trigger suppression is expected to last, and the suppression subcategories
further indicates the specific type of triggers to be suppressed.
\- The MTC-IWF can inform the SCS for the failure trigger delivery with an
appropriate failure cause and optionally indicating a suppression duration for
the specific UE for preventing further trigger requests sending from the SCS
to this UE.
\- The MTC-IWF reports the failure of the trigger delivery (e.g. indicates
that the cause of the failure delivery is due to network congestion) to the
SCS.
\- The SCS sends Device Trigger Request message based on authorized trigger
submission rate or based on trigger suppression parameters received from the
MTC-IWF.
\- The MTC-IWF and SCSs should take priority of trigger into consideration for
load control, e.g. not suppress triggers with high priority.
With load control mechanism at MTC-IWF, it is anticipated that the trigger
load generated by each SCS to the MTC-IWF is handled well. However under
certain circumstances, e.g. network congestion on the MME/SGSNs, the MTC-IWF
may also need to suppress triggers delivery to the congested MME/SGSNs as
detailed in the following clause.
##### 5.2.1.3.1.1.2 Control of Trigger Load over T4 {#control-of-trigger-load-
over-t4 .H6}
T4 overload control is defined in TS 29.337 [10] for Rel-11. As per clause
5.2.1.3 of TS 29.337 [10], if the SMS-SC cannot fulfil the received request
due to congestion, it needs to return a Result Code of
DIAMETER_ERROR_SC_CONGESTION to MTC-IWF. DIAMETER_ERROR_SC_CONGESTION
indication is carried inside Experimental result.
MTC-IWF behaviour on receiving overload indication from SMS-SC is not defined
In addition, no information is provided as to when the SMS-SC is expected to
restore service.
As an enhancement, the SMS-SC may send a \"back-off timer\" together with the
overload indicator to inform the MTC-IWF indicating when the SMS-SC is
expected to restore the services.
##### 5.2.1.3.1.1.3 MME/SGSN Control of Trigger Load over T5 to MTC-IWF
{#mmesgsn-control-of-trigger-load-over-t5-to-mtc-iwf .H6}
It order to prevent the network congestion from being exacerbated by UEs that
respond to triggers, the network needs to ensure that no UEs are triggered as
long as the particular congestion situation remains, e.g. NAS level Mobility
Management Congestion Control (see TS 23.060 [5], TS 23.401 [6]). Hence to
reflect the amount of trigger load that the MME/SGSN wishes to reduce, the
MME/SGSN can sent an appropriate message over T5b/T5a interface with optional
IEs indicating T5 suppression parameters including suppression factor,
suppression duration, and/or suppressing subcategories, e.g. a specific
priority type, etc.
When receiving T5 suppression parameters from the MMEs/SGSNs, the MTC-IWF can
conducts overload control in the following manners:
\- perform trigger suppression on triggers as indicated in the T5 suppression
parameters to stop indicated triggers submitting to the congested network
node;
\- return the failure report with appropriate cause value to SCS for
suppressing a trigger as indicated in the T5 suppression parameters;
\- determine if performing load control over Tsp interface on one or more MTC
servers as described in clause 5.2.1.3.1.1.1.
During an overload situation the MME/SGSN and MTC-IWF should support for
triggering UEs for high priority triggers.
When the MME/SGSN is recovering from overload situation or network congestion,
the MME/SGSN can send an appropriate message indicating new suppression
parameters for trigger suppression, or send an appropriate message indicating
new suppression parameters that permits more trigger to be delivered over T5,
or resume handling triggers from the MTC-IWF when the suppression duration is
expired.
The MTC-IWF uses the latest trigger suppression parameters to determine
trigger delivery routes and trigger load control.
If the MME/SGSN applies NAS level congestion control to a particular target
UE, i.e. a back-off timer is running on the UE, the MME/SGSN can decide
whether to reject the trigger request in order to avoid MO MM or SM signalling
from the target UE to the network. The SGSN/MME may reject the trigger request
to the UE based on one or more of the following conditions:
\- the priority of the trigger request; or
\- if the trigger request is used for device triggering; or
\- if back-off timer is applied to target UE.
An appropriate reject cause indicates that the unsuccessful trigger request
delivery is for the particular UE (e.g. due to congestion or MM back-off).
Additionally the MME/SGSN may inform the MTC-IWF about suppression duration a
timer for suppressing the further trigger request to this UE (similar value as
the MM back-off timer running in the MME/SGSN). For device triggering message
with validity period, the MTC-IWF can compare the validity period and the
suppression duration, if any, to conduct further handling for the triggering
message. If validity period is larger than the suppression duration, the MTC-
IWF can attempt delivery the triggering message to the target UE at a later
time after the expiration of the suppression duration. Otherwise, the MTC-IWF
can delete the triggering message after the expiration of the valid period and
report the failure of the trigger delivery (e.g. indicates that the cause of
the failure delivery is due to network congestion) to the SCS/AS.
##### 5.2.1.3.1.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-12 .H6}
\- Tsp interface needs to support protocols and messages for overload control
between the MTC-IWF and SCSs.
\- T4 interface needs to be enhanced to support the overload control
functionality;
\- T5 interface between MTC-IWF and MME/SGSN needs to support protocols and
messages for overload control.
\- SCS needs to follow the latest received Tsp suppression parameters sending
from the MTC-IWF or the trigger submission rate indicated in the subscription.
\- MTC-IWF needs to detect trigger load and support overload control
mechanisms over Tsp to the SCSs, and need to follow the latest received T5
suppression parameters sending from the MMEs/SGSNs.
\- MME/SGSN needs to support overload control mechanism on triggers submitting
from the MTC-IWF, e.g. when conducting NAS level congestion control.
##### 5.2.1.3.1.3 Solution evaluation {#solution-evaluation-11 .H6}
**Benefits:**
\- Enable the MTC-IWF to regulate trigger loads by overload control to reduce
the trigger loads generated by one or more SCSs.
\- Effectively protect network nodes (e.g. MME/SGSN, MTC-IWF) from network
overload due to massive simultaneous trigger requests from SCSs.
\- Avoid massive individual failure report messages responding from an MTC-IWF
to the SCS or from a congested network node to the MTC-IWF.
**Drawbacks:**
\- Network nodes (e.g. MME/SGSN or MTC-IWF) need to support the overload
control function for suppressing trigger load from MTC-IWF or SCSs due to
network congestion/overload.
#### 5.2.1.4 Overall evaluation
Editor\'s note: Use this section for evaluation of key issues.
### 5.2.2 Key issue - Support for T5 device triggering
#### 5.2.2.1 Description
This key issue provides solutions for T5 based triggering which was not fully
specified in TS 23.682 [3] (Rel-11) due to following open issues:
\- Support for delayed delivery of T5 device trigger and how to provide store
and forward capability
\- Format of trigger payload - Generic or SMS
\- Commonalities with monitoring and SDT
\- Charging and subscriptions aspects
\- T5 capability support indication
#### 5.2.2.2 Architectural requirements
Editor\'s note: Capture agreements on requirements for solving the key issue.
This clause may be omitted if deemed unnecessary.
#### 5.2.2.3 Solutions
##### 5.2.2.3.1 Solution: Device triggering using T5
##### 5.2.2.3.1.1 General {#general-15 .H6}
This solution introduces device triggering using generic format over T5. T5 is
a control plane interface between MTC-IWF and serving nodes (e.g. MME/SGSN).
The format of the trigger content is not specified but determined by the
applications using the trigger function provided by the network. In case of
using a generic format triggering, requests are not bound by the SMS message
size. A generic format allows providing trigger handling information that
could be used by the serving node - such as priority or validity time. This
format can also be easily extended, if additional information or functionality
is needed in future releases.
MTC-IWF stores the device trigger message if the HSS indicates that the UE is
not reachable while retrieving the serving node information. MTC-IWF also
stores the device trigger if the delivery attempt via T5 fails. MTC-IWF can
register for \"UE reachability notification\" with HSS when the trigger
delivery fails due to UE reachability. When the UE becomes reachable, IWF is
notified of UE reachability along with the serving node information. If the UE
becomes reachable in the CS domain, the IWF can initiate device trigger via
T4. This also applies for the initial attempt to deliver the device trigger
when the UE is roaming and VPLMN does not support T5 or the UE is registered
in the CS domain only.
Device triggering using T5 is based on services provided by the T5 small data
service \"5.1.1.3.3 Solution: Standalone Small Data Service with T5/Tsp and
generic NAS transport\".
Editor\'s note: Interaction between T4 and T5 S&F functionality is FFS.
Editor\'s note: The solution for T5c is FFS.
##### 5.2.2.3.1.1.1 Capability exchange {#capability-exchange .H6}
There is no specific capability exchange for T5 triggering as the triggering
bases on the services provided by the T5 small data services solution. Any
capability handling for T5 small data implies capability for T5 triggering.
##### 5.2.2.3.1.1.2 Charging {#charging-1 .H6}
Charging can be provided on a per trigger request basis. The MTC-IWF providing
the Tsp can generate CDRs for the Service Requestor taking into account
successful and unsuccessful trigger requests. For the trigger delivery
entities in serving or VPLMN generate CDRs as defined for the T5 small data
delivery service, possibly taking into account any information identifying it
as a trigger.
##### 5.2.2.3.1.1.3 End-to-end security {#end-to-end-security .H6}
It needs to be assured that the Device trigger messages using generic format
are initiated and generated only by trusted entities (e.g. SCS) that have been
authenticated and validated by the network (e.g. can\'t be generated by normal
devices). Mutual authentication needs to be provided between SCS and MTC-IWF
over Tsp between entities in the security domains, in which SCS and MTC-IWF
reside, and MTC-IWF and MME/SGSN over T5 (see TS 23.682 [3]), which is not
different from using Tsp for T4 based triggering. Integrity protection, replay
protection, confidentiality protection and privacy protection is supported for
communication between the MTC-IWF and SCS, and MTC-IWF and MME/SGSN. This will
automatically be applied for all signalling messages (including device trigger
messages in generic format) and is using the same mechanisms that are defined
for protecting network signalling links. Integrity protection and encryption
(in EPS) / ciphering (in UMTS) are supported for NAS messages, thus also
applicable for device trigger messages delivered using NAS (e.g. Generic
downlink NAS transport).
Thereby hop-by-hop security is provided. In addition the T5 small data
delivery service allows for encryption or integrity protection in an end-to-
end manner for the trigger message or the payload, so that the receiver and
any node on the delivery path may verify the message integrity based on the
functionality provided by the T5 small data service.
5.2.2.3.1.1.4 Subscription
The Rel-11 triggering service has already subscription handling for the
trigger requester. This subscription can be independent of the trigger
delivery mechanism (e.g. via T4, via T5, CBS, MBMS).
Delivering a device trigger via T5 small data service to a UE requires a valid
T5 small data service subscription. T5 small data service subscription is
checked by the serving nodes and/or MTC-IWF.
##### 5.2.2.3.1.1.5 Trigger delivery using T5 {#trigger-delivery-using-t5 .H6}
Trigger delivery using T5 and interworked with T4 triggering is assumed as
described in TS 23.682 [3]. Trigger delivery using T5 without any T4
interworking can transfers the trigger information just using the T5 small
data service.
##### 5.2.2.3.1.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-13 .H6}
MTC-IWF
\- As T5 triggering bases on T5 small data delivery the only impact specific
from triggering might be some criterion that makes a Tsp small data delivery
request a trigger delivery request.
HSS
\- Nothing in addition to supporting the T5 small data delivery service.
MME/SGSN
\- Nothing in addition to supporting the T5 small data delivery service.
UE
\- Nothing in addition to supporting the T5 small data delivery service.
##### 5.2.2.3.1.3 Solution evaluation {#solution-evaluation-12 .H6}
**Benefits:**
The Rel‑11 T4 solution has a number of restrictions that originate from the
characteristics of the underlying delivery service. T5 triggering can carry a
larger payload and is therefore better suited for use with standardised
service platform protocols that are not necessarily constrained to fit within
a very small data transfer unit. If T4 delivery is used it may result in
segmentation with multiple delivery messages per trigger. T5 triggering is
then more efficient.
T4 triggering is protected by some delivery message filtering that verifies a
well known code point for a specific message header IE. It may further include
verification of permitted source IDs. However, this cannot completely prevent
fake or erroneous triggers being delivered to the UE, e.g. spoofing cannot be
prevented. The larger message size available for T5 triggering allows for
encryption or integrity protection. Thereby it is much harder to spoof
authorised source IDs or send fake or erroneous triggers. The integrity may
also be checked before transmission to the UE, thus avoiding wasting radio and
UE resources.
T5 triggering provides more flexibility for addressing applications on the UE,
e.g. by a name string.
#### 5.2.2.4 Overall evaluation
T5 triggering is a mechanism on top of the T5 small data delivery service. It
is assumed that T5 triggering becomes available with the T5 small data
delivery service. The only addition might be defining an explicit criterion
that makes a T5 small data delivery a trigger request.
### 5.2.3 Key issue - Recalling or replacing previously submitted trigger
messages
#### 5.2.3.1 Description
In practice, a UE may become temporarily unavailable to receive trigger
messages. For example, the UE may be out of coverage, may be busy with other
tasks and unable to receive and process trigger messages, may lack sufficient
storage space, etc. In such situations, the network needs to queue undelivered
trigger messages for the same UE and re-attempt delivery at a later time (if
their validity period is not expired).
However, when a trigger message is yet undelivered, it may become redundant
and unnecessary, in which case the SCS/AS should be able to recall this
trigger message. In some cases undelivered trigger message may need to be
replaced with new trigger message, such as an undelivered trigger message that
requests the UE to \"send the reading of sensor A\" would need to be replaced
if a subsequent trigger message requests the UE to \"send the readings of all
available sensors\". If the network does not provide the capability to recall
or replace undelivered trigger messages then a lot of unnecessary trigger
messages may be delivered to the UE and waste network resources. As a result,
the triggering system would become highly inefficient.
In order to address the above issue, it should be possible to recall or
replace previously submitted trigger messages which are not yet delivered to
the UE.
#### 5.2.3.2 Architectural requirements
Editor\'s note: Capture agreements on requirements for solving the key issue.
This clause may be omitted if deemed unnecessary.
#### 5.2.3.3 Solutions
##### 5.2.3.3.1 Solution: Device trigger recall/replace
##### 5.2.3.3.1.1 General {#general-16 .H6}
##### 5.2.3.3.1.1.1 Device trigger recall/replace procedure over Tsp {#device-
trigger-recallreplace-procedure-over-tsp .H6}
Figure 5.2.3.3.1.1.1-1: Device trigger recall/replace procedure over Tsp
1\. The SCS determines it needs to recall/replace the previously submitted
trigger message. The SCS sends Device Action Request (External Identifier or
MSISDN, SCS Identifier, old trigger reference number, new trigger reference
number, validity period, priority and trigger payload) message with action
type set to \"Trigger Recall Request\" or \"Trigger Replace Request\". The SCS
needs to include new trigger reference number, validity period, priority and
trigger payload for trigger replace request only. The old trigger reference
number indicates the trigger reference number which was assigned to the
previously submitted trigger message that the SCS wants to cancel. The new
trigger reference number is assigned by the SCS to the newly submitted trigger
message.\ The MTC-IWF rejects the Device Action Request message with action
type set to \"Trigger Recall Request\" or \"Trigger Replace Request\" sent by
the SCS if the SCS has exceeded its quota or rate of trigger submission over
Tsp by sending a Device Trigger Confirm message with a cause value indicating
the reason for the failure condition, and the flow stops at this step.
2a. If trigger message which should be recalled or replaced is stored in SMS-
SC as defined in clause 5.2.2 of TS 23.682 [3], T4 Device trigger
recall/replace procedure according to clause 5.2.3.3.1.1.2 is performed.
2b. If trigger message which should be recalled or replaced is stored in MTC-
IWF as defined in clause 5.2.2.3.1 of this TR, T5 Device Trigger
recall/replace procedure according to clause 5.2.3.3.1.1.3 is performed.
3\. The MTC-IWF indicates trigger recall/replace success or failure in Device
Action Answer message to the SCS.
If recall/replace of a trigger is successful, this is reflected in the
\"Device Trigger Report\" of the original trigger message (per step 7 in
clause 5.2.1 of TS 23.682 [3]) with delivery outcome
\"Recalled\"/\"Replaced\".
NOTE: If recall/replace of a trigger failed because the trigger was already
delivered or expired, a \"Device Trigger Report\" of the original trigger will
already have been created with the appropriate delivery outcome.
##### 5.2.3.3.1.1.2 Recall/Replace for T4 device triggering {#recallreplace-
for-t4-device-triggering .H6}
**Device Trigger Replace procedure**
Figure 5.2.3.3.1.1.2-1: T4 Device Trigger Replace procedure
1\. Based on the Action type in Device Action Request message, the MTC-IWF
sends a Submit Trigger Replace (External Identifier or MSISDN, IMSI, SCS
Identifier, old trigger reference number, new trigger reference number,
validity period, priority, trigger payload) message to the SMS-SC.
2\. Based on the External Identifier or MSISDN, SCS Identifier, and old
trigger reference number in the received Submit Trigger Replace message, the
SMS-SC identifies which trigger message should be replaced. The SMS-SC checks
if the identified trigger message has been sent to the UE or is pending at
SMS-SC.
A) If the trigger message is pending at SMS-SC or if the trigger message has
been sent to the UE but this message delivery fails, steps 3a - 6a are
performed.
3a. The SMS-SC deletes the stored trigger message and stores the new trigger
message to deliver it when the UE is available.
4a. The SMS-SC sends a Submit Trigger Replace Response message to the MTC-IWF
to inform that the previously submitted trigger message has been successfully
replaced by the new one in the SMS-SC.
5a. The SMS-SC sends a Trigger Delivery Report for the original trigger
message indicating that this message has been replaced.
6a. The new trigger message will be delivered to the UE when the UE is
available.
B) If the trigger message has been sent to the UE and this message delivery
succeeds or if the original trigger message has already expired, steps 3b - 4b
are performed. In this case, the SMS-SC treats the new trigger message as a
trigger message that it has to deliver to the UE.
3b. The SMS-SC sends a Submit Trigger Replace Response message to the MTC-IWF
to inform that the previously submitted trigger message has been successfully
delivered and the SMS-SC needs to deliver the new trigger message.
4b. Steps 4 - 9 as defined in clause 5.2.2 of TS 23.682 [3] are performed in
order to deliver the new trigger message to the UE.
**Device Trigger Recall procedure**
Figure 5.2.3.3.1.1.2-2: T4 Device Trigger Recall procedure
1\. Based on the Action type in Device Action Request message, the MTC-IWF
sends a Submit Trigger Recall (External Identifier or MSISDN, IMSI, SCS
Identifier, old trigger reference number) message to the SMS-SC.
2\. Based on the External Identifier or MSISDN, SCS Identifier, and old
trigger reference number in the received Submit Trigger Recall message, the
SMS-SC identifies which trigger message should be recalled. The SMS-SC checks
if the identified trigger message has been sent to the UE or is pending at
SMS-SC.
A) If the trigger message is pending at SMS-SC or if the trigger message has
been sent to the UE but this message delivery fails, steps 3a - 5a are
performed.
3a. The SMS-SC deletes the stored trigger message and requests the HSS to
remove the SMS-SC address from the Message Waiting List.
4a. The SMS-SC sends a Submit Trigger Recall Response message to the MTC-IWF
to inform that the previously submitted trigger message has been successfully
deleted in the SMS-SC.
5a. The SMS-SC sends a Trigger Delivery Report for the original trigger
message indicating that this message has been recalled.
B) If the trigger message has been sent to the UE and this message delivery
succeeds or if the original trigger message has already expired, step 3b is
performed.
3b. The SMS-SC sends a Submit Trigger Recall Response message to the MTC-IWF
with a cause value indicating that the replace request failed, i.e. due to the
successful delivery of the previously submitted trigger message or it\'s
expiration failed, i.e. due to the successful delivery of the previously
submitted trigger message or its expiration.
##### 5.2.3.3.1.1.3 Recall/Replace for T5 device triggering {#recallreplace-
for-t5-device-triggering .H6}
**Device Trigger Replace procedure**
Figure 5.2.3.3.1.1.3-1: T5 Device Trigger Replace procedure
1\. Based on the External Identifier or MSISDN, SCS Identifier, and old
trigger reference number in the received Submit Trigger Replace message, the
MTC-IWF identifies which trigger message should be replaced. The MTC-IWF
checks if the identified trigger message has been sent to the UE or is pending
at MTC-IWF.
A) If the trigger message is pending at MTC-IWF or if the trigger message has
been sent to the UE but this message delivery fails, steps 2a - 4a are
performed.
2a. The MTC-IWF deletes the stored trigger message and stores the new trigger
message to deliver it when the UE is available.
3a. It is considered that the previously submitted trigger message has been
successfully replaced in the MTC-IWF.
4a. The new trigger message will be delivered to the UE when the UE is
available as defined in clause 5.2.2.3.1.1.5 of this TR.
B) If the trigger message has been sent to the UE and this message delivery
succeeds or if the original trigger message has already expired, steps 2b - 3b
are performed. In this case, the MTC-IWF treats the new trigger message as a
trigger message that it has to deliver to the UE.
2b. It is considered that the replace request has been failed, i.e. due to the
successful delivery of the previously submitted trigger message or its
expiration.
3b. The new trigger message will be delivered to the UE when the UE is
available as defined in clause 5.2.2.3.1.1.5 of this TR.
**Device Trigger Recall procedure**
Figure 5.2.3.3.1.1.3-2: T5 Device Trigger Recall procedure
1\. Based on the External Identifier or MSISDN, SCS Identifier, and old
trigger reference number in the received Submit Trigger Recall message, the
MTC-IWF identifies which trigger message should be recalled. The MTC-IWF
checks if the identified trigger message has been sent to the UE or is pending
at MTC-IWF.
A) If the trigger message is pending at MTC-IWF or if the trigger message has
been sent to the UE but this message delivery fails, steps 2a - 3a are
performed.
2a. The MTC-IWF deletes the stored trigger message. If MTC-IWF has registered
for UE reachability notification, MTC-IWF would de-register from UE
reachability notification at HSS.
3a. It is considered that the previously submitted trigger message has been
successfully deleted in the MTC-IWF.
B) If the trigger message has been sent to the UE and this message delivery
succeeds or if the original trigger message has already expired, step 2b is
performed.
2b. It is considered that the recall request has been failed, i.e. due to the
successful delivery of the previously submitted trigger message or its
expiration.
##### 5.2.3.3.1.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-14 .H6}
\- Tsp and T4 need to be enhanced to support new messages and/or new IEs for
Trigger Recall/Replace function.
\- SMS-SC and MTC-IWF need to support Trigger Recall/Replace function.
##### 5.2.3.3.1.3 Solution evaluation {#solution-evaluation-13 .H6}
Editor\'s note: Use this section for evaluation at solution level. Evaluation
at key issue level is done in a separate clause.
#### 5.2.3.4 Overall evaluation
Replacing and recalling already submitted triggers functionality provides
benefits in terms of reducing the congestion situation in the network. In case
of T4, device triggers (SMS) may be stored at SMS-SC until the expiry of
validity period as UE is not reachable or unable to process the trigger
request. For delay tolerant communication validity period may be long.
Recalling/Replacing the trigger avoids unnecessary signalling to the UE and
other network nodes. It may also bring UE in connected mode to deliver the
trigger which was not needed. In case of T5 device trigger same applies if
store and forward functionality at MTC-IWF is enabled for T5 device trigger
delivery.
# 6 Monitoring enhancements (MONTE)
## 6.1 Key issue - Monitoring
### 6.1.1 Description
Monitoring is intended for monitoring of configured events. This comprises of
means that allow for activating monitoring of specific events, the event
detection and the reporting to authorised users, e.g. for use by applications
or logging. For MTC Devices, it is desirable that the network detects and
reports events (including location) caused by those. If such an event is
detected, the network might be configured to perform special actions, e.g.
limit the access or reduce the allocated resource.
This key issue aim at studying and providing solutions for enhancements to
3GPP procedures for configuration of monitoring events, monitoring event
detection and reporting.
### 6.1.2 Architectural requirements
The following architectural requirements need to be met -
**Configuration of Monitoring Events and actions:**
\- It needs to be possible to configure monitoring events in the 3GPP system,
for example - monitoring the association of the MTC Device and UICC and/or new
IMSI-IMEI-SV association, change in the point of attachment, loss of
connectivity, alignment of subscribed feature etc.
\- It needs to be possible to configure the action to be executed by the
network when configured monitoring event is detected, for example - reduce
services provided to the UE, restrict access of the UE, detach the UE etc.
\- It needs to be possible to configure the maximum time between the actual
loss of connectivity and its detection.
\- It needs to be possible for the network to authorize a Service Request to
activate/deactivate subscribed monitoring events/actions from a SCS.
Editor\'s note: the terminologies of the \"configuration\", \"subscription \",
and \"activation/deactivation\" need to be revisited.
**Detection of Monitoring Events:**
\- It needs to be possible for the network to detect monitoring events. On
detection of the monitoring event the Network may execute a configured action.
**Reporting of Monitoring Events:**
\- It needs to be possible for the UE or network to report the detected events
to the Services Capability Server or Application server. Event reporting may
provide more detailed information like the cause for a detected communication
failure event. Application layer reporting of monitoring events is outside the
scope.
NOTE: For configuration and reporting of monitoring events at UE it needs to
be possible to use existing mechanisms. If monitoring requires any new or
specific solution for SDT from/to the UE it should not define an own solution
but take advantage from common solutions from SDDTE.
Editor\'s note: It is FFS whether there are any events that need to be
monitored by the UE based on requirements defined in TS 22.368 [2].
**Charging of Monitoring:**
\- It needs to be possible for the network to generate the charging
information when performing detected events reporting.
### 6.1.3 Solutions
#### 6.1.3.1 Solution: Monitoring via PCC and HSS
##### 6.1.3.1.1 General
An architecture model for monitoring via PCC and HSS is depicted in the
following figure.
Figure 6.1.3.1.1-1: Monitoring architecture model - non-roaming
The main idea of the reference architecture is that the IWF receives the
monitoring event subscription request or status queries from SCS or
Application Server and distributes those to HSS and/or PCRF in HPLMN. PCC
and/or HSS based monitoring functionality provides monitoring event reports
via s to SCS/AS or alternately monitoring events can be reported to a Monitor
Collection Entity (similar to the Trace Collection Entity defined in TS
32.422).
##### 6.1.3.1.2 Flow for Monitoring event configuration
Figure 6.1.3.1.2-1 illustrates the procedure of monitoring event
configuration.
Figure 6.1.3.1.2-1: Monitoring Configuration flow
1\. The SCS sends a Monitoring Request message (the external identity/MSISDN,
list of monitoring events) to the IWF via Tsp.
2\. The IWF checks that the SCS is authorised to send monitoring event
requests and that the SCS has not exceeded its quota or rate of submitting
monitoring requests over Tsp. If this check fails the IWF sends a Monitoring
Event Response message, i.e. proceeds with step 8.
3\. The HSS verifies whether the requested monitoring events are permitted for
the SCS. If permitted, the HSS configures any monitoring events that are
managed by the HSS and stores the SCS ID for reporting when the event happens.
If the HSS managed monitoring events require also reporting from serving CN
nodes the HSS conifgures monitoring events in serving CN nodes.
4 The HSS sends a Monitoring Request Response message indicating which
monitoring events are configured successfully and which failed, possibly
indication a cause per failed monitoring event
5\. If the HSS managed monitoring events require reporting from serving CN
nodes the HSS configures monitoring events in serving CN nodes, through the
existing subscription downloading procedures (e.g., during Attach/RAU/TAU
procedure etc.. or as part of an Insert Subscriber Data procedure). For the
reporting alternative using a Monitor Collection Entity, the monitoring
configuration may include the (IP) address of Monitor Collection Entity and
other necessary information to associate the Monitoring.
6\. SGSN/MME configures the requested monitoring events and confirms success
or failure to HSS.
When the monitoring request requires the involvement of other nodes (e.g. eNB,
SGW, PGW/GGSN), the SGSN/MME has the monitoring request propagated towards
these nodes. Similar mechanisms as used for tracing are used (over S4/S11 to
the SGW, over S5/S8 to the PGW, over Iu/S1 to the RAN).
7\. If requested monitoring events are managed via PCC, the IWF initiates
monitoring event configuration using procedures from TS 23.203. The procedures
are shown extended to include SGSN/MME as depending on the PCC events it will
cause configuration of SGSN/MME, e.g. for location reporting.
Editor\'s note: the detailed procedure flow for the PCC related interaction is
FFS.
8\. The IWF sends a Monitoring Request Response message indicating which
monitoring events are configured successfully and which failed, possibly
indication a cause per failed monitoring event.
Monitoring configuration that is stored in HSS and relevant for SGSN/MME is
sent to SGSN/MME any time when the HSS provisions the SGSN/MME with subscriber
data, e.g. during an attach.
With above procedures, the HSS based monitoring events can be configured
similar to trace configuration (refer to TS 32.422) by SCS or directly pre-
configured (subscribed) in the HSS.
##### 6.1.3.1.3 Monitoring event reporting flows
##### 6.1.3.1.3.1 Monitoring event reporting via HSS and IWF {#monitoring-
event-reporting-via-hss-and-iwf .H6}
The figure 6.1.3.1.3.1-1 illustrates reporting monitoring events from SGSN/MME
to SCS/AS.
Figure 6.1.3.1.3.1-1: Monitoring event reporting flow from SGSN/MME/HSS
1\. Depending on the monitoring event, the SGSN/MME detects a monitoring event
and reports it to HSS.
2\. Depending on the monitoring event the HSS detects an event. The HSS
reports the HSS or SGSN/MME detected monitoring event to the IWF. HSS report
includes the SCS/AS ID.
3\. The IWF sends monitoring event report to the appropriate SCS/AS.
##### 6.1.3.1.3.2 Monitoring event reporting via PCRF and IWF {#monitoring-
event-reporting-via-pcrf-and-iwf .H6}
The figure 6.1.3.1.3.2-1 illustrates reporting monitoring event from
GGSN/P-GW.
Figure 6.1.3.1.3.2-1: Monitoring event reporting flow from GGSN/P-GW
1\. PCC reporting as of TS 23.203 informs the H-PCRF when configured events
happen. The box shows including SGSN/MME as depending on monitoring event, the
PCC monitoring event could be originally detected by GGSN/P-GW or SGSN/MME.
2\. PCRF sends monitoring event to the IWF that has established the PCC
session.
3\. The IWF sends a monitoring event report to the SCS/AS that initiated the
monitoring session.
##### 6.1.3.1.3.3 Monitoring event reporting via Monitor Collection Entity
{#monitoring-event-reporting-via-monitor-collection-entity .H6}
For the Monitoring via Tracing like mechanisms, the actual delivery of
Monitoring related notifications belongs to a dedicated interface that is out
of the scope of SA2 (to be defined by SA5 as for the Trace notifications). A
Monitor Collection Entity (similar to the Trace Collection Entity defined in
TS 32.422) is used to collect the notifications events reported by the PLMN
entities.
Monitoring event can be detected by different nodes depending on event type.
When Monitoring event are detected, the Monitoring event reports are generated
and sent out to the Monitor Collection Entity.
##### 6.1.3.1.4 Specific Monitoring Event handling
**Monitoring Event: Change of Location**
When this Monitoring Event is requested, already existing PCC based location
reporting functionality gets activated to report any location change with the
required location granularity, e.g. cell or TA, towards PCRF. The PCC rules
may determine whether the PCRF reports any change of the location to the IWF
or reports only the change from a normally used area to an area that requires
reporting and potentially actions.
In addition actions may be configured, like reducing service when the event
occurs. E.g. the PCC rules may configure to reduce the maximum bitrate when
moving outside the normally used area.
**Monitoring Event: Change of the association between the ME and the UICC**
This event is configured in the HSS. Attach and other procedures today already
transfer any changed IMEI-SV to the HSS, to same extent depending on
activation of other features like ADD. The HSS compares the received IMEI-SV
with the stored IMEI-SV and reports any difference.
As an action it may be configured in HSS that only the stored IMEI-SV is
permitted to receive services from the network. Any registration request from
a UE with a different IMEI-SV gets rejected by the HSS.
Editor\'s note: the detailed solution about monitoring the association between
IMSI - IMEI-SV for a UE is captured in clause 6.1.3.2.
**Monitoring Event: UE Reachability**
This is completely existing functionality with the 3GPP system. The SCS
requests to be informed when the UE becomes reachable. The IWF transfers this
request to the HSS. The HSS configures this event and stores the SCS ID to
inform the SCS when the UE becomes reachable. If serving nodes are registered
with the HSS the HSS requests the serving nodes to inform the HSS when the UE
becomes reachable.
Any action is assumed to be application level. An already existing action is
sending a stored MT SMS when the UE becomes reachable, which may be considered
as application level action of the SMS service.
Editor\'s note: the detailed procedure flow for the UE Reachability event
configuration and reporting is FFS.
**Monitoring Event: Loss of connectivity**
If loss of the radio connection is of interest a GBR bearer has to be used as
this bearer gets released when the radio connection gets lost. This bearer is
managed using PCC and PCC informs the IWF/SCS when the bearer is released. The
existence of a non-GBR bearer may be monitored in the same way. However this
bearer gets not released when the radio connection is lost. This bearer might
be released by the P-GW when there is no activity for a long time. And then
also connectivity is lost.
Editor\'s note: It is FFS how to handle the case that there is no GBR bearer
for the UE.
Alternatively, if loss of the logical connection is of interests then the HSS
configures the SGSN/MME to report when the UE\'s gets (implicitly) detached,
which is new functionality. The HSS reports to SCS/AS that configured this
event.
##### 6.1.3.1.4 Impacts on existing nodes and functionality
IWF will need to:
\- Receive the monitoring event subscription request or status queries from
SCS. Controlling also access by Service Requestors to that monitoring services
and information.
\- Distribute the monitoring event subscription request or status queries to
HSS via S6m and/or to PCRF via Rx.
\- Receive monitoring event reports or status information from HSS or PCRF
(when subscribed via Rx) and transfer those to SCS.
PCRF and PCC will need to:
\- act basically unchanged for events reporting that PCC already supports. PCC
can perform location reporting with different location granularity allowing
for detecting a changed point of attachment by the IWF or SCS for UEs with
active PDN connections.
\- It is FFS whether PCC needs to implement new session/bearer related event
detection and reporting handling. E.g. if loss of connectivity for non-GBR
bearers is wanted, this may require new event handling for PCC and the entity
that detects it.
HSS will need to:
\- act basically unchanged for handling events or status queries that the HSS
already supports. For example, UE reachability may be offered as a monitoring
event completely based on existing HSS functionality.
\- The HSS needs to implement the new subscription related events and if
needed for the event specific actions that are wanted for MTC and offering
access to that functionality. For example, existing means to configure
regional access restrictions can be used to limit the point of attachment for
a device. Reporting attempts to access outside the permitted region is new
functionality for the HSS. Similarly the HSS can detect that the IMEI does not
match the IMEI stored for the device subscription. Reporting attempts with a
different IMEI is new functionality for the HSS.
> Other entities like SGSN/MME and SGW/PGW/GGSN will need to:
\- implement new event monitoring, reporting and actions as deemed necessary
for any new MTCe specific events. For example, the SGSN/MME may detect loss of
connectivity for non-GBR connections from missing periodic registrations. This
functionality needed is to be determined separately per specific new event.
Editor\'s note: It is FFS how SGSN/MME report towards IWF.
##### 6.1.3.1.5 Solution evaluation
**Benefits:**
\- Session and subscription based monitoring are offered with efficient reuse
of already existing monitoring functionality.
\- Control of access to that monitoring functionality is performed by the IWF,
not adding this to PCC or HSS based monitoring.
\- SCS and Application server can access 3GPP monitoring functionality via a
single IWF provided interface.
**Drawbacks:**
\- Using the IWF to unify access to HSS and PCC based monitoring may introduce
session/context based functionality for the IWF. It is however likely that any
other approach offering continuous reporting of session/bearer events may also
need to establish some session for this.
#### 6.1.3.2 Solution : Monitor the association between IMSI - IMEI-SV for a
UE
##### 6.1.3.2.1 General
The existing feature, Automatic Device Detection (ADD) enables the SGSN/MME to
detect new combination of IMEI-SV and IMSI, and inform the HSS when a request
for a changed IMEI-SV has been made for an MS/UE at attach/RAU/TAU procedure
using Update location message. In the MME ADD might not be required as the
IMEI-SV/IMSI reporting may already be part of the signalling.
After receiving said Update location message with a new IMEI-SV - IMSI
combination, the HSS notifies the SCS. HSS needs to be able to use S6m
interface towards IWF and the IWF needs to be able to use the Tsp interface
towards SCS. The notification contains the External Identity to identify the
subscriber. The SCS can then take its own actions in consequence, for example
send the first trigger to the device asking it to register in the SCS.
NOTE: Subscriptions to said notification in HSS is a provisioning issue,
therefore it is out of the scope of 3GPP.
Editor\'s note: Other event reports are for further study.
##### 6.1.3.2.2 Impacts on existing nodes and functionality
HSS will need to:
\- Support ADD functionality: Receive the monitoring event information from
the SGSN (IMSI attach from this IMEI)
\- Send the monitoring event report to the IWF: HSS maps IMSI to External
Identity and sends a new message in S6m interface for Notification of events
with the event: \"_first attach\"_ containing the External Identity and the
address of the SCS that has to be notified.
IWF will need to:
\- Receive the Notification from HSS through S6m interface using the new
message.
\- Forwards the Notification to the SCS address received from HSS, through Tsp
new message.
> SGSN/MME will need to:
\- Support ADD functionality so IMEI-SV is sent to HSS in location updating at
first IMSI attach or when the IMEI-SV has changed.
Editor\'s note: MME might provide this functionality without requiring the
ADD.
##### 6.1.3.2.3 Solution evaluation
Editor\'s note: This solution needs to be in line with SA3 IMSI/IMEI
requirements.
**Benefits:**
\- SCS is aware of USIM first attach so it can implement useful functions: ask
device to register, extId autoprovisioning...
\- Functionality for event establishment and detection already exist (ADD), so
no high impact
**Drawbacks:**
#### 6.1.3.3 Solution - Monitoring via MTC-IWF using Tsp
##### 6.1.3.3.1 General description
This solution is based on the current architecture for Machine Type
communication defined in TS 23.682 [3] by enhancing Tsp reference point
between SCS and MTC-IWF for Monitoring. In addiiton this utilizes T5 reference
point for monitoring events configuration, activation, deactivation, reporting
etc.
Before the detection and reporting of Monitoring events, the Monitoring
configuration data is provided to the network entities which perform the
detection and reporting of Monitoring events. The Monitoring configuration
data provides the information related to the detection/reporting of Monitoring
events, such as: the Monitoring event type, corresponding actions to the
event, the information of SCS/AS which subscribes the Monitoring events, the
activation/deactivation of each Monitoring event, etc.
In this solution, the MTC Monitoring configuration can be performed in the
following ways:
a) The MTC Monitoring configuration data is statically stored as part of UE
subscription in HSS, and downloaded to the SGSN/MME during Attach Procedure.
Or,
b) The MTC Monitoring configuration data is dynamically provided by the SCS.
The SCS sends requests to the MTC-IWF to configure, activate, deactivate or
trigger report delivery for a particular monitoring event. The MTC-IWF
instructs the serving SGSN/MME to perform corresponding actions.
Editor\'s note: It is FFS whether there is need to configure monitoring events
dynamically from the SCS or only activation/deactivation of pre-configured
(subscribed) monitoring events from the SCS is needed.
To support MTC Monitoring feature in roaming scenario, roaming agreement needs
to be made between HPLMN and VPLMN, and the T5 interfaces need to be designed
to support roaming.
##### 6.1.3.3.1.1 MTC monitoring configuration at SGSN/MME {#mtc-monitoring-
configuration-at-sgsnmme .H6}
Figure 6.1.3.3.1.1-1 illustrates the procedure of MTC Monitoring configuration
at SGSN/MME.
Figure 6.1.3.3.1.1-1: Monitoring call flow at SGSN/MME using Tsp and T5
1\. The SCS sends a Monitoring Action Request message to the MTC-IWF with
Action Type set to configure, activate, deactivate or trigger report delivery
for a particular monitoring event. SCS will provide other monitoring
configuration data as part of Monitoring Action Request message to MTC-IWF
over Tsp such as Monitoring Event ID and associated parameters, Monitoring
Event Priority, Monitoring Destination node etc.
2,3. The MTC-IWF checks that the SCS is authorised to send monitoring requests
and that the SCS has not exceeded its quota or rate of submitting monitoring
requests over Tsp. If this check fails the MTC-IWF sends a Monitoring Action
Answer message with a cause value indicating the reason for the failure
condition and the flow stops at this step. Otherwise, the flow continues with
step 4.
4-6. The MTC-IWF sends a Subscriber Information Request message to the HSS/HLR
to authorize the Monitoring configuration details (e.g.: Monitoring Event ID).
Monitoring events are configured in HSS as part of UE subscription data. The
HSS verifies the monitoring event information and authorizes the MTC-IWF to
configure the network element for monitoring.
7\. Based on type of event action requested MTC-IWF determines the destination
node for monitoring event based on the information received from SCS and HSS.
For example in case of monitoring event configuration (or
activation/deactivation) at MME, MTC-IWF sends a message over T5 to MME with
the monitoring event data.
8\. MME on receiving submit request determines monitoring event data is
intended for it based on destination node it configures (or
activates/deactivate) monitoring event and generates Monitoring configuration
context. Alternatively, SGSN/MME can get MTC Monitoring configuration data
downloaded from HSS as part of UE subscription download procedure, e.g. during
Attach/RAU/TAU procedure etc.
The Monitoring configuration context are stored as part of UE context. The
MTC-IWF information is also stored in the Monitoring configuration context.
The Monitoring configuration context is exchanged between SGSN/MMEs during
mobility procedure (e.g. HO/TAU/RAU), so that the target SGSN/MME can be aware
of the Monitoring event trigged by the MM procedure and perform corresponding
actions e.g. reporting Monitoring event.
When the serving SGSN/MME changes, the target SGSN/MME retrieves the
Monitoring configuration context from the old SGSN/MME through the UE context
exchange procedure. When the entire subscription including Monitoring
configuration data is downloaded from the HSS to the target SGSN/MME, the
target SGSN/MME may also update the Monitoring rules to consider e.g. local
policy.
##### 6.1.3.3.1.2 MTC monitoring configuration at UE {#mtc-monitoring-
configuration-at-ue .H6}
Figure 6.1.3.3.1.2-1 illustrates the procedure of MTC Monitoring configuration
at UE.
Figure 6.1.3.3.1.2-1: Monitoring configuration at UE using Tsp
1\. Step 1-6 of clause 6.1.3.3.1.1.
Editor\'s note: It is FFS if these steps are same as step 1-6 of clause
6.1.3.3.1.1.
2\. Based on type of event action requested MTC-IWF determines the destination
node for monitoring event based on the information received from SCS and HSS.
For example in case of monitoring event configuration (or
activation/deactivation) at UE, MTC-IWF sends a message to UE using existing
delivery procedures (e.g. device triggering with T4) or new small data
procedure (e.g. small data procedure over T5) defined as part of SDDTE
building block. UE route it to the appropriate application for configuration
(or activation/deactivation) of the monitoring event.
##### 6.1.3.3.1.3 Detection of monitoring events {#detection-of-monitoring-
events .H6}
Monitoring event can be detected by different nodes depending on event type.
When Monitoring event are detected, the Monitoring event reports are generated
and sent out. If specific actions are bound with the detected Monitoring
event, such actions need to be performed.
If Monitoring event(s) are detected by the GGSN/PGW, the GGSN/PGW delivers the
detected Monitoring event to the SGSN/MME, so that the Monitoring event can be
reported by using T5/Tsp interfaces.
When Monitoring event is detected, the predefined actions corresponding to the
event type will be performed. For example, the action of \"detach the UE and
report the event\" is configured if the UE changes the location to restricted
area, in this case the SGSN/MME will detach the UE and report the event.
##### 6.1.3.3.1.4 Reporting of monitoring events from SGSN/MME {#reporting-of-
monitoring-events-from-sgsnmme .H6}
The following figure illustrates the procedure flow of reporting Monitoring
events to the SCS/AS.
Figure 6.1.3.3.1.3-1 Reporting monitoring events from the SGSN/MME to SCS/AS
1\. Depending on the monitoring event it may be detected by SGSN/MME or
GGSN/PGW. If the Monitoring event is detected by the GGSN/PGW, the GGSN/PGW
reports monitoring event detection to the SGSN/MME to be forwarded to SCS/AS
via MTC-IWF. Alternatively, GGSN/PGW may directly report the event to SCS/AS.
2\. The SGSN/MME sends Monitoring event report to the MTC-IWF. A default MTC-
IWF may be configured in the UE\'s MTC subscription or locally configured in
the visited network. The SGSN/MME includes the information of SCS/AS which
subscribes the Monitoring events if such information is included in UE\'s MTC
subscription.
3\. If SCS/AS information is not obtained from the SGSN/MME, the MTC-IWF
interrogates HSS to get the SCS/AS information.
4\. The HSS returns the SCS/AS information corresponding to the Monitoring
event type. External Identifier of the MTC device may be returned.
5\. The MTC-IWF sends the Monitoring event report to appropriate SCS/AS which
subscribes the specific Monitoring event.
##### 6.1.3.3.1.5 Reporting of monitoring events from UE {#reporting-of-
monitoring-events-from-ue .H6}
The UE can generate and report the monitoring event (e.g. event type and
related information) to the SCS/AS using the existing delivery procedures
(e.g. MO-SMS) or new small data procedure (e.g. small data procedure over T5)
defined as part of SDDTE building block.
##### 6.1.3.3.1.6 Charging {#charging-2 .H6}
Charging is provided on per Monitoring event detection/report basis. The
SGSN/MME and MTC-IWF generates CDRs taking into account successful and
unsuccessful delivery of Monitoring event report.
##### 6.1.3.3.2 Impacts on existing nodes and functionality
\- Tsp and T5 interface needs to be enhanced to support new messages and/or
new IEs for Monitoring.
\- Enhancements are needed at UE, SGSN/MME and MTC-IWF for monitoring event
configuration, activation, deactivation, detection and reporting. However,
same procedures defined for T5 small data transmission/triggering can be re-
used for monitoring configuration and reporting.
\- HSS needs to store monitoring events configuration data as part of UE
subscription data and needs to respond to MTC-IWF interrogation.
\- GGSN/PGW need to detect configured monitoring event and report to SGSN/MME
or directly to SCS/AS.
##### 6.1.3.3.3 Solution evaluation
Editor\'s note: Use this section for evaluation at solution level. Evaluation
at key issue level is done in a separate clause.
### 6.1.4 Overall evaluation
Editor\'s note: Use this section for evaluation of key issues.
# 7 UE Power Consumption Optimizations (UEPCOP)
## 7.1 Key issue - UEPCOP
### 7.1.1 Description
Power consumption is important for UEs using battery and also for UEs using
external power supply and its importance increases with the continued growth
of device populations and more demanding use cases. The importance can be
illustrated by following scenarios, e.g.:
\- For M2M use cases like sensors that run on battery it is a major cost to on
site exchange (or charge) the batteries for a large amount of devices and the
battery lifetime may even determine the device\'s lifetime if it is not
foreseen to charge or replace the battery;
\- From the wide range of applications (e.g. smart phone Apps or MTC
applications) a considerable number of applications show communication
patterns for which the 3GPP system could be enhanced to provide services with
a more optimized UE power consumption e.g.:
\- For smart phones the frequent communication with the network currently
causes battery drain; and
\- Even for scenarios where UEs may consume power from an external power
supply it may be desirable to consume less power for energy efficiency
purposes.
This key issue identifies and evaluates solutions to lower UE power
consumption. It is expected that each solution provides a justification for
which type of UE characteristics it addresses and how/why UE power consumption
is lowered.
There are 5 possible types of solutions that could be proposed in UEPCOP,
given the type of network impact:
\- CN impact only:
\- No impact in RAN nodes.
\- This type of solution should be proposed and discussed in SA2.
\- CN based solution with some RAN impact:
\- Most impact in Core Network (NAS, etc), but with some relatively minor
modifications at RAN level.
\- This type of solution should be proposed and discussed in SA2.
\- Equal CN and RAN impact:
\- Impact in Core Network (NAS, etc), and RAN level at equal level.
\- This type of solution should be proposed and discussed in SA2.
\- RAN based solution with minor CN impact:
\- Most impact at RAN level, some relatively minor impact at Core Network.
\- This type of solution should be proposed and discussed directly in RAN WGs.
NOTE: Whether CN impact is regarded as minor will be decided on case by case
basis
\- RAN impact only:
\- This type of solution should be proposed and discussed directly in RAN WGs.
Regardless of the categorization above, potential solutions for adoption in
SA2 should be evaluated in RAN WGs. SA2 may discard any solution before
requesting feedback to RAN WGs.
### 7.1.2 Architectural requirements
Architecture goals for UE power consumption optimizations include:
1\. Power consumption optimizations for cases when the UE stay in connected
mode for long periods.
2\. Solutions for battery consumption efficiency does not affect the ability
to receive mobile terminating communications within an acceptable delay.
Editor\'s note: Additional architecture goals for UE power consumption
optimizations is FFS.
NOTE 1: If this work requires any new or specific solution for SDT then it
should not define an own solution but take advantage from any common solution
for SDT.
NOTE 2: Solutions which minimize state transitions between Idle and Connected
mode are related to the Building Blocks UE power consumption optimizations
(UEPCOP) and Small data and device triggering enhancements (SDDTE). It is
assumed that such solutions will be discussed as part of the SDDTE key issue
Frequent SDT optimizations because it is considered that the primarily aim is
to reduce control plane signalling and not necessarily optimize power
consumption.
### 7.1.3 Solutions
#### 7.1.3.1 Solution: Extended DRX in idle mode
##### 7.1.3.1.1 General
The solution described in this clause addresses the Key issue \"UE Power
Consumption Optimizations\".
The characteristics of the solution is that the Maximum DRX cycles in idle
mode are possibly extended with longer values allowing the UE to save battery
as waking up and listening for a potential paging message is one major power
consuming functionality. When this solution is used, paging transmission
period is also adjusted based on the extended DRX cycle applied to the UE.
Extended DRX cycles are enabled in UTRAN/E-UTRAN by providing the parameters
for extended DRX in NAS. The current DRX parameters from UE to network in
clause 10.5.5.6 of TS 24.008 [11] are extended in a backward compatible way to
ensure that normal UE(s), i.e. UEs not requiring low power consumption, are
not impacted. For enabling the extended DRX cycle in UTRAN/E-UTRAN:
\- (option A) on one hand the eNB would broadcast the default extended DRX
cycle value via system information to indicate the network capability of
supporting extended DRX, on the other hand UE should inform the network its
desire using of extended DRX by the explicit indicator and its expected
specific extended DRX cycle value if necessary.
> \- (option B) the UE should inform the network its desire using of extended
> DRX by including its preferred extended DRX cycle value.
In this procedure, the availability of extended DRX for the UE should be
decided in consideration of the UE\'s capability, the network condition (e.g.,
ISR activation), as well as the support of extended DRX of the RAN nodes
within an area served by the core network node (e.g., TAs or MME pool area).
This is because the UE can travel through several RAN nodes without performing
location update, even when some part of RAN nodes do not support the extended
DRX (e.g., legacy E-UTRAN nodes in TA or legacy UTRAN nodes in the ISR
activated case).
(option A) If UE moves to a new cell in a new TA and does not receive the
extended DRX cycle value in system information, it knows the new cell/TA
cannot support the extended DRX. (option B) If UE moves to a new cell in a new
TA and does not receive the extended DRX in the TAU accept, it knows the TA
(at least one cell within the TA) cannot support the extended DRX. Even though
this UE that has the capability of the extended DRX it will only use the
normal DRX cycle.
The value of the default extended DRX cycle applied in the RAN nodes could be
informed to the MME by using S1/Iu signalling, OA&M method, or manual
configuration. If supported, the UE can indicate the desire to use the
extended DRX cycle at any time, by using a NAS procedure such as Attach or TA
update. When the UE moves, it should perform TA update to report its desire to
use the extended long DRX in the new TA. For option A the UE does this only if
the eNBs in the new TA have the capability to support extended long DRX (known
by broadcasted system information.
If the DRX cycle is longer than the System Frame, then the UE and the network
should be synchronised so that the UE can differentiate between the System
Frames with no paging occasion (dormant System Frames) and the ones with
paging occasion (active System Frames).
NOTE 1: If the DRX cycles are to be extended longer than the System Frame
Number currently allows then 3GPP RAN WGs would need to look into extensions
of the time allowed by the SFN.
For E-UTRAN, the MME needs to indicate to the eNB the UE\'s desire to use
extended DRX cycle in the S1AP Paging message. (option A) If the received UE
specific extended DRX value from UE is less than the default extended DRX
value, the MME should also include the UE specific extended DRX value in the
paging message. When MME initiates the paging procedure it determines which
paging parameters to send to eNBs since it knows the eNBs\' capability and the
UE desire. (option A) The MME sends paging to the eNB supporting longer DRX
with UE desire indication and the UE specific longer DRX if necessary. (option
B) The MME includes the extended DRX value that is stored in the context for
this UE.
The MME may need a longer paging retransmission timer for the extended longer
DRX paging messages.
After the UE determines the extended DRX value is supported, the UE ignores
the default normal DRX value broadcasted in the system information. (option A)
The eNB and UE both use the smaller one of the UE specific extended DRX value
and a default extended DRX value broadcast in system information for paging
monitoring. (option B) The eNB and UE both use the extended DRX value provided
by the MME as described above.
The Figure 7.1.3.1.1-1 illustrates the basic procedure in E-UTRAN.
{width="6.684027777777778in" height="7.033333333333333in"}
Figure 7.1.3.1.1-1: Procedure of extended DRX determination in E-UTRAN
In GERAN longer paging transmission periods are enabled by in extending the
parameter \"BS-PA-MFRMS\" (see TS 44.018 chapter 10.5.2.11). The extension
could be done e.g. by multiplying the BS-PA-MFRMS parameter with a given value
used as a paging multiplier factor. This factor should then be communicated
between UE and CN and then from CN to GERAN e.g. by adding the multiplier
factor to the paging message.
Paging timers and paging repetition in MSC/SGSN/MME are accommodated to cater
for the extended DRX cycle.
In addition, network could notify that the UE should alternate the extended
DRX cycle (value specified in the NAS parameter for extended DRX) with one or
several normal DRX cycle(s) (value of the DRX parameter multiplied by \"1\").
Such notification could be sent to the UE in a NAS message e.g. the Attach
Accept / TAU Accept.
NOTE 2: The need for alternating the DRX cycle would depend on 3GPP RAN WGs
analysis of how to limit the risk of UE missing a paging due to the DRX cycle
been extended to a long value.
Paging re-transmission timers in the MSC/SGSN/MME should be adapted to fit in
the needs of the extended DRX cycle and normal DRX cycle.
The used DRX value needs to be known by the UE, RAN and MME/SGSN.
NOTE 3: 3GPP RAN WGs need to evaluate how the UE wakes up from extended DRX
cycle and ensure that paging loss is minimized.
Considering that the CN may be impacted it is reasonable that CN should be
able to override UE provided DRX values that are longer then currently
supported values.
NOTE 4: The decision for UE initiating low power consumption mode may be based
on the UE configuration by the network or UE implementation.
Without adjusting the re-transmission timers on higher layers, longer DRX
cycle maximum up to several minutes may impact the reachability of the UE that
would bring unnecessary overhead to the network, e.g., paging and GTP message
retransmission, abnormal case handling without the feedback response in the
expected time duration.
Editor\'s note: It is FFS which maximum/reasonable DRX value that should be
possible to select.
When a long DRX cycle is used, then re-transmission on higher layers needs to
be considered and minimized. Normally network initiated NAS messages are sent
while UE is in connected mode and therefore there is for the far most cases no
need to adapt any NAS re-transmission timers in the CN (except for paging
repetition). However, in case there is a need to page the UE to initiate a NAS
procedure e.g. GUTI or P-TMSI Reallocation procedure then the NAS
retransmission timers for network initiated (E)MM procedures and (E)SM
procedures are adjusted based on DRX value for values larger than the
currently defined value in TS 24.008 [11]/TS 24.301 [12].
The adjustment should be performed for each NAS retransmission timer value as:
\- If DRX value is larger than the default value, then the NAS retransmission
timer value is adjusted to the DRX value.
NOTE 5: Which re-transmission value to use would be a stage 3 decision.
For GTP-C messages initiated by the PGW, if the procedure requires the MME to
page the UE, the MME may request one eNB to return the time for the next
paging occurrence if paging is delayed. If the MME receives a time for next
paging occurrence, the MME may use it to decide whether to reject the GTP-C
message towards the PGW indicating that the UE is not reachable. As an
alternative, if long DRX cycle is applied for the UE, the MME may immediately
reject the GTP-C message indicating the UE is not reachable. The PGW action
would then be dependent on the procedure initiated, but it would be same
action as currently done after it has been determined that the UE is not
reachable.
NOTE 6: RAN need to evaluate whether it is possible to support the function
for having the MME to request for the next paging occurrence as it would
require some time synchronization of cells.
To be able to handle DL UP data, it is also recommended to make use of an
adapted application which is able to handle high latency communication and to
use IP/UDP instead of TCP.
For MT SMS, if the MME has adapted to a longer paging re-transmission for the
UE (due to long DRX cycle applied) the MME may request the eNB to return the
time for the next paging occurrence if paging is delayed. If the MME receives
a time for next paging occurrence, the MME may use it to decide whether to
indicate towards the SMS Infrastructure that the UE is unreachable and set the
URRP flag (this will avoid any need to adapt re-transmission timers towards
SMS Infrastructure). The UE would then be reachable when it next time invokes
some activity e.g. initiates MO data or performs a periodic TA update (i.e.
the UE activity interval may then set the latency requirement for MT
communication). In addition, to avoid CP-layer re-transmissions of CP-DATA,
the RAN could keep UEs configured for using long DRX in idle mode in RRC
connected mode long enough to allow a network stored MT SMS to be received by
the UE. As an optimization, when the URRP flag is set the MME could provide an
indication to the eNB (via S1) that the eNB should keep the UE long enough in
RRC connected mode to allow a network stored MT SMS to be received by the UE.
##### 7.1.3.1.2 Impacts on existing nodes and functionality
Impacts on SGSN/MME/MSC:
\- Support NAS-protocol extensions to enable extended DRX cycles.
\- (Option B) Support for coding of parameters for the extended DRX and
sending it in a dedicated NAS message to the UE.
\- Paging re-transmission timer in the MSC/SGSN/MME should be adapted to fit
in the needs of the extended DRX cycle and normal DRX cycle.
\- (Option A) Support indicating to the eNB the UE\'s desire to use extended
DRX cycle on Paging.
\- Support notifying the UE that it should alternate the extended DRX cycle
with 1 or more normal DRX cycles.
\- The SGW buffer size is not proposed to be impacted, i.e. additional DL
packets beyond the buffer size would be dropped. Though, it should not be any
problem as it is not expected that large number of DL packets would be
received without any UL packets sent from the UE as long as the DRX value is
set to a value which limits any re-transmissions from higher layers. In
addition, the SGW keep a DL packet until the user plane bearer has been
established or until the MME has replied to the Downlink Data Notification
message with a Downlink Data Notification Reject.- For MT SMS, when the URRP
flag is set the CN potentially provides an indication to the RAN that the RAN
should keep the UE slightly longer in RRC connected mode.
Impacts on UE:
\- Support RAT- protocol extensions to enable negotiation of extended DRX
cycles
\- Support NAS-protocol extensions to enable extended DRX cycles. Support for
coding of parameters for the extended DRX and sending it in a dedicated NAS
message to the UE.
\- Support alternating the extended DRX cycle with the normal DRX cycles.
Impacts on E-UTRAN/UTRAN:
\- Support RAT- protocol extensions to enable negotiation of extended DRX
cycles
\- Modified handling of paging requests to accommodate the extended DRX cycle
along with the normal DRX cycle. Also it may need to contain expanded buffers
in order to buffer the paging requests received from the core network during
the extended DRX cycle period.
\- Support indicating its support for extended DRX to the core network nodes.
\- Keeps UEs configured for using long DRX in idle mode in RRC connected mode
long enough to allow a network stored MT SMS (potentially dependent on CN
indication) to be received by the UE.
> \- (Option A) Support indicating its capability for extended DRX in the air
> interface.
Impacts on GERAN:
\- Support GERAN protocol extensions to enable negotiation of extended paging
cycles
NOTE: Which parameters are required to determine DRX e.g. broadcast and/or NAS
and/or network parameters for this solution is dependent on RAN input.
##### 7.1.3.1.3 Solution evaluation
There are achievable gains in energy and power consumption by using longer DRX
cycles in idle mode. Using cycles of maximum up to several minutes would
however require applications that can tolerate this.
The idle mode long DRX is more suitable to infrequent data transmission where
the UE needs to be reachable for downlink initiated transactions like
signalling or data transfers.
Overall gains are more achievable for the device with stationary or low
mobility considering the trade-off between the power consumption and Mobility
performance degradation.
The maximum value setting for DRX needs to consider the impacts on 3GPP and
user/application protocols.
Further evaluation of this solution should be done by RAN.
#### 7.1.3.2 Solution: Extending DRX using UE Assistance Information
##### 7.1.3.2.1 General
UE Assistance Information procedure defined in TS 36.331 [4]. The purpose of
this procedure is to inform E-UTRAN of the UE\'s power saving preference.
E-UTRAN may assume that the UE prefers a default configuration for power
saving initially when it configures and enables the UE for power preference
indication. High level flow is shown below:
**UE Assistance Information Procedure**
Figure 7.1.3.2.1-1: UE Assistance Information
RRC connection reconfiguration message includes the power preference indicator
to allow UE to perform power preference indication (PPI) procedure as shown in
figure 1. If UE prefers the low power consumption (for e.g.: due to low
traffic or back ground traffic etc.), its sends _UEAssistanceInformation_
message to eNB with power preference indicator set to low power consumption.
EUTRAN can take certain actions based on this indication as shown in following
sections.
##### 7.1.3.2.1.1 Extending connected mode DRX based on UE Low Power
Preference Indication {#extending-connected-mode-drx-based-on-ue-low-power-
preference-indication .H6}
Figure 7.1.3.2.1.1-1 illustrates this procedure:
Figure 7.1.3.2.1.1-1: Extending connected mode DRX based on UE Low Power
Preference Indication
1\. eNB sends RRC connection reconfiguration message to UE by enabling the
power preference indicator. This allows UE to be able to perform power
preference indication procedure.
2\. UE decides to enter low power consumption mode. It sends the sends UE
Assistance Information message to eNB with power preference indicator set to
low power consumption.
NOTE 1: The decision for [UE]{.underline} initiating low power consumption
mode may be based on the UE configuration by the network or UE implementation.
3\. eNB on receiving the UE assistance information provides UE with long DRX
cycle in RRC Connection reconfiguration. In RRC connection reconfig message
there is MAC config IE which includes the DRX config IE which can be adjusted.
Currently maximum value defined for DRX cycle length is 2.56 second. eNB may
assign maximum or higher DRX cycle to UE. Higher value of DRX cycle beyond
2.56 may be defined.
NOTE 2: Higher value of DRX cycle beyond 2.56 second requires analysis by 3GPP
RAN WGs.
##### 7.1.3.2.1.2 Extending Paging DRX based on UE Low Power Preference
Indication {#extending-paging-drx-based-on-ue-low-power-preference-indication
.H6}
Figure 7.1.3.2.1.2-1 illustrates this procedure:
Figure 7.1.3.2.1.2-1: Extending Paging DRX based on UE Low Power Preference
Indication
1\. eNB sends RRC connection reconfiguration message to UE by enabling the
power preference indicator. This allows UE to be able to perform power
preference indication procedure.
2\. UE decides to enter low power consumption mode. It sends the sends UE
Assistance Information message to eNB with power preference indicator set to
low power consumption.
NOTE 1: The decision for [UE]{.underline} initiating low power consumption
mode may be based on the UE configuration by the network or UE implementation.
3\. eNB on receiving the UE assistance information initiates S1 context
release procedure, e.g., the eNB may decide to do so if the UE has been
configured as low access priority UE and indicates corresponding establishment
cause (i.e., delay tolerant access) in RRC Connection Request message to eNB.
eNB sends UE Context Release Request to MME with cause indicating UE low power
consumption mode and timer value if received from the UE.
NOTE 2: eNB may decide to initiate S1 release immediately on receiving the UE
assistance information or wait for inactivity timer to expire. In later case,
eNB may send long DRX cycle in RRC Connection reconfiguration as per procedure
in 7.1.3.2.1.1-1.
Editor\'s note: 3GPP RAN WGs need to evaluate whether long DRX cycle in idle
mode initiated by UE assistance information can be allowed or not.
4\. These steps are same as step 2 and 3 defined in section 5.3.5 of TS 23.401
[6].
5\. The MME releases S1 by sending the S1 UE Context Release Command (Cause =
UE low power consumption mode) message to the eNB. MME also provides long
paging DRX to UE. Long paging DRX could be received from UE as part of UE
Assistance Information or NAS signalling, or configured in MME or kept in UE
subscription data in HSS and downloaded to MME during Attach procedure.
6\. The eNB sends a RRC Connection Release message to the UE including long
paging DRX.
7\. The eNodeB confirms the S1 Release by returning an S1 UE Context Release
Complete message to the MME. With this, the signalling connection between the
MME and the eNodeB for that UE is released.
##### 7.1.3.2.2 Impacts on existing nodes and functionality
Impacts on UE:
\- Extension to RRC connection release to include extended paging DRX
Impacts on E-UTRAN:
\- Support extension of S1-AP Context release messages for extended paging DRX
and low power indication.
\- Extension to RRC connection release to include extended paging DRX.
\- eNB needs to support longer DRX cycle beyond 2.56 seconds
Impacts on MME:
\- Support extension of S1-AP Context release messages for extended paging DRX
and low power indication.
##### 7.1.3.2.3 Solution evaluation
There are achievable gains in energy and power consumption by using longer DRX
cycles in idle mode and solution evaluation aspects for solution on extended
DRX in Idle mode according to clause 7.1.3.1.3 also applies to this solution.
There are achievable gains in energy and power consumption by using longer DRX
cycles in connected mode and solution evaluation aspects for solution on Long
DRX cycles in connected mode according to clause 7.1.3.6.3 also applies to
this solution.
UE provided power preference indicator as part of UE assistance information
can be useful factor for determining when to apply the extended DRX. This
information in conjunction with other factors described in solution 7.1.3.7
could be used by eNB to make intelligent decision to keep UE in connected mode
or release the RRC/S1 connection with long DRX cycle.
Further evaluation of this solution should be done by RAN WGs and is also
contingent upon evaluation of solution 7.1.3.1, 7.1.3.6 and 7.1.3.7 by RAN
WGs.
### 7.1.3.3 Solution: Power saving state for devices
##### 7.1.3.3.1 General
The solution introduces a power saving state that a UE may adopt when there
are longer periods of inactivity (in the range of multiple minutes or hours).
The basic idea behind the solution is that a UE can be configured so that the
UE is reachable for downlink data only during the time that the UE is in
RRC/S1 connected state plus an active time period that follows the connected
state during which the UE is reachable for paging, i.e. the active timer
period is after the UE changed to idle state. The UE starts the active timer
after transiting to the idle state. When the active timer expires, the UE
changes to a \"power saving state\". Depending on device configuration the
applications of the device may change the device back to normal network
operation mode, e.g. when an application of the device needs to transfer data.
During that \"power saving state the UE remains attached and also all active
PDP/PDN connections remain established on UE and network side. The UE stops
performing any AS (cell/RAT/PLMN selection) and NAS (MM) procedures. However
the UE makes sure to perform periodic registrations (RAU and TAU) procedures
with the timer value(s) given by the network.
In order to influence the responsiveness to mobile-terminating events, and
taking into account whether the UE is also attached to the CS domain, the UE
can indicate its preference for the NAS \"power saving state\" by proposing a
periodic updating timer to the network to be used as the inactive power
savings period, and an optional preferred active timer by including these in
the Attach or RAU/TAU requests. A UE/application with periodic uplink data,
e.g. a remote sensor, would propose a periodic updating timer that is larger
than the application uplink data period, so that any periodic uplink data
prevent extra periodic updates. The network may take the UE\'s proposal and
preferred power savings inactive and/or active times into account, along with
any subscribed periodic updating timer value from the HSS and any local
network configuration in determining the inactive/periodic and active timers
that are allocated to the UE. If the UE prefers the power saving optimization
the MME activates the active timer then sends the allocated inactive/periodic
and active times to the UE in the Attach or RAU/TAU Accept messages.
If the UE is not content with the inactive or active timer values that is
allocated or no longer prefers power savings mode, and the UE does not want
the network to suppress paging, the UE can perform a subsequent registration
procedure to indicate that the UE does not want to use the \"power saving
state\". Before the periodic registration timer expires, the UE needs to
return from power saving state with sufficient lead time to perform any
potential cell/RAT/PLMN selection to complete the necessary periodic
registration in time.
A possible optimization to help the eNB to select a Paging Occasion (PO)
before the active timer expires, the MME includes remaining time period for
the active timer in the paging messages. Upon receiving the paging message
from the MME, the eNB selects a proper PO within the received time period from
the MME. If the eNB cannot find a PO within the time period from the MME, the
eNB stops the paging procedure in RAN.
From the negotiation with the UE the serving CN node knows that the UE changes
to power saving state after the active time. When a not-reachable-flag is set
for this UE in the serving CN node (indicating that there is some pending
downlink data or SMS), the serving CN node may keep the signalling connection
for some time after a mobile originated transaction, e.g. a TAU/RAU procedure
or MO data, to keep the communication with the UE established while waiting
for potential downlink data. The active time is a defined period [of e.g.
1min] after release of the signalling connection during which the UE remains
reachable for paging. The serving CN node sets the UE\'s mobile reachable
timer to this time value to stop paging after the active time expires. Any
other CN node timer handling remains unmodified. I.e. it remains as currently
specified, when the mobile reachable timer expires, the serving CN node
considers the UE as not reachable and starts the implicit detach timer. When
the implicit detach timer expires, the serving CN mode may deactivate the
UE\'s PDP/PDN connections and also purge the UE, also as today specified.
Specific for this approach the serving CN node sets the implicit detach timer
at least slightly longer than the UE\'s periodic registration timer so that
the implicit detach timer doesn\'t expire before the UE performs the next
periodic registration. Thereby the CN operates with its existing timers, which
are set with the values specific for this approach.
Reachability handling of such UEs is accomplished by using already existing
functionality. When a Service Capability Server or any other entity attempts
to send downlink data or SMS to the UE outside of the reachability period of
the UE (i.e. after the mobile reachable timer has expired), it will get a
notification that the device is not reachable / not responding (for SMS
delivery attempts) or it gets no response (when downlink IP packets are
discarded). The Service Capability Server or other entity then may decide to
register its ID with HSS, possibly via the MTC-IWF, for getting notified when
the MTC device becomes reachable (for the UE available notification procedure,
refer to clause 5.3.11 of TS 23.401 [6] or clause 5.3.10 of TS 23.060 [5]). If
the Service Capability Server or other entity knows that the device is only
occasionally reachable, it may also directly register with HSS for getting
notified without first trying to send downlink data.
As specified for the reachability handling, the HSS requests the serving CN
node(s) to notify about reachability. The CN node(s) set the URRP-SGSN or
URRP-MME flag. In the response, as an enhancement for existing functionality,
the serving CN node(s) may provide the time of the last UE contact and/or the
time of the expected next UE contact, which the HSS may deliver to the
requestor. When the UE becomes available (e.g. because of TAU/RAU or e.g. MO
data for another application), the HSS gets alerted by the serving CN node and
the HSS informs all entities that have registered their IDs with the HSS, all
by existing functionality. The Service Capability Server can then send the
downlink data to the UE.
When considering specifics of multi-RAT UEs it is assumed that the power
saving state doesn\'t require any new state. LTE and 2G/3G capable UEs have
coupled MM state machines. TS 24.301 [12] assumes the MM states obviously as
depending on the currently camped on RAT: if on LTE GMM-REGISTERED.NO-CELL-
AVAILABLE and EMM-REGISTERED.NORMAL-SERVICE, if on 2G/3G vice versa. Using
this model the \"power saving state \" could be modelled based on EMM states
as shown below. The actual definition of a state model for the \"power saving
state \" is for stage 3.
Figure 7.1.3.3.1-1: EMM state model in UE
The figure above shows the EMM state model in the UE. The dotted arrows show
transitions specific for the solution. The Active Timer is started by the ECM
state change from connected to idle in the same way as the UE\'s periodic TAU
timer (part of ECM state model). When this timer expires, the UE\'s EMM
changes to EMM-REGISTERED.NO-CELL-AVAILABLE, which may be considered as some
\"EMM-REGISTERED.power-saving\" following TS 24.301 [12]. The UE returns from
this power saving state by interrupts from the periodic TAU timer (to EMM-
REGISTERED.UPDATE-NEEDED) or from a data transfer request (where it stays in
EMM-REGISTERED.NO-CELL-AVAILABLE). Both interrupts cause the NAS to reactivate
the AS. The additionally shown transition (non-dotted arrow) is showing one
example of an existing transition. This example shows how the UE returns to
NORMAL SERVICE.
Figure 7.1.3.3.1-2: E-UTRAN RRC state model in UE
The figure above shows a part from the cell selection procedure with RRC
states from TS 36.304 [13]. The bolded parts are added for returning from
power saving state. As it can be seen that existing procedures and states are
used. Only the RRC-NULL is \"created\" here for this description. TS 36.331
[4] shows transitions between UTRA_IDLE and E‑UTRA_IDLE. Unfortunately there
seems not any specific state name for the currently unused RAT in none of the
RAN specifications. All what is done here is adding description that moves RRC
to a NULL state when NAS deactivates the RAT for modelling this situation. And
when NAS activates the AS/RAT again the normal cell selection process is
started.
Figure 7.1.3.3.1-3: EMM state model in MME
The MME\'s EMM state transition model is not changed and here only shown for
explaining the functionality. The difference to existing handling are: the
Reachability Timer is set to the active time (e.g. 1 min) instead of setting
it to the periodic updating timer period, which accomplishes to stop any
paging when the UE changes to power saving state. And the Implicit Detach
Timer is set at least somewhat longer than the periodic updating timer. The
latter is specifically for UEs with very long inactivity period to know soon
when those UE contexts are not relevant anymore as the UEs with very long
timer have not much activity, but require context storage for long.
##### 7.1.3.3.2 Impacts on existing nodes and functionality
\- The UE is enhanced for negotiating the use of the power saving state and
the periodic TAU timer with the MME.
\- At Active Timer expiry the UE\'s NAS changes to state EMM-REGISTERED.NO-
CELL-AVAILABLE and deactivates the AS. The UE starts a timer with the
negotiated periodic TAU time or with a time period required for an application
and switches off any not needed components.
\- When the timer expires the UE activates all components and adopts or is
still in EMM-REGISTERED.NO-CELL-AVAILABLE or in EMM-REGISTERED.UPDATE-NEEDED
when woken up by a transfer request. The NAS initialises the AS.
\- The UE can indicate: its own power savings capability by including periodic
updating timer for the preferred inactive power savings timers and an optional
active timer to the network in Attach Request or RAU/TAU Request.
\- The MME/SGSN recognizes this specific UE configuration and sets the mobile
reachable timer to the defined time period that the UE is reachable after
signalling connection release. The implicit detach timer of this UE takes at
least the value negotiated for the periodic TAU. The MME/SGSN may be
configured to allocate a long periodic update timer to such UEs.
\- The MME/SGSN only activate the active timer for UEs requesting the power
savings capability. It sends the allocated periodic and active times in the
Attach Accept or the RAU/TAU Accept Request.
\- As a possible optimization: The MME/SGSN includes the remaining time period
of the active timer in the paging message.
\- Optionally, if the remaining active time is provided, the eNBs/RNCs select
a proper PO within the time received from the MME. If they failed to find one,
the eNBs/RNC stop the paging procedure in the RAN.
\- The HSS to application signalling may be extended to provide timing
information.
##### 7.1.3.3.3 Solution evaluation
##### 7.1.3.3.3.1 Pros {#pros .H6}
The solution is applicable to service provision via PS domain. Reachability
handling via MSC may be used within the overall scenario as far as the
functionality exists already for the CS domain, i.e. existing SMS related
notifications.
The approach permit very long battery lifetime for stationary and moving UEs
with infrequent communications needs. There are clear conditions for the 3GPP
system and for the applications whether the UE is reachable or not. I.e. when
in power saving state the UE is not reachable and the network does not waste
resources on trying to find or contact the UE. Under this condition the UE can
be reached via SMS, which gets delivered when the UE wakes up as it remains
active for the active time after contacting the network. When the UE is active
it is reachable with the timing figures of any other UE, i.e. with a latency
of a few seconds in maximum.
\- UE battery saving with small UE-Network protocol impacts;
\- Saves cell/PLMN (re-)selection and related mobility signalling during power
saving state;
\- Network resource usage balancing: as it may be assumed that different UEs
contact the network at different point in time; and Network aggregates
downlink triggering requests (e.g. SMSs) during power saving state ;
\- Suitable for medium and long inactivity cycles due low amount of system
signalling.
##### 7.1.3.3.3.2 Cons {#cons .H6}
\- Some UE impacts due to additions for activating and deactivating NAS and AS
based on power saving conditions.
\- Requires the application to cope with or adapt to that model and an API in
UE, e.g. for adjusting the periodic TAU timer for polling.
\- Adds signalling load for polling the network, when there is no periodic
uplink user traffic accomplishing this.
\- The Power saving state solution will likely cause an increase in SMS
failure statistics in the SMS infrastructure.
#### 7.1.3.4 Solution: Attach/detach
##### 7.1.3.4.1 Description
The UE attaches to the network to communicate and after the communication the
UE detaches from the network and switch off the 3GPP modem (MT) during a
period to save UE power. The UE periodically perform the Attach and Detach
procedures.
##### 7.1.3.4.2 Evaluation
**[Pros:]{.underline}**
  * UE battery saving with no need for any specification changes or additions ;
  * Saves cell/PLMN (re-)selection and related mobility signalling during detached state;
  * Network resource usage balancing: as it may be assumed that different UEs attach at different point in time; and Network aggregates downlink triggering requests (e.g. SMSs) during detach state.
**[Cons:]{.underline}**
  * No MNO control of how frequently the UE attaches/detaches;
  * Requires the application to adapt to that model, e.g. by regular attaching for polling;
  * Excessive signalling for attaching and detaching, including PDN connection setup, possibly MSC, AAA, SCS and HSS interactions; regular attach needed to poll for waiting SMSs;
  * Only suitable for (very) infrequent attach cycles due to the heavy system signalling load;
  * Power saving by be regular attach/detach can also be achieved on application level OTT, which lowers the chance that the approach gets adopted by applications.
##### 7.1.3.4.3 Additional solutions using Attach and Detach procedures
##### 7.1.3.4.3.1 Solution: Attach/detach using existing procedures
{#solution-attachdetach-using-existing-procedures .H6}
##### 7.1.3.4.3.1.1 Description {#description-8 .H6}
It is assumed that the UE includes an application that communicates with the
SCS, and that the SCS has set a requirement how often the UE should poll the
network for any available message. This poll is achieved by the UE attaching
to the network and waits (e.g. 30s) to see if there is an MT SMS for the UE,
i.e. it is assumed that SMS is used for MT communication/triggering. The SMS
would either be a trigger message or a \"normal\" SMS with an action from the
SCS (e.g. that the UE should retrieve a new software version or that it should
report some statistics etc).
It is also assumed that the UE normally does not move or at least mainly moves
such that the same MME is able to serve the UE for far most of the
communication.
If the UE has something to send towards the SCS, the UE would attach to the
network and either send an SMS or activate a PDN connection and send
information over IP.
Figure 7.1.3.4.3.1.1-1: UE polling network and switch itself off in between
the polls
##### 7.1.3.4.3.1.2 Poll for any available message {#poll-for-any-available-
message .H6}
Figure 7.1.3.4.3.1.2-1: UE initiates a poll in EPS to check if there is an
available message
NOTE 1: It is assumed that MME keeps UE contexts after UE detach and that
\"normally\" the MME has not re-used the memory for another UE. Due to this
the procedural steps for e.g. ME Identification/Identity Request, Security
procedures have been removed from the above flow. It is FFS whether additional
optimizations can be done without changing the protocols over the air
interface.
Step 0: It is assumed that the UE been attached/detached before and MME has a
stored EMM context of the UE
Step 1-2: Normal Combined Attach request. MME assumed to support SMS in MME
(or SMS over SGs).
Step 3: Authentication is normally triggered at certain frequency.
Step 4: If there has been an SMS sent towards the UE while the UE was switched
off, the MME has the URRP-MME set and when UE attaches the MME sends a UE-
Activity-Notification to the HSS.
Step 5-9: Activation of Default bearer
Step 10-12: Optionally SGs is setup (in case MME uses \"SMS over SGs\")
Step 13-18: Attach and PDN Connectivity procedure completed
Step 19-22: Always performed to trigger SGW to initiate DL data
Step 23: The HSS sends an Alert SC to the SMS-GMSC/IWMSC which forwards the
Alert to the SMS-SC. The SMS-SC re-transmits the SMS towards the UE via the
SMS-GMSC/IWMSC
Step 24: The SMS-GMSC/IWMSC sends an SRI SMS to request the address of the
serving node
Step 25: The HSS replies with an SRI SMS response including the address of the
MME
Step 26: The SMS-GMSC/IWMSC sends the SMS towards the UE via the MME
Step 27: The MME forwards the SMS.
Step z: Depending on the Inactivity timer setting in the eNB and the time it
takes to deliver the MT-SMS the eNB may have released the RRC connection
before the SMS is received. If that is the case then this step would include
S1 Release procedure (see chapter 5.3.5 in TS 23.401 [6] and the Network
Triggered Service Request procedure (see step 3-5 of chapter 5.3.4.3 in TS
23.401 [6]) before the MT-SMS is delivered.
NOTE 2: The flow for GPRS would look similar, but without steps 5-9 and 16-19
as in GPRS the UE can be GMM registered without any PDP context (SM bearer).
##### 7.1.3.4.3.1.3 Detach procedure {#detach-procedure .H6}
Figure 7.1.3.4.3.1.3-1: UE Initiated Detach Procedure
NOTE 1: The above flow is exactly the same as the UE Initiated Detach flow in
TS 23.401 [6]. It is FFS whether any optimizations can be done without
impacting the protocols over the air interface.
Step 1: UE initiates Detach with Switch off indication
Step 2-3: MME initiating deactivation of EPS bearers in SGW
Step 4-6: SGW releases all active EPS bearers towards the PGW
Step 7-8: S1 Release
Step 9: Optionally IMSI Detach (in case MME uses \"SMS over SGs\")
NOTE 2: The flow for GPRS would only be steps 1, 7 and 8.
##### 7.1.3.4.3.1.4 Signalling load considerations {#signalling-load-
considerations .H6}
While the UE is detached the UE does not generate any signalling load onto the
system (e.g. RAU/TAU).
If the MME/SGSN been serving many users it may be that the UE context been
overwritten by another user and consequently a full Attach procedure would
need to be executed. Under normal load situation that might not be a problem,
and also it would give room for other users which is reasonable considering
that the UE applying the logic described in this solution would in principle
communicate very seldom.
It is implementation dependent whether the MME keeps the UE context
information or whether the MME applies the Purge function immediately or
shortly after detach of the UE.
##### 7.1.3.4.3.1.5 Protocol impacts {#protocol-impacts .H6}
This solution has no protocol impacts.
##### 7.1.3.4.3.1.6 Evaluation {#evaluation-2 .H6}
**Pros:**
This lists the pros of Solution for UE power optimization: Attach/detach using
existing procedures:
\- UE battery saving with no need for any specification changes or additions;
  * Saves cell/PLMN (re-)selection and mobility signalling during detached state;
  * Network resource usage balancing: as it may be assumed that different UEs attach at different point in time; and Network aggregates downlink triggering requests (e.g. SMSs) during detach state.
**Cons:**
This lists the cons of Solution for UE power optimization: Attach/detach using
existing procedures:
\- No MNO control of how frequently the UE attaches/detaches (maybe controlled
through application layer);
  * Requires the application to adapt to that model, e.g. by regular attaching for polling;
  * Excessive signalling for attaching and detaching, including PDN connection setup, possibly MSC, AAA, SCS and HSS interactions; regular attach needed to poll for waiting SMSs;
  * Only suitable for (very) infrequent attach cycles due to the heavy system signalling load;
  * Power saving by be regular attach/detach can also be achieved on application level OTT, which lowers the chance that the approach gets adopted by applications.
##### 7.1.3.4.3.2 Solution for UE power optimization: Network Assisted Power
Saving (NAPS) {#solution-for-ue-power-optimization-network-assisted-power-
saving-naps .H6}
##### 7.1.3.4.3.2.1 Description {#description-9 .H6}
Lots of UEs (e.g. MTC devices for vendor machines, electricity metering,
weather sensors, water level sensors, sensors for monitoring stress levels in
buildings, bridges, etc) have expected scheduled communication pattern where
the M2M device and the Application server communicate only at regular
intervals only (e.g. once a day or once a week etc). There is a possibility to
save energy if the UE detaches in between these occasions, as well as reducing
the usage of network resources. As a service the operator may offer the M2M
service provider a possibility simplify such regular communication. Based on
agreement for how often the communication needs to occur, the operator pre-
configures information in the network and optionally the UE for assisting
regular attach/detach of the UE. A UE may at any time attach to the network
and initiate additional communication if needed, i.e. there is no enforcement
of the regular intervals and it is just a service to facilitate UE power
saving at regular communication models.
Network Assisted Power Saving (NAPS) solution provide a mechanism to enhance
the existing Network Initiated Detach procedure for such scenarios. This
function allows the network to provide (e.g. through Attach/Detach message)
the UE with a new timer - which means that UE should re-attach to the network
when the timer expired.
Figure 7.1.3.4.3.2.1-1: Network Assisted Power Saving (NAPS)
As the UE detachment and re-attachment is performed with network controlling,
it is possible for UE battery saving and network signalling optimization while
keeping a network control of when the UE needs to perform re-attaching.
The following two timers are introduced by this function. The value of the
timers is enforced by MME or SGSN, based on the explicitly UE request, the
subscription, and/or the operator\'s policies.
_\- UE power saving active time_ : this time indicates how long the UE would
like to stay as attached (either active or idle mode) with the network. The
time can be in the format of the time of day, the number of
seconds/minutes/hours, or an absolute time, e.g. time since 1970-01-01. The
_UE power saving active time_ may be proposed by UE, and enforced by the
network. The _UE power saving active time_ needs to be reset every time the UE
been active (e.g. every time the UE goes from READY state to STANDBY or ECM-
CONNECTED to ECM-IDLE). The _UE power saving active time_ is used by the UE to
indicate to the network when it can be detached, e.g. after the _UE power
saving active time_ expired.
_\- UE power saving wakeup timer_ : this is the time when the UE is supposed
to perform re-attachment procedure from detachment. Anytime before the timer
expiration, the UE may perform re-attachment when it is needed. The _UE power
saving wakeup timer_ can be in the format of the time of day, the number of
seconds/minutes/hours, or an absolute time, e.g. time since 1970-01-01. The
_UE power saving wakeup timer_ is set based on the UE request, the network
policy, and the subscription at every time the UE is attached/detached.
NOTE: the _UE power saving wakeup timer_ is not same as the existing back-off
timer, which is assigned by network during network congestion situation, to
order UE not coming back to the network before the timer expires, i.e. while
UE running the _UE power saving wakeup timer_ the UE is still allowed to
perform Attach before the timer expires e.g. for the purpose of MO
communication.
Editor\'s note: Support for roaming need further study.
Editor\'s note: How to provision time values in the network is FFS.
Editor\'s note: How this solution provides added value compared to OTT
solutions is FFS.
##### 7.1.3.4.3.2.2 Initiate Attach procedure {#initiate-attach-procedure .H6}
Figure 7.1.3.4.3.2.2-1: Initiate Attach procedure with Network Assisted Power
Saving (NAPS)
Step 1: At attach request, the UE indicates the support of NAPS and UE may
indicate the proposed _UE power saving active time_ in the Attach Request.
Step 2 \~5: The network accept the attach request and setup the PDN
connection.
Step 6: In Attach Accept message, the MME needs to indicate the support of
NAPS and the allocated _UE power saving active time_.
Step 7 \~ 12: If the UE would like to stay in active after the active time
expired, it needs to request a new _UE power saving active time_ using
mobility management procedure or session management procedure, e.g. TAU,
Service Request.
Step 13 \~ 18: At mobility, the UE may request a new _UE power saving active
time_ with the target MME.
##### 7.1.3.4.3.2.3 UE Initiated Detach procedure {#ue-initiated-detach-
procedure .H6}
Figure 7.1.3.4.3.2.3-1: UE Initiated Detach procedure with Network Assisted
Power Saving (NAPS)
Step 1: Any time before the _UE power saving active time_ expiration, the UE
initiates the detachment procedure. The UE may include a proposed _UE power
saving wakeup time_ at Detach request message.
Step 2 \~ 10: The network accepts the detach request.
Step 11: The network needs to response to the UE with an allocated _UE power
saving wakeup time_.
##### 7.1.3.4.3.2.4 Network Initiated Detach procedure {#network-initiated-
detach-procedure .H6}
Figure 7.1.3.4.3.2.4-1: Network Initiated Detach procedure with Network
Assisted Power Saving (NAPS)
In the step 1, At the _UE power saving active time_ expiration, the Network
Initiated Detach Procedure needs to be initiated by the MME. In the detach
request message, the MME needs to include an allocated _UE power saving wakeup
time_.
##### 7.1.3.4.3.2.5 Providing UE Power saving wakeup timer at Attach procedure
{#providing-ue-power-saving-wakeup-timer-at-attach-procedure .H6}
Alternatively to the 7.1.3.4.3.2.3 & 7.1.3.4.3.2.4, the network can provide
the UE power saving wakeup timer in the Attach Accept message. This may help
to avoid the case that UE is not provided by the UE power saving wakeup time
due to implicitly detached caused by lack of coverage.
When the _UE power saving wakeup timer_ is provided in the Attach Accept
message, the UE and the network need to implicitly detach at the expiry of the
_UE power saving active time._ As in this case both, the UE and the network
are aware of the _UE power saving active time_ and the UE has already been
supplied with the _UE power saving wakeup timer_ during the Attach procedure,
there is no need from network enforced detachment (explicit detach). Thus
further savings on UE battery power and signalling can be achieved.
##### 7.1.3.4.3.2.6 Protocol impacts {#protocol-impacts-1 .H6}
NAS:
\- Capability flag to support NAPS. (One bit flag)
\- UE power saving active time
\- UE power saving wakeup timer
S6a/S6d:
\- UE power save scheme or infrequent communication scheme: (Either integer,
e.g. 1, 2, 3, so the semantic is interpreted based on serving network policy,
or 8 hours, 24 hours, 72 hours.)
T5/tsp:
\- UE next available time. (Either time of day or relative/absolute time)
##### 7.1.3.4.3.2.7 Evaluation {#evaluation-3 .H6}
**Pros:**
This clause lists the pros of Solution for UE power optimization: Network
Assisted Power Saving as following:
\- UE battery saving with small UE-Network protocol impacts.
  * Saves cell/PLMN (re-)selection and related mobility signalling during detached state
\- Network resource usage balancing: by provide different UE wake-up time to
different UEs; and Network can aggregate downlink triggering requests (SMSs)
to the assigned UE wake-up time window.
\- Network Signalling Optimization on Downlink Data or Triggering Handling:
The solution can allow the mobility management node to guide the peer node
(e.g. SCS), where the downlink triggering requests were initiated, to re-send
downlink triggering request, by providing the time when UE is available again.
**Cons:**
\- Defines a new condition for the UE state machine. A wakeup timer for the UE
to run in \"detached state\" that triggers the attach procedure;
\- Requires the application to adapt to that model. New API for application to
set activity and wakeup timers in UE;
\- Network and SCS/AS provide new functions and interfaces for signalling when
UE should become reachable. But, no guarantee that the UE is attached at this
point in time when the SCS/AS was told it can send data;
\- Requires a reasonable, but power consuming pre-charge time for safely being
attached at the point in time that is negotiated with the network. Because it
may be delayed, e.g. by cell selection and load, node or even PLMN change. It
depends also on precision of clocks in all involved entities and signalling
delays;
\- Changes for MME, IWF and SCS/AS to signal a time when the UE should become
reachable;
\- If the UE becomes active earlier than at the negotiated wakeup time then
there is a new detach and the time indicated to the SCS/AS may not be valid
anymore;
\- Excessive signalling for attaching and detaching, including PDN connection
setup, possibly MSC, AAA, SCS and HSS interactions;- Power saving by be
regular attach/detach can also be achieved on application level OTT, which
lowers the chance that the approach gets adopted by applications.
##### 7.1.3.4.3.3 Solution: Keeping UEs in detached state when not
communicating {#solution-keeping-ues-in-detached-state-when-not-communicating
.H6}
##### 7.1.3.4.3.3.1 General {#general-22 .H6}
See clause 7.1 \"Key Issue - UE Power Consumption Optimizations\".
NOTE 1: This solution has no relation to other solutions for detaching an UE
related to the monitoring action \"detaching\" described in the Building Block
MTCe-MONTE in clause 6 of this TR.
This solution proposes that a UE is kept in detached (aka deregistered) state
when no communication from the application point of view is needed. This
solution is preferably applicable for scenarios where the UEs perform
_infrequent mobile originated_ (MO) communication. For instance, a battery
driven UE exchange data with SCS/AS once a day and the power consumption for
the Attach procedure is much lower than the consumption needed when the UE
stays in idle state (taking into consideration idle procedures like periodic
updates TAU/RAU, cell reselection and monitoring to paging channel).
NOTE 2: The MO communication means that either 1) the UE\'s application
generates uplink data only to be sent to SCS/AS, or 2) the UE\'s application
polls the SCS/AS for waiting messages.
The network or UE should be _configured to perform the detach procedure_
(implicit or explicit) after the communication is completed. For example this
configuration can be stored in the UE\'s subscription data or the UE can be
configured via OMA-DM. Further, it is possible to exchange capabilities and
certain detach parameters (like timer and starting point as described below)
between the network and UE.
**Explicit Detach**
The Detach procedure can be performed explicitly initiated by the UE or
initiated by the network.
If the network operator is aware about the UE configuration to perform UE
initiated detach, then the network relies on the UE behaviour.
If the network operator is aware about the end of communication via
information exchange with M2M service capability layer (SCS), then the network
initiated Detach procedure should be performed.
If the P-GW monitors the user plane activity, P-GW can initiate bearer
deactivation if there is no activity on this bearer for a certain pre-
configured time. If this is the last bearer, the network will explicitly
detach the UE.
**Implicit Detach**
Currently the implicit Detach procedure is performed internally in the network
in failure conditions after expiry of reachability and implicit detach timer
in MME/SGSN. The proposed implicit Detach solution herewith is based on the
coordinated (i.e. synchronized) transition from attached to detached state in
both network and UE without explicit signalling. The implicit Detach is
performed soon after communication is completed in order to avoid long idle
state period as it is required today (e.g. periodic TAU period at UE,
reachable timer + detach timer at network, which is in order of hours). The
coordinated implicit Detach is advantageous in order to avoid performing
specific procedures when the states are not synchronized (e.g. the network
runs timers or pages the UE during the UE has transferred to detached state).
Generally to assure the coordinated implicit transition to Detached state, the
configuration of 2 main parameters in the network and in the UE is required:
1) a certain implicit detach time and 2) the event/point when this implicit
detach timer starts. The term \"implicit detach time\" refers to the time
duration from a certain event (start point) until the UE and network
implicitly transfer to detached state.
For implicit detach coordination with the network, when an UE is configured
for Implicit Detach:
\- Either the UE needs to indicate its Implicit Detach capability
configuration to the network (in NAS signalling for example); or
\- The MME can get the UE\'s Implicit Detach capability configuration from its
subscription information (e.g. provisioned by the M2M service capability layer
from SCS).
In such configuration the implicit detach time is either:
\- exchanged between the network and the UE; or
\- takes the value of the \"grant time interval\" or the \"communication
window\" if time-controlled communication; or
\- takes the value of the Periodic TAU timer. In the latter case the network
allocates the Periodic TAU timer by taking into account the subscription
information or configuration.
Several examples are listed below for the applicability of implicit Detach
solution:
\- Start the implicit detach timer when the UE transfers to idle state. The
implicit detach timer can be set to e.g. 10 min, i.e. the network and the UE
perform implicit Detach after being 10 minutes in idle state without actions.
\- If time-controlled communication is configured, the implicit detach timer
would be equal to the \"grant time interval\" or the \"communication window\"
(please refer to TR 23.888 v1.7.0, clause 5.9). When the \"grant time
interval\" or the \"communication window\" expire, the UE and the network
perform implicit Detach procedure.
\- In the solution for Dormant state as described in this TR clause 7.1.3.3,
the UE and the SGSN/MME can negotiate to transfer to detached state after a
particular implicit detach timer expires, as this implicit detach timer starts
when the UE does not perform the periodic registration procedure in Dormant
state.
##### 7.1.3.4.3.3.2 Impacts on existing nodes and functionality {#impacts-on-
existing-nodes-and-functionality-21 .H6}
The list below attempts to summarize the main enhancements:
\- MME/SGSN should be capable of:
\- in case of explicit Detach: to initiated the Detach procedure when the
communication is completed;
\- in case of implicit Detach: to perform Implicit Detach at expiry of the
Implicit Detach timer.
\- UE should be capable of:
\- in case of UE initiated explicit Detach: to configure the UE to start
detach procedure;
\- in case of implicit Detach: needs to be configured for Implicit Detach and
to perform Implicit Detach at expiry of the Implicit Detach timer.
\- In case of explicit detach triggered by the PGW, the P-GW should be capable
of:
\- monitoring user plane activity;
\- triggering deactivation of single bearers.
##### 7.1.3.4.3.3.3 Solution evaluation {#solution-evaluation-20 .H6}
The **implicit** Detach procedure has a major benefit compared to explicit
Detach in saving the signalling for Detach procedure when the UE is in idle
mode (i.e. paging from the network, Service Request from the UE, detach
procedure signalling). For both solutions of explicit and implicit Detach the
exchange capabilities and/or configuration of detach parameters between the UE
and network is required.
The solution description leaves many parameters and options open making it
difficult to evaluate. The main added value compared to other attach/detach
solutions with explicit detach seems the use of the implicit detach, i.e.
avoiding the detach messages. For the network there is no use in immediate
detach. The MME context is even kept even after detach. And for the SM context
would be also less effort if it could be reused. The SM context is in any case
deleted at next attach. The only condition that the network needs is to know
when to stop paging, which is normally done when the reachability timer
expires. If the periodic TAU is not used then some new timer value needs to be
signalled for changing the network to \"not-reachable\" and the UE implicitly
to \"detached\".
**[Pros:]{.underline}**
\- UE battery saving with small UE-Network protocol impacts;
\- Saves cell/PLMN (re-)selection and related mobility signalling during
detached state;
\- Network resource usage balancing: as it may be assumed that different UEs
attach at different point in time; and Network aggregates downlink triggering
requests (SMSs) during detach state.
**[Cons:]{.underline}**
\- No MNO control of how frequently the UE attaches/detaches.
\- Requires the application to adapt to that model, e.g. by regular attaching
for polling; depending on application excessive usage of SMS for data or
triggering needed.
\- It defines a new condition for the UE/MME state machines. The expiry of a
new timer or the TAU/reachability timer changes UE/network to detached state.
\- New API for setting timer(s) on UE. Modifies NAS signalling.
\- Needs always the full excessive signalling (attach including PDN connection
setup) when becoming active. Also is it not prevented that UE is not purged,
so that even HSS signalling may be included always.
#### 7.1.3.5 Solution: Transmission delay until better coverage conditions
##### 7.1.3.5.1 General
This solution allows UEs to transmit at lower power levels via transmission
delay until better coverage conditions.
When the UE is in idle mode and needs to connect in order to transmit and the
coverage conditions are not good (below certain threshold), the transmission
could be delayed until better coverage conditions.
##### 7.1.3.5.2 Transmission delay time and signal quality threshold
The UE or an MTC application on the UE can be configured for delayed
transmission with \'transmission delay time\' (via OMA DM configuration or an
UE or an application defined value). In case of multiple MTC applications on
the UE, each MTC application can be configured with individual \'transmission
delay time\' depending on how time tolerant the service is.
The UE or an MTC application on the UE, which is configured for delayed
transmission, starts a \'transmission delay timer\' as soon as a need for
transmission is detected and the signal quality is bellow the \'signal quality
threshold\'.
The UE does not connect and transmit while the \'transmission delay timer\' is
running unless the \'signal quality threshold\' is reached (i.e. the UE is in
better coverage conditions). The UE can use a memory buffer in order to save
the data for later transmission.
If the \'signal quality threshold\' is not reached until the \'transmission
delay timer\' expiry, the UE proceeds with the transmission request regardless
whether the \'signal quality threshold is reached or not. It is also possible
that when the signal quality is getting worse over a time (less than the
\'transmission delay time\') the UE transmits before the transmission delay
timer expires to avoid any further worsening of the coverage conditions.
An UE that is configured for delayed transmission can also be configured with
\'**signal quality threshold** \' via OMA DM configuration or it can be an UE
defined value. The \'signal quality threshold\' can be a value that the UE can
directly compare with the already available received signal quality/strength
(for example RSRQ in LTE or **RSCP in UTRAN or RXLEV in GSM)**.
NOTE: This solution is applicable to moving mobile terminals and to time
tolerant MTC.
##### 7.1.3.5.3 Impacts on existing nodes and functionality
UE:
\- The UE needs to run a \'transmission delay timer\' (per UE or per
application depending on the configuration);
\- The UE needs to compare the \'signal quality threshold\' with the already
available received signal quality/strength before a decision to transmit or
delay.
##### 7.1.3.5.4 Solution evaluation
Benefits:
\- Reduced battery consumption;
Drawbacks:
\- Sometimes delaying the transmission may not lead to improved coverage
conditions. If signal quality is getting worse over a time the UE transmits
before the transmission delay timer expires to avoid any further worsening of
the coverage conditions.
Further evaluation of this solution should be done by RAN.
#### 7.1.3.6 Solution: Long DRX cycles in connected mode
##### 7.1.3.6.1 General
The solution described in this clause addresses the key issue \"UE Power
Consumption Optimizations.\"
Allowing for longer DRX cycles in connected mode allows the terminal to switch
off its radio transmitter and receiver for longer periods of time, and thus
reduce its power consumption. This is especially useful for MTC use cases
where the terminal has only infrequent data to send or receive and it is
silent in between, e.g. for sensor types of devices. From AS point of view it
is possible to define connected mode DRX periods as long as several minutes.
The caused impacts on NAS layer, other services and user plane need separate
consideration. Also 3GPP offered services like location interrogation or
mobile terminated SMS likely experience protocol time-outs before any
successful service operation. For many application and transport protocols a
maximum of very few tens of seconds may be assumed as otherwise those
protocols may start already with repetitions and error handling for any
downlink initiated actions due to the high latency caused by a long DRX
cycles. From application level perspective such long DRX cycle (longer than a
few tens of seconds) are mainly suitable for applications with only mobile
originated transactions or for applications that have been adapted to be delay
tolerant. The handling of any NAS and other 3GPP services requires specific
adjustments, which are FFS.
Long DRX cycles in connected mode are enabled in UTRAN/E-UTRAN by providing
new values and/or parameters for long DRX cycles in RRC/MAC in a backwards
compatible way. That is, UEs not requiring low power consumption are not
impacted.
This solution assumes the long DRX cycle value is selected locally in the
UTRAN/E-UTRAN, but RAN would need to evaluate whether there is a need to
standardise some additional means as outlined in solutions described in clause
7.1.3.7.
When applying a longer DRX cycle value, the inactivity timer for releasing the
RRC connection should be adjusted accordingly.
NOTE 1: The need for modifying mobility measurement procedures and core
network mobility handling during long connected mode DRX cycles would depend
on 3GPP RAN WGs analysis on the topic.
NOTE 2: There can be also other RAN level mechanisms, which allow the UEs to
switch off reception for a longer time, while they are in the connected mode,
e.g., by extending the paging cycle length in UTRAN URA/CELL_PCH (or a in a
similar new state in E-UTRAN). The impacts on the core network, presented in
this clause, are applicable also to these alternatives.
Editor\'s note: How to achieve overload control when applying long DRX cycles
in connected mode is FFS e.g. RAN barring mechanisms are only applied in idle
mode.
Without adjusting the re-transmission timers on higher layers, Longer DRX
cycle maximum up to several minutes may impact the reachability of the UE that
would bring unnecessary overhead to the network, e.g., NAS and GTP message
retransmission, abnormal case handling without the feedback response in the
expected time duration.
Editor\'s note: It is FFS which maximum/reasonable DRX value that should be
possible to select, e.g. aspects like re-transmission timers on higher layers
needs to be considered.
##### 7.1.3.6.2 Impacts on existing nodes and functionality
The system impact is focused on the RAN (i.e. including the UE on Access
Stratum layer), e.g. RAN need to ensure that UE gets aware of SIB changes etc.
The CN impacts may be:
\- depending on which mechanisms to use in configuring the long DRX setting
e.g. for certain types of UEs;
\- if connected mode DRX periods should become longer than NAS and 3GPP
feature procedure timers then NAS protocols, 3GPP feature specific protocol
(e.g. location query) and also SMS related protocols need to be changed
\- a high user plane latency is introduced for downlink initiated transfers,
\- In case the solution is applied to mobile UEs the amount of S1 error
handling or NAS recovery procedures will increase.
The RAN impacts may be:
\- depending on which mechanisms to use it requires some signalling of long
DRX settings e.g. for certain types of UEs;
\- the number of UEs that are kept in connected mode increases, the eNB has to
keep more contexts
\- a longer time-to-live for downlink UP and CP data units in RAN may require
adjustments for buffer handling; specific actions may be required for
interaction with NAS or other higher layer procedures (e.g. the eNB may have
to release the S1 connection at time-to-live expiry to inform the CN that the
UE is not reachable and the CN can fall back to idle mode handling), the
specific handling is FFS
\- In case the solution is applied to mobile UEs the amount of S1 error
handling or NAS recovery procedures will increase.
The 3GPP RAN WGs would need to evaluate the current procedures to see if there
is impact on core network.
##### 7.1.3.6.3 Solution evaluation
There are achievable gains in energy and power consumption by using longer DRX
cycles. Using cycles of maximum up to several minutes would however reduce
responsiveness of low mobility MTC devices and will require applications that
can tolerate this.
Overall gains are achievable for stationary UEs. Moving UEs cause more error
handling procedures and overhead with this approach or have to change to idle
mode and can therefore not gain from the long DRX cycles in connected mode
solution. The solution may be used only for stationary UEs because mobile UEs
either cause considerable S1 error handling / S1 recovery overhead or would
need to leave the connected mode with causing extra signalling for
synchronising this with the network.
Keeping the UE for a long time in connected mode would decrease the signalling
load for stationary UEs, but it would increase the memory usage in eNB (i.e.
for keeping UE context and for storing DL packets including MT-SMS). Further
it increases the probability of S1 error handling / S1 recovery procedures,
and thereby causes additional signalling load and power consumption for UE and
network. Major adjustments may be needed in RAN and CN when the DRX cycle
becomes longer than the timers of the NAS or SMS procedures.
Connected mode DRX cycles of a few tens of seconds might be feasible without
major impacts on 3GPP and user/application protocols. It is FFS how much the
gains would be with DRX values of a few ten of seconds, specifically in
comparison to long idle mode DRX.
Further evaluation of this solution should be done by RAN.
#### 7.1.3.7 Solution: Factors for determining extended DRX
##### 7.1.3.7.1 General
This clause provides the factors which may influence the decision of extended
long DRX for both idle mode and connected mode. Possible factors (with need of
further evaluation) are listed as following:
\- UE provided Power Preference Indication: The UE may provide Power
Preference Indication to network for making extended DRX, which is described
in 7.1.3.2.
\- UE subscription information: UE subscription may provide UE power saving
preference which is set according to the service type of the UE. This
information may be used for determining extended long DRX.
\- QoS parameters: QoS parameters (e.g. QCI value, ARP, etc) may also be taken
into account. For example, QoS parameters may indicate the IMS voice service /
priority service, and in this case the extended long DRX may not be suitable
to be applied.
\- Current service used by UE: The service (e.g. CSFB w/o SMS-only) currently
used by the UE may also influence the decision of extended long DRX. For
example, applying extended long DRX may not be suitable to combined attached
UE without SMS-only, but possible to combined attached UE with SMS-only.
The factors above may be used by core network to determine whether extended
long DRX can be applied, or such factors can be provided to / used by the RAN
to determine the extended long DRX.
##### 7.1.3.7.2 Impacts on existing nodes and functionality
Depends on the factors used and the method for determining extended long DRX,
impacts are FFS.
##### 7.1.3.7.3 Solution evaluation
Editor\'s note: Use this section for evaluation at solution level. Evaluation
at key issue level is done in a separate clause.
### 7.1.4 Overall evaluation
7.1.4.1 Introduction
The solutions related to UEPCOP evaluated in the present document, all implies
an additional (compared to expected latency in current deployed networks)
delay in MT communication which makes them less suitable for scenarios with
applications that are not expecting higher latency. For MT communication, a
communication mechanism able to handle higher latency should be used. Examples
of such communication mechanisms are SMS (e.g. using 3GPP device triggering)
or IP/UDP (potentially with additional dedicated application support for
latency tolerant communication).
Before a normative phase can be initiated the solutions with RAN/GERAN impacts
needs to be evaluated by RAN/GERAN working groups. Also, while evaluating the
solutions it needs to be clear for which interval between activity and/or
latency requirements each solution is applicable to. The following table shows
the applicability of the solutions, i.e. which solutions impact RAN/GERAN
(i.e. solutions not impacting RAN/GERAN can be progressed without RAN/GERAN
evaluation) and for which packet data Inter Arrival Time intervals and latency
requirements they are applicable to.
Editor\'s note: The boundaries between the intervals (i.e. Short, Medium, Long
and Very long) is FFS.
Table 7.1.4-1: Solutions applicability
+----------------+----------------+----------------+----------------+ | Solution | Solution Title | RAN/GERAN | Interval | | Chapter | | impact (Yes, | between | | | | No) | activity | | | | | and/or | | | | | | | | | | Latency | | | | | requirement | | | | | | | | | | (Short, | | | | | Medium, Long, | | | | | Very long) | +----------------+----------------+----------------+----------------+ | 7.1.3.1 | Extended DRX | Yes | Short, Medium, | | | in idle mode | | Long | | | | | | | | | | NOTE 3 | +----------------+----------------+----------------+----------------+ | 7.1.3.2 | Extending DRX | Yes | Dependent on | | | using UE | | DRX solutions | | | Assistance | | | | | Information | | | +----------------+----------------+----------------+----------------+ | 7.1.3.3 | Power Saving | No | Medium, Long, | | | State for | | Very long | | | Devices | NOTE 1 | | +----------------+----------------+----------------+----------------+ | 7.1.3.4.3.1 | Attach/detach | No | Medium, Long, | | | using existing | | Very long | | | procedures | | | +----------------+----------------+----------------+----------------+ | 7.1.3.4.3.2 | Network | No | Medium, Long, | | | Assisted Power | | Very long | | | Saving | | | +----------------+----------------+----------------+----------------+ | 7.1.3.4.3.3 | Keeping UEs in | No | Medium, Long, | | | detached state | | Very long | | | when not | | | | | communicating | | | +----------------+----------------+----------------+----------------+ | 7.1.3.5 | Transmission | Not Viable for | Short, Medium, | | | delay until | GERAN | Long, Very | | | better | | long | | | coverage | No RAN impact | | | | conditions | | (Only for UL | | | | NOTE 2 | data) | +----------------+----------------+----------------+----------------+ | 7.1.3.6 | Long DRX | Yes (not | Short, Long | | | cycles in | applicable for | | | | connected mode | GERAN) | NOTE 3 | +----------------+----------------+----------------+----------------+ | 7.1.3.7 | Factors for | Yes | Dependent on | | | determining | | DRX solutions | | | extended DRX | | | +----------------+----------------+----------------+----------------+ | NOTE 1: The | | | | | SA2 assumption | | | | | is that the | | | | | solution does | | | | | not have any | | | | | RAN/GERAN | | | | | impacts, but | | | | | RAN2 declared | | | | | in the LS | | | | | S2-132013 that | | | | | \"RAN2 did not | | | | | have time to | | | | | consider this | | | | | solution so | | | | | far and plans | | | | | to perform the | | | | | evaluation in | | | | | future | | | | | meetings\" | | | | | i.e. the | | | | | solution may | | | | | need to be | | | | | marked as | | | | | pending | | | | | RAN/GERAN | | | | | evaluation. | | | | | | | | | | NOTE 2: The | | | | | solution was | | | | | assumed to | | | | | have RAN/GERAN | | | | | impacts by | | | | | SA2, but GERAN | | | | | (in S2-131661) | | | | | stated | | | | | \"**This | | | | | solution is | | | | | not viable | | | | | from GERAN | | | | | point of | | | | | view** \" and | | | | | RAN2 (in | | | | | S2-132013) | | | | | stated | | | | | \"Transmission | | | | | delay until | | | | | better | | | | | coverage | | | | | conditions\' | | | | | solution does | | | | | not need | | | | | further | | | | | evaluation as | | | | | no RAN | | | | | specification | | | | | impacts are | | | | | foreseen\". | | | | | | | | | | NOTE 3: Which | | | | | interval | | | | | between | | | | | activity | | | | | and/or Latency | | | | | requirement | | | | | the solution | | | | | would be | | | | | applicable for | | | | | is dependent | | | | | on the DRX | | | | | cycle | | | | | intervals | | | | | possible and | | | | | therefore | | | | | dependent on | | | | | RAN/GERAN. | | | | | Additional | | | | | functionality | | | | | is required | | | | | for longer DRX | | | | | cycles which | | | | | goes beyond | | | | | timers used | | | | | within higher | | | | | layers (see | | | | | description of | | | | | each | | | | | solution). | | | | +----------------+----------------+----------------+----------------+
The table 7.1.4-1 is used in the following sub-clauses to further compare and
evaluate solutions addressing similar interval between activity and/or Latency
requirements. Also, considerations are to be taken whether any of the
solutions is able to address both Short and Long Packet Data Inter Arrival
Time and/or Latency requirements i.e. being a generic solution.
The power saving state solution addresses a specific range of application
characteristics that can benefit from UE power optimizations and is provided
with limited impacts to the system.
The extended DRX solutions may address a wider or a different range of
application characteristics that can benefit from UE power optimizations, but
have larger impacts to the system. Extending DRX values beyond approximately
3...6s will require CN adaptations e.g. to limit additional signalling load
due to re-transmissions.
# 8 Group based feature (GROUP)
## 8.1 Key issue - Group based Messaging
### 8.1.1 Description
MTC applications generally involve a group of devices. Typically applications
today involve more than 1000 subscriptions for a single customer. From both
customer and operator points of view, there is benefit in optimized handling
of groups of MTC devices.
Group based messaging can be used to efficiently distribute the same message
(e.g. a trigger request) to those members of an MTC group that are located in
a particular geographical area on request of the SCS.
### 8.1.2 Architectural requirements
The following group messaging related requirements need to be met:
\- The network needs to provide a mechanism to distribute a group message from
an SCS to those members of an MTC group located in a particular geographic
area.
NOTE 1: The geographic area for the distribution may be a cell sector, a cell,
a group of cells, or PLMN. Any members of the group who are outside the
geographic area won\'t receive the message (e.g. the device is roaming on a
different network or just in a different cell in the same network). This does
not affect how those inside the designated geographic area respond to the
message, nor is there an expectation that the 3GPP network do anything to try
to send the message to those members of the MTC group who happen to be outside
the designated geographic area.
\- The group based messaging feature does not require additional new
functionality for UEs that do not use this feature.
\- The system needs to support a mechanism where a UE that uses the group
based messaging feature can efficiently recognize distributed group messages
addressed to the UE.
NOTE 2: The 3GPP system does not need to provide an acknowledgment of receipt
of the group message by an MTC device.
\- The system needs to provide an interface for the SCS to send a group
message. This interface needs to be able to carry the following information:
\- the application layer content of the group message,
\- the group identification for which the group message is intended, and
\- optionally, the location/area and RAT(s) in which the group message needs
to be distributed.
NOTE 3: The system maps between location/area information provided by the SCS
and the geographic area for the distribution of the group message based on
configuration in the operator domain.
NOTE 4: The reuse or extension of an existing interface is preferred.
\- The system needs to be able to determine if a SCS is authorized for sending
a group message.
\- The system needs to be protected against overload resulting from devices
responding to the distributed group message.
\- Group based messaging needs to be supported in GERAN, UTRAN, and E-UTRAN
access.
Editor\'s note: Support for non 3GPP access such as Wi-Fi is FFS
Editor\'s note: Charging requirements for the group message feature are FFS.
Editor\'s note: Whether 3GPP system support is needed for security or whether
an application layer security solution suffices with group based messaging is
FFS.
### 8.1.3 Solutions
#### 8.1.3.1 Solution : Group based messaging using cell broadcast
##### 8.1.3.1.1 General
Cell broadcast can be used as a solution to trigger or send a message to a
group of MTC devices when the geographic area in which the devices are located
is known, and/or for use cases where only the subset of devices of an MTC
group have to be triggered that are located in a particular geographic area.
With this solution group messages may be broadcast based on a Cell Broadcast
Service (CBS) / Public Warning System (PWS) type solution as specified in TS
23.041.
**Architecture**
In this architecture, the MTC-IWF acts as CBE towards a CBC. The architecture
re-uses existing protocols on CBC-BSC, Iu-BC and SBc to send group message to
BSC/RNC/MME.
Figure 8.1.3.1.1-1: CBS/PWS based group messaging architecture
Editor\'s note: The SBc interface may need to be enhanced to support group
messaging.
An alternative implementation option may be to combine the CBC and MTC-IWF.
**Sending a group message over the Tsp reference point**
With this solution a group message is received by the MTC-IWF over the Tsp
interface containing group identification, geographic information and group
message information, optionally the applicable RATs, optionally the number of
times and frequency/rate to broadcast the trigger/message.
Indiscriminate use of cell broadcast for group messaging could potentially
cause a flood of signalling when high amounts of devices respond to the cell
broadcast group message at (almost) the same time, which could cause problems
for both the mobile network operator and the MTC application owner. To spread
the responses of the triggered devices in time, a time window over which the
responses should be randomized may be included in the group message.
**Group message handling in the MTC-IWF.**
If the geographic area in which the devices of the group are located is known
in the IWF and if the broadcast message has to be broadcasted in this whole
geographic area, the geographic area information does not have to be sent over
Tsp. The MTC-IWF queries the HLR/HSS to map the external group identification
received over the Tsp interface into an internal cell broadcast group
identity. The MTC-IWF may also interrogate appropriate HLR/HSS to select
proper CBC node to transmit the group message. CBC can also be configured in
the MTC-IWF.
The MTC-IWF optionally adds a time window for randomization in the cell
broadcast message body. Here, it is assumed that the MTC-IWF can override the
time window for randomization of the responses that it received over the Tsp
interface if deemed necessary for network protection.
The MTC-IWF sends the group message to selected CBC.
**Internal cell broadcast group identity.**
To address a particular MTC group the following approaches can be used for
identification of an MTC group in the 3GPP operator domain[:]{.underline}
\- The cell broadcast message ID IE and,
\- Optionally group identification information in the cell broadcast message
body
When a dedicated message ID IE is used for group messaging, a mapping from
group ID to message ID IE suffices. When multiple groups share a message ID,
additional group identification information will have to be added in the
message body. It is assumed that both approaches can coexist in an operator
deployment. The cell broadcast architecture already contains functionality
that allows UEs configured to listen/ not listen to a particular cell
broadcast channel and/or cell broadcast messages with a particular message ID
to ignore a message.
**Group message handling in the CBC**
The target location/area is used by the CBC to determine the Cell Broadcast
Area for the CBS/PWS type trigger broadcast. The application layer content of
the group message is conveyed to the CBS/PWS infrastructure with indication of
trigger application, geographic area and optionally radio access nodes, and
the number of times and frequency/rate to broadcast.
**Group message handling in the MTC device**
With this solution, an MTC device that need to be triggered by a group trigger
needs to be configured to listen to the correct cell broadcast channel and
with the Message ID IEs, that will be used to trigger the group to which it
belongs. It is assumed that for group triggering Message IDs are used that are
not used with other services, to avoid impact on UEs that do not need to be
triggered by a group trigger. Processing of the message body of the cell
broadcast trigger takes place to process additional group information when
multiple groups share a message ID IE.
Based on the received application PDU the UE performs specific actions, e.g.
generate application data or establish a connection to the SCS/AS if needed.
Editor\'s note: The UE modes (idle/active CS/PS) that can detect the group
trigger/message is FFS.
**Scalability**
Indiscriminate use of cell broadcast for group messaging could potentially
cause a flood of signalling when high amounts of devices respond to the cell
broadcast message at (almost) the same time, which could cause problems for
both the mobile network operator and the MTC application owner. This should be
manageable by limiting the size of the groups or the geographic area in which
the broadcast message is sent. Additionally, randomization of the responses
can be deployed as described above.
There is a limitation to the capacity of cell broadcast channels. Frequent
usage of cell broadcast triggering for many relatively small groups in a large
geographical area may overload the cell broadcast capacity. However, an
operator can easily create a pricing strategy - based on the size of the
geographic area - that will give an incentive to the application owner to
limit the geographic area in which the broadcast message is sent. If most
broadcast messages are sent in a relatively small geographic area the capacity
impact is reduced. In case multiple group messages have to be sent in a
particular geographic area than the available capacity can handle, the cell
broadcast system can schedule these messages at a later time (i.e. messages
can be queued). Possibly a priority indication can be assigned to high
priority messages to affect the scheduling.
**Scalability in a Multi-operator sharing scenario**
There may be one shared radio access network and CBC in a multi-operator
scenario. For emergency broadcast services, this situation is fine due to the
low frequency and limited size of broadcast messages. In commercial services,
sharing a CBC brings in the potential for competitive issues related to
capacity, fair share of costs, and similar issues.
These concerns can be addressed by recognizing the commercial factors in
various ways. One approach is to use the number of instances of sending a
broadcast trigger and the area in which they are sent as a basis for sharing
costs among the operators sharing the resource. Considering issue 2, with
multiple operators using this capability, the likelihood increases that
capacity limits might be reached. This can be addressed through providing
larger capacity CBCs. It is assumed that when multiple operators share a CBC,
that inter-operator charging is done based on messages send by the customers
of an operator similar to the charging of customers of the cell broadcast
services by an operator.
Editor\'s note: FFS whether the message ID space that can be used for group
messaging based on cell broadcast can be divided between the network-sharing
partners without restricting the usability of the approach in shared networks.
**Triggering individual MTC devices**
This solution targets at triggering groups of MTC devices. Given above
described charging strategy, it is assumed that triggering of individual
devices using cell broadcast will not be advantageous in the majority of use
cases. It is assumed that other functionality in the operator network is used
to trigger individual devices and that this functionality may coexist with
cell broadcast triggering of group in network deployments.
**Roaming support**
For 3GPP Release 12, it is assumed that this solution only applies to non-
roaming scenarios. The solution may be extended for support of roaming in
further releases.
Editor\'s note: roaming considerations for both inbound and outbound roaming
are FFS.
**Charging implications**
It is assumed that charging of group based messaging with this solution is
based on charging of group message over the Tsp interface taking into account
the message size and the geographic area in which the group message has to be
distributed, and optionally the number of times a message needs to be
broadcast.
NOTE: Charging is not based on the size of the group.
**Security implications**
It is assumed that security e.g. to ensure that a group message came from the
real SCS is left up to the application layer.
Editor\'s note: Whether this is acceptable is FFS. This will need to be
checked with SA3.
Editor\'s note: How to control that only UEs belonging to a certain group read
respective group messages if FFS
##### 8.1.3.1.2 Impacts on existing nodes and functionality
The CBC must be modified to:
\- recognise group trigger/message requests and assign the message ID IE to
the value(s) allocated for MTC Device triggering (group triggers/messages are
differentiated from PWS warning messages by their message ID);
\- allow the partners of a shared network (GERAN, UTRAN, E-UTRAN) to share a
CBC and allow inter-operator charging similar to the charging of customers of
the cell broadcast services by an operator.
\- If RAT(s) is provided, forward broadcast message to CN nodes associated
with requested RAT(s) in the cell broadcast area.
MTC-IWF
\- set the message ID IE to the value(s) allocated for MTC Device triggering;
\- optionally, provide additional group identification information in the cell
broadcast message body
\- optionally, add randomization window to the cell broadcast message body
\- Interface with CBC.
\- Interrogate appropriate HLR/HSS to map external group identifier to
internal group identifier
\- Interrogate appropriate HLR/HSS to select proper CBC to transmit the group-
based messages, when needed
\- Enhanced charging to support group trigger/messaging
MTC devices that are configured to receive broadcast messages will need to:
\- listen on the appropriate broadcast channel(s) for triggering messages;
\- understand the message ID(s) that are to be used by the application;
\- optionally, understand the group identification information in the cell
broadcast message body
\- perform the appropriate action after being triggered;
\- MTC Devices need to have controlled access to avoid network overload
\- spread out responses over time possibly according to information received
in the message.
Editor\'s note: The type of controlled access is FFS. Examples include:
network provided dispersion parameters to be used by each member of the MTC
group, or a hashing algorithm based on e.g., IMEI that the UE uses to offset
access time.
Impact to MME:
\- Receive and process CBS/PWS type trigger request and forward to target
eNBs.
Impacts to RAN:
\- If the indication of \"group message application\" is received from the CBC
or MME, the RAN broadcasts group message in the radio access network.
##### 8.1.3.1.3 Solution evaluation
Editor\'s note: The benefits and cons below are not yet reviewed or agreed.
They are kept here only to stimulate thought.
Benefits
\- Solution based on existing CBS/PWS broadcast architecture to trigger groups
of MTC devices when the geographic area in which the devices are located is
known, and/or for use cases where only the subset of devices of an MTC group
have to be triggered that are located in a particular geographic area need to
be triggered.
Cons:
\- Application needs to ensure that the UEs that need to receive the trigger
have received the trigger. If some in the group did not receive the trigger,
the SCS/AS/MTC Server may have to individually trigger them.
\- The Group trigger/message may have to be broadcast multiple times to aid in
UEs within the group to receive the trigger.
\- applicability of CBS/PWS is limited to the servicing PLMN.
\- All group message solutions need to take the following into account:
\- Many devices where this would seem applicable (e.g., utilities/meters) will
be aggregated behind gateways so only the gateway needs to be triggered.
> \- Routine events should be scheduled and not triggered. Emergency or non-
> routine events are more suitable for triggering if UEs are monitoring for
> broadcasts. Battery/power savings devices may be in power savings mode for
> long periods and not continuously monitoring for broadcasts.
NOTE: CT1 is responsible for CBS/PWS Stage 2 in TS 23.041. SA2 will study the
feasibility of a broadcast solution for group triggering/messaging and CT1
will be responsible for Stage 2 normative specifications.
#### 8.1.3.2 Solution : Group messaging using MBMS
##### 8.1.3.2.1 General
This solution proposes 2 options how to use MBMS for group messaging. These
architectural options can be re-used for general group messaging purposes (not
limited to MTC devices). Operator could treat the trigger/messaging as a
normal MBMS user service and use the \"service announcement\" (SMS, WAP, HTTP)
as defined in TS 23.246 to distribute the related service information to the
devices of specific group. The BM-SC (Broadcast Multicast Service Centre)
allocates TMGI (Temporary Mobile Group Identity) for specific MBMS user
service.
NOTE 1: To allow for roaming, the Mz interface as defined in TS 23.246 need to
be supported in eMBMS.
NOTE 2: eMBMS supports only broadcast mode.
##### 8.1.3.2.1.1 MBMS option 1: MTC-IWF connected to BM-SC {#mbms-
option-1-mtc-iwf-connected-to-bm-sc .H6}
In this option, the MTC-IWF is connected to the BM-SC. In the roaming case,
this BM-SC is the H-BMSC located in HPLMN. Application server provides the
content to be broadcasted and additional information to SCS which forwards the
content over Tsp to IWF. In case IWF and BM-SC are not co-located, a new
interface Tmb between them is required. Figure 8.1.3.2.1.1-1 shows the group
messaging roaming architecture for MBMS option 1. As an optimization the
message content can be delivered from H-BM-SC to V-BM-SC using the control
plane interface Mz. If MTC-IWF and BM-SC are co-located, the interface between
IWF/BM-SC and MBMS-GW is based on existing interfaces SGmb and SGi-mb.
Editor\'s note: It is FFS whether large amount of data can be provided from
IWF to SCS over Tsp interface.
Figure 8.1.3.2.1.1-1: MBMS based group messaging architecture option 1
MTC-IWF needs to support the group messaging functionality including the
following:
\- reception of a group messaging request from SCS;
\- ability to authorize control plane requests from an SCS;
\- report to the SCS the acceptance or non-acceptance of the group messaging
request;
\- interrogation of the appropriate HSS, to:
\- determine if a SCS is allowed to send a group messaging request to a
particular group.
\- protocol translation, and forwarding towards the BM-SC/MBMS-GW of a group
messaging request;
\- generation of group messaging specific CDRs including group External
Identifier and SCS Identifier and forwarding to CDF/CGF over instance of
Rf/Ga.
\- trigger the session start procedure based on the registered service areas
and the RAT(s).
Figure 8.1.3.2.1.1-2: Procedure flows MBMS based group messaging option 1
1\. The SCS send the group messaging request (External Group Identifier, SCS
Identifier, application layer content of the group message, location/area
information, RAT(s) information) message to the MTC-IWF. The SCS may determine
the IP address(es)/port(s) of the MTC-IWF by performing a DNS query using the
External Group Identifier or using a locally configured MTC-IWF
identifier/address.
2\. The MTC-IWF checks that the SCS is authorised to send a group messaging
request.
3\. The MTC-IWF may send a Subscriber Information Request (External Group
Identifier and SCS Identifier) message to the HSS/HLR to determine if SCS is
authorized to send group messaging to the specific group, to retrieve group
specific subscription data.
4\. The HSS/HLR sends the Subscriber Information Response (Delivery Method,
cause) message. HSS/HLR may indicate the group messaging delivery method e.g.
MBMS, based on the subscription and/or policy. If the cause value indicates
the SCS is not allowed to send a group messaging request to this group, or
there is no valid subscription information, the MTC-IWF sends a group
messaging Confirm message with a cause value indicating the reason for the
failure condition and the flow stops at this step. Otherwise this flow
continues with step 5.
5\. The MTC-IWF selects delivery procedure based on the information received
from HSS/HLR and local policy.
6\. If MBMS delivery method is selected, MTC-IWF send session start request
(MBMS service Area) message to the BM-SC/MBMS-GW. MBMS-GW performs the session
start procedure with MME/SGSN.
NOTE: The IWF maps between location/area information provided by the SCS and
the MBMS service area for the distribution of the group message based on
configuration in the operator domain.
7\. The MTC-IWF transfers the group messaging content to the BM-SC/MBMS-GW. As
an optimization the session start request message in step 6 may include the
group messaging content.
8\. The MTC-IWF sends a Group Messaging Confirm message to the SCS to confirm
that the Request has been accepted for delivery to the UE.
9\. In response to the received message, the UE takes specific actions that
take into consideration the content of payload. This response typically
involves initiation of immediate or later communication with the SCS or an AS.
##### 8.1.3.2.1.2 MBMS option 2: SCS connected to BM-SC {#mbms-option-2-scs-
connected-to-bm-sc .H6}
In this option SCS is directly connected to the BM-SC. Otherwise, this option
mainly re-uses existing MBMS architecture. Figure 8.1.3.2.1.2-1 shows the
architecture for this option. This option does not involve IWF for group
message and Tsp interface from SCS to IWF, i.e. it is a standalone group
messaging architecture. However, Tsp is supported at SCS towards IWF for
sending unicast messages like point-to-point device trigger requests (e.g. SMS
over T4 interface) to individual UEs. So, it assumes that SCS makes the
distinction on whether broadcasting is performed or unicast messages are sent.
Figure 8.1.3.2.1.2-1: MBMS based group messaging architecture option 2
Editor\'s note: Additional details are FFS.
##### 8.1.3.2.2 Impacts on existing nodes and functionality
For option 1:
New interface between MTC-IWF and BM-SC/MBMS-GW.
IWF needs to support the group messaging functionality including the
following:
\- reception of a group messaging request from SCS;
\- ability to authorize control plane requests from an SCS;
\- report to the SCS the acceptance or non-acceptance of the group messaging
request;
\- interrogation of the appropriate HSS, to:
\- determine if a SCS is allowed to send a group messaging request to a
particular group.
\- protocol translation, and forwarding towards the BM-SC/MBMS-GW of a group
messaging request;
\- generation of group specific messaging CDRs including group External
Identifier and SCS Identifier and forwarding to CDF/CGF over instance of
Rf/Ga.
\- trigger the session start procedure based on the registered service areas
and the RAT(s).
##### 8.1.3.2.3 Solution evaluation
Editor\'s note: Use this section for evaluation at solution level. Evaluation
at the key issue level is done in a separate clause.
#### 8.1.3.3 Solution : Group based messaging using IP Multicast
##### 8.1.3.3.1 General
An IP based group messaging solution can ease the introduction of group
message support for MTC Devices. IP Multicast can be used to a send a message
to a group of MTC devices. With this solution group messages may be
transmitted using IP Multicast as specified in TS 29.061 [7]. For EPC a new IP
multicast router function is required in the P-GW. In addition this solution
can interact with UEs acting as gateways, potentially also with IP multicast
router functionality controlling a capillary network with a multiple of M2M
devices behind the UE GW.
In this architecture the Packet Domain would allow access to IP Multicast
traffic coming from an external network. The SCS would be assigned a range of
multicast addresses to use for group messaging.
In order for the Packet Core Network to support Multicast traffic that will
allow the MS/UE to subscribe to multicast groups from outside the PLMN, the
GGSN/P-GW needs to support IGMP (IPv4) and/or MLD (IPv6) and one or more
Inter-Router Multicast protocols, such as DVMRP, MOSPF, or PIM-SM.
IGMP/MLD is an integral part of IP. MTC hosts wishing to receive IP multicasts
are required to implement IGMP (or equivalent) and class-D IPv4 addresses or
MLD and IPv6 multicast. MTC devices would join towards specific multicast
addresses corresponding to MTC groups to which they belong.
Figure 8.1.3.3.1-1: Group message with IP-Multicast
To be able to deliver IP-Multicast packets to the appropriate MTC devices the
GGSN/P-GW will have an IP-Multicast proxy functionality.
The IP-Multicast proxy will perform the following tasks:
NOTE: In this example it is assumed that IGMP/MLD is used as a Host-Router
Multicast protocol.
\- maintain a list of mobiles that joined one or more Multicast groups. This
list is built/updated each time the GGSN/P-GW receives an IGMP Join or MLD
Report message from the mobile;
\- send, based on this maintained list of mobiles, multicast routing
information to the routers attached to the Packet Domain, allowing them to
route multicast packets;
\- upon reception by the GGSN/P-GW of multicast packets (i.e. carrying MTC
group message), makes and send a copy as Point-to-Point packets, to each
mobile of the MTC group.
IP-Multicast traffic can only be handled after an MS/UE has attached to the
Packet Domain, and a bearer (e.g. Activated PDP context(s)) (including
possibly authentication) pointing to the preferred ISP/external network for
this purpose. Dedicated APN for MTC purposes can be used for this purpose
along with a dedicated tunnel towards SCS.
The SCS would issue MTC Group Messages towards specific groups via specific
multicast addresses.
The GGSN/P-GW, in particular for large groups, would distribute the group
message towards the UEs in a rate limiting manner (e.g. limit to X packets per
second, or Y packets per SGW per second etc). This avoids that the multicast
message overloads the network e.g. paging and other resources.. This would
also ensure that the SCS isn\'t overloaded by a very large number of
simultaneously responses from the M2M devices that have received the group
message.
The Multicast traffic is handled at the application level from a Packet Domain
perspective and is sent over UDP/IP.
The intention is to give the operator a possibility to offer a group messaging
function to its M2M service provider partners.
Editor\'s note: Scalability issues may need further study.
##### 8.1.3.3.2 Impacts on existing nodes and functionality
SCS
\- Assigned a range of multicast addresses to use for group messaging.
GGSN/PGW
\- IP-Multicast proxy functionality, IGMP (IPv4) and/or MLD (IPv6) and one or
more Inter-Router Multicast protocols, such as DVMRP, MOSPF, or PIM-SM as
described in TS 29.061 [7] and above.
\- VPN /Tunnel to secure IP multicast packet (i.e. with MTC Group message) is
from known/ trusted source (i.e. SCS)
\- The GGSN/P-GW, in particular for large groups, would distribute the group
message towards the UEs in a rate limiting manner controlling the number
downlink packets per second or per SGW per second.
UE
\- MTC devices wishing to receive IP multicasts are required to implement IGMP
(or equivalent) and class-D IPv4 addresses or MLD and IPv6 multicast. They
would be configured to join towards multicast address over which group message
is transmitted
##### 8.1.3.3.3 Solution evaluation
The intention with this solution is not to have an optimized distribution
within the 3GPP access as such.
### 8.1.4 Overall evaluation
Editor\'s note: Use this section for evaluation of key issues.
## 8.2 Key Issue - Group based Ccarging optimizations
### 8.2.1 Description
MTC applications generally involve a group of devices. Typically applications
today involve more than 1000 subscriptions for a single customer. From both
customer and operator points of view, there is benefit in optimized handling
of groups of MTC devices.
Group based charging is to increase charging efficiency for group based MTC
applications. In many cases, the data volume of CDRs generated by MTC
applications is greater than the volume of actual user data transmitted. In
these cases it may be beneficial to create bulk CDRs to count chargeable
events per group instead of CDR creation per individual device.
### 8.2.2 Architectural requirements
The purpose of group based charging is to minimise the amount of CDRs
generated for MTC Devices / MTC Subscriptions that belong to the same MTC
group. Group based charging applies to offline charging only.
The following charging related requirements need to be met:
\- Entities that generate CDRs (e.g. SGSN, GGSN, S-GW, P-GW) need to support
group based charging enhancements, e.g. collect the charging events and
generate the bulk CDR for all the devices belonging to the same charging group
instead or in addition to CDRs on the individual device level.
\- It needs to be possible to control whether individual or group based
charging applies.
\- Group based charging needs to be supported for roaming and non-roaming
cases.
\- Information on whether group based charging has been applied plus the
relevant identity of the MTC group need to be recorded in the CDR.
\- It needs to be possible for offline systems to correlate CDRs by the
identity of the MTC group when individual charging applies.
Editor\'s note: Whether the above requirements are realistic needs to be
confirmed by SA5, and SA5 needs to be involved in the development of
corresponding solutions.
### 8.2.3 Solutions
#### 8.2.3.1 Solution : Using charging characteristics to control bulk CDR
generation
##### 8.2.3.1.1 General
As part of the subscription information, charging characteristics can be
supplied by the HLR/HSS to the SGSN/MME. During the IP-CAN bearer activation,
the SGSN/MME forwards the charging characteristics parameter to the
S-GW/P-GW/GGSN.
With the charging characteristics concept, it can be enhanced to include the
\"group charging method\" information. The S-GW/P-GW/GGSN needs to apply
charging characteristics to its IP CAN bearers. When the charging
characteristics indicate the group charging, the related network nodes,
including CTF-Charging Trigger Function/CDF-Charging Data Function
(S-GW/P-GW/GGSN), collects the charging events and performs the CDRs
generation per group level rather than the individual device level, e.g. data
volume for all the devices of the group, elapsed time or number of events
(e.g. messaging/monitoring) for all the devices of the group. The first IP-CAN
bearer establishment of the specific group within S-GW/P-GW/GGSN triggers the
group CDRs generation start, while the end of last IP-CAN bearer of the
specific group within the S-GW/P-GW/GGSN triggers the group CDRs generation
closure. The group charging event collection/reporting and CDRs
generation/reporting includes the group ID information.
Based on the operator policy and also considering the roaming case, different
charging entities may apply different Charging policies, e.g. bulk charging
CDR in visited S-GW and individual charging records in home P-GW/GGSN.
##### 8.2.3.1.2 Impacts on existing nodes and functionality
The network nodes that generate CDRs are enhanced to understand the new
charging characteristics information and accumulate the charging information
for the UEs with the same charging group in group records.
The charging event reporting and the generated CDRs need to include the group
identity.
##### 8.2.3.1.3 Solution evaluation
The core network nodes generate bulk CDRs per group level rather than per
individual device level, so as to reduce the volume/amount of CDRs generated
for the devices of the group and decrease the load for charging information
transfer.
For very small charging groups, especially within one dedicated CN node, the
benefit for bulk CDR generation and transfer will be limited.
#### 8.2.3.2 Solution: Using PCC rule to control bulk CDR generation
##### 8.2.3.2.1 General
At IP‑CAN session establishment the PCEF needs to initiate the IP‑CAN session
establishment procedure with PCRF. PCRF provides the PCC rule information to
the PCEF via the Gx reference point. The PCC rule can be enhanced to include a
new value for \"group charging\" in the charging method part and also the
group ID.
Editor\'s note: It is FFS how to instruct the PCEF to generate bulk CDRs and
CDRs on individual device level in parallel.
PCRF could use the subscribed information to set the group charging method.
When the charging method indicates group charging, the related network nodes
including CTF-Charging Trigger Function/CDF-Charging Data Function (P-GW/GGSN)
collects the charging events and performs the CDRs generation per group level
rather than the individual device level, e.g. data volume for all the devices
of the group, elapsed time or number of events (e.g. messaging/monitoring) for
all the devices of the group. The first IP-CAN bearer establishment of the
specific group within P-GW/GGSN triggers the group CDRs generation start,
while the end of last IP-CAN bearer of the specific group within the P-GW/GGSN
triggers the group CDRs generation closure. The group charging event
collection/reporting and CDRs generation/reporting includes the group ID
information.
##### 8.2.3.2.2 Impacts on existing nodes and functionality
The PCRF generates the new group charging rule and transfer it to the PCEF.
The network nodes that generate CDRs are enhanced to understand the new PCC
rule information and accumulate the charging information for the UEs with the
same charging group in group records.
The charging event reporting and the generated CDRs need to include the group
identity.
##### 8.2.3.2.3 Solution evaluation
The core network nodes generate bulk CDRs per group level rather than per
individual device level, so as to reduce the volume/amount of CDRs generated
for the devices of the group and decrease the load for charging information
transfer.
For very small groups, especially within one dedicated CN node, the benefit
for bulk CDR generation and transfer will be limited.
PCC invocation is required for these subscribers applying bulk CDR generation.
#### 8.2.3.3 Solution: Group ID in CDR
##### 8.2.3.3.1 General
For group charging, a group ID is needed to identify a charging group and the
CDRs created for that group. Each subscription may be associated with a group
identifier for purposes of group charging. A group identifier identifies
uniquely the set of UEs for which charging data will be aggregated together
for the purpose of CDR generation, such that a single bulk CDR captures
charging data for all devices with a similar group identifier.
Editor\'s note: It is FFS how to define a general group ID for group charging.
A single Charging Group MSISDN may identify the charging records for a
potentially large group of UEs/devices/IMSIs. To support group based charging,
a Group MSISDN is subscribed to all the devices belonging to this group. The
consumption of MSISDNs is therefore relatively low. Further this MSISDNs needs
not to be from the operators normal MSISDN range as it is not needed and for
most services also not possible to uniquely route signalling based on such a
group MSISDN. Assigning the same MSISDN to individual subscription
records/IMSIs is existing functionality. The charging group MSISDN
transferring to the SGW/PGW/GGSN via GTP signalling during PDP/EPS bearer
establishment is also existing functionality. When individual or Group CDR is
generated, the Charging Group MSISDN is filled in the existing MSISDN part to
correlate individual CDRs or identify the bulk charging CDR.
This group charging approach is mainly for subscriptions, IMSIs, devices that
use only PS services as in the PS domain the MSISDN is used only for charging
and for mobile originating SMS. The latter is not necessarily needed for UEs
that are used for MTC if only mobile terminating SMS for triggering or device
configuration are considered necessary.
##### 8.2.3.3.2 Impacts on existing nodes and functionality
##### 8.2.3.3.3 Solution evaluation
### 8.2.4 Overall evaluation
Editor\'s note: Use this section for evaluation of key issues.
## 8.3 Key issue - Group based Policy Control
### 8.3.1 Description
MTC applications generally involve a group of devices. Typically applications
today involve more than 1000 subscriptions for a single customer. From both
customer and operator points of view, there is benefit in optimized handling
of groups of MTC devices.
Group based policing can be used to enforce a policy for a group of MTC
devices. This allows greater flexibility to the MTC application or MTC
application owner compared to individual policies for each of the devices,
while at the same time ensuring the operator that the particular group of MTC
devices does not unduly load the network.
### 8.3.2 Architectural requirements
Editor\'s note: The requirements for group based policing are FFS.
#### 8.3.2.1 Group Based Policing assumptions and limitations
In the context of Group Based Policing, the architectural scope should
consider issues surrounding:
\- Centralized or Distributed Architectural Approaches
\- Method of policy group membership determination.
\- Coexistence of individual subscriber and group policies
#### 8.3.2.2 Architectural assumptions
The following are the agreed architectural assumptions for defining overall
architectural requirements:
\- Policy group members are subscribed to same HPLMN
\- Policy group members are associated to the same APN
\- Roaming needs to be supported for members of a policy group.
\- Bit rate measurement and enforcement for a policy group is within a common
PCEF; the same PCEF needs to be selected for all members in the group.
\- PDN GW/GGSN selection will always select the gateway in the HPLMN
\- Policy controls for individual policy group members should co-exist with
the introduction of the new group level maximum aggregate bit rate control.
\- Solutions for group based policing should at least cater for groups of in
the order of 1000 group members.
NOTE: The minimum and maximum number of policy group members, which takes into
account relevant core network capacity, is defined by operator.
\- A UE can be associated with more than one policy group.
Editor\'s note: Whether multiple group policies cause conflicts, what to do
about such conflicts and whether resolving them through administrative means
will help is FFS.
\- Support of dynamic policy control over the Rx interface is not required
with group based policy control.
Editor\'s note: The following remaining items for consideration are FFS.
\- means by which a UE is associated to a policy group
#### 8.3.2.3 Overall architectural requirements
The following are the agreed overall architectural requirements:
\- A per policy group DL APN AMBR needs to be supported with group based
policy control.
\- A per device DL APN AMBR may be supported in conjunction with group based
policy control.
\- A per device UL APN AMBR may be supported in conjunction with group based
policy control.
Editor\'s note: How to do policing in the uplink is FFS. Possible solutions
include: per policy group UL APN AMBR, Event reporting when exceeding
threshold, policing number of connections/bearers.
### 8.3.3 Solutions
#### 8.3.3.1 Solution: Group Based Policing with Group-AMBR
##### 8.3.3.1.1 General
A new DL-GROUP-AMBR is introduced to limit the aggregated bit rate to be
provided for the PDN connections within a PCEF for all MTC devices belong to
the same group in the downlink direction. The DL-GROUP-AMBR is the aggregated
maximum bit rate data for non-GBR QCI usage that is policed for the group.
Editor\'s note: Whether deployment of a similar approach for UL-GROUP-ABR
enforcement is feasible is FFS.
The DL-GROUP-AMBR may be locally configured in the PCEF (e.g. in the case of
no PCRF) on a per group basis. In the case of PCC deployment the DL-GROUP-AMBR
provided over Gx overrides any group level setting in the PCEF.
The solution relies on the assumption that there is one PCEF to handle the
traffic of all members of the MTC group.
The PDN GW/GGSN Selection function utilizes the APN to select a specific PCEF
where the group based policy control is to be enforced.
When a PDN connection for a group member is requested, the PDN GW/GGSN
selection function needs to ensure that the selection is appropriate for group
policy enforcement.
Some example methods to support common PCEF selection include:
\- A static PDN GW/GGSN can be selected by either having the APN to map to a
given PDN GW/GGSN, or the PDN GW identity provided by the HSS/HLR indicates
the static PDN GW/GGSN.
\- The HSS/HLR could maintain logic such that it provides a PDN GW/GGSN FQDN
as PDN GW/GGSN identity at connection establishment of the 1^st^ group member
and provides the allocated PDN GW/GGSN as a static PDN GW/GGSN to the
MME/SGSNs at subsequent connection requests by other group members.
Editor´s note: How to ensure that all groups member are allocated to the same
PDN GW/GGSN when the HLR/HSS has not stored the allocated PDN GW/GGSN address
for the first user yet is FFS.
In the case of no PCC framework deployment:
\- The PCEF conducts rate policing, as per configured DL-GROUP-AMBR, on the
aggregate Non-GBR QCI traffic for the group members.
In the case of PCC framework deployment the above based functionality is
extended to allow for an authorized DL-GROUP-AMBR to be provided to the PCRF
as follows which will override any configured value in the PCEF.
At IP-CAN session establishment, the PCRF provides the applicable DL-GROUP-
AMBR. The PCRF may update the DL-GROUP-AMBR at any time during the life time
of the session if needed. GBR QCI traffic is always out of scope for DL-GROUP-
AMBR.
The last DL-GROUP-AMBR value that the PCEF has received is the value that
applies for rate policing. Individual subscriber policy (i.e. PCC rules) ,
continue to apply in conjunction with DL-GROUP-AMBR, thus still allowing , for
example, existing individual APN-AMBR enforcement for specific MTC devices
within a group. The PCEF will ensure that the downlink maximum bit rate for
all PDN connections to the same APN of a given MTC device within a group does
exceed neither the DL-GROUP-AMBR for the group the MTC devices belongs to nor
the APN-AMBR of that MTC device. The PCEF enforces first DL-APN-AMBR
enforcement then DL-GROUP-AMBR.
##### 8.3.3.1.2 Impacts on existing nodes and functionality
PDN-GW/GGSN
\- Support of rate policing, as per DL-GROUP-AMBR, on the aggregate Non-GBR
QCI traffic for the group members identified by the group identity.
\- In the case of PCC deployment, support of an authorized DL-GROUP-AMBR
parameter provided by PCRF over Gx
PCRF/SPR/UDR
\- Support an authorized DL-GROUP-AMBR
##### 8.3.3.1.3 Solution evaluation
Editor\'s note: Use this section for evaluation at solution level. Evaluation
at key issue level is done in a separate clause.
### 8.3.4 Overall evaluation
Editor\'s note: Use this section for evaluation of key issues.
## 8.4 Key Issue - Group based addressing and identifiers
### 8.4.1 Description
Applications generally involve a group of devices. Typically applications
today involve more than 1000 subscriptions for a single customer. From both
customer and operator points of view, there is benefit in optimized handling
of groups of devices.
Group based addressing and identifiers are essential to support group based
features such as messaging, charging and policing.
### 8.4.2 Architectural requirements
The following group addressing and identifiers related requirements need to be
met:
\- The network needs to support the ability to group subscriptions together.
\- It needs to be possible for the network to decide whether a subscription is
a member of a specific group or not (e.g. using the respective group
identifier).
\- It needs to be possible for the network to address the devices in a group.
\- The External Group Identifier should be such to identify that a specific
trigger is a group trigger.
### 8.4.3 Solutions
#### 8.4.3.1 Solution: External Group identifiers
##### 8.4.3.1.1 General
The same principles as for MTC identifiers defined in TS 23.682 [3] apply also
the case of group identifier used for Group Messaging. Namely the External
Group Identifier needs to be based on a Domain Group Identifier and Local
Group Identifier and have the form username\@realm. External Group Identifier
needs to be globally unique. It should consist of the following components:
a) Domain Group Identifier: identifies a domain that is under the control of a
Mobile Network Operator (MNO) that controls this group. The Domain Identifier
is used to identify where services provided by the operator network can be
accessed (e.g. MTC-IWF provided services). An operator may use different
domain identifiers to provide access to different services.
b) Local Group Identifiers: Identifier that is used to derive or obtain an
internal group identifier if needed. The Local Group Identifier is unique
within the applicable domain. It is managed by the Mobile Network Operator.
NOTE: The internal group identifiers can be different corresponding to their
usage and delivery method of the group message. For example there can be
different internal identifiers depending on the mechanism used for group
messaging and map to e.g. one specific TMGI in case of MBMS or one specific
message ID in case of CBS.
The mapping between the Local Group Identifiers and internal group identifiers
can take place in the following entities in the network:
\- Option 1: Static mapping at HSS/HLR and/or MTC AAA
Assumes static mapping between \"Local Group Identifiers\" and Internal Group
Identifiers e.g. local group identifier=123456 maps to TMGI=X and/or \"message
id\"=Y as part of the group subscription data.
In this case the HSS/HLR and/or MTC AAA depending on the \"Local Group
Identifier\" provides a pre-allocated fixed Internal Group Identifier (TMGI
for MBMS/eMBMS and/or message-id for CBS).
Editor\'s note: It is FFS how the static mapping can be configured in HSS
and/or MTC AAA e.g. a business process.
Editor\'s note: It is FFS how External Group IDs are allocated.
\- Option 2: Mapping at MTC IWF
When the MTC IWF receives the device trigger message, if MBMS/eMBMS is used
for device trigger delivery, then the MTC IWF can perform mapping from
external group ID into TMGI(s). If CBS is used then MTC IWF can allocate the
\"message id\".
If MBMS/eMBMS is used, then the MTC IWF will allocate a TMGI for each operator
network or get the TMGI from other entities for each operator network. The BM-
SC will not allocate a TMGI and will only receive the TMGI from MTC IWF.
Editor\'s note: It is FFS how the MTC IWF will get or get allocated the TMGI
from other entities.
\- Option 3: Delivery server (BM-SC, CBC) allocates Internal Group Identifiers
(service ids) to the subgroup
The delivery server (BM-SC, CBC) then allocates/maps the \"local group
identifier\" to \"internal group identifiers\" applicable to each subgroup.
With this option the BMSC or CBC needs to have access to the group
subscription information in order to do the mapping between the TMGIs and
\"message id\" and local group identifiers that are contained in the trigger
request.
##### 8.4.3.1.2 Impacts on existing nodes and functionality
**Option 1: Static mapping at HSS/HLR and/or MTC AAAHSS/MTC AAA:**
\- HSS/AAA contains a mapping between the, the Local Group Identifier and the
respective Internal Group Identifier per each Group trigger/message delivery
mechanism.
MTC IWF:
\- MTC IWF sends the group trigger mechanism to BMSC and CBC using the
Internal Group Identifier provided by HSS
BM-SC and CBC:
\- BM-SC and CBC need to be able to receive an indication for group trigger
identified by the respective internal group identifiers (TMGI/message-id).
UE:
\- UE needs to \"know\" e.g. be configured or use standardised values, about
the static mapping stored in the HSS/HLR and/or MTC AAA.
**Option 2: Mapping at MTC IWF**
MTC IWF:
\- MTC IWF performs a mapping between the External Group Identifier and
Internal Group Identifiers that are used for each Group trigger/message
delivery mechanism.
BM-SC/CBC:
\- BM-SC and CBC need to be able to receive an indication for group trigger
identified by the respective internal group identifiers (TMGI/message-id).
UE:
\- UE needs to \"learn\" what is the mapping between the \"external group
identifier\" where the UE belongs and the service identifier that is selected
by the MTC IWF.
Editor\'s note: For the case of MBMS/eMBMS it is FFS how the mapping can be
communicated and reflected in the \"UserService Description\" (as defined in
TS 26.346). For the case of CBS it is FFS how the UE can learn this mapping in
advance.
**Option 3: Mapping at delivery servers**
MTC IWF:
\- MTC IWF sends the Group Trigger message using the Local Group Identifier
BM-SC/CBC:
\- BM-SC and CBC need to have access to the group subscription information in
order to perform the mapping between the Local Group Identifier and their
respective Internal Group Identifiers (TMGIs and message ids).
UE:
\- UE needs to \"learn\" what is the mapping between the \"external group
identifier\" where the UE belongs and the service identifier that is selected
by the server (e.g. BMSC. CBC).
Editor\'s note: For the case of MBMS/eMBMS it is FFS how the mapping can be
communicated and reflected in the \"UserService Description\" (as defined in
TS 26.346). For the case of CBS it is FFS how the UE can learn this mapping in
advance.
##### 8.4.3.1.3 Solution evaluation
Editor\'s note: Use this section for evaluation at solution level. Evaluation
at the key issue level is done in a separate clause.
### 8.4.4 Overall evaluation
Editor\'s note: Use this section for evaluation of key issues.
# 9 Conclusions
Editor\'s note: This clause is intended to list conclusions that have been
agreed during the course of the work item activities.
## 9.1 Key issue 5.1.2
Normative work needs to proceed as follows:
> In order to limit load on the core network solution 5.1.2.3.1 with following
> assumptions for Rel-12:
  * Decision for any specific assistance information coming from the CN to support eNB determining parameters should be left to RAN groups.
NOTE: Can be complemented by the Long DRX cycles in connected mode solution
from UEPCOP.
## 9.2 Key issue 5.2.1
Overload control for device triggering should be specified as per clause
5.2.1.3.1.
Normative work can be led by CT working groups and stage-2 specification can
be updated to align with stage-3 normative text.
Editor\'s note: Overload over T5 interface is dependent on conclusion for the
key issue 5.1.1.
## 9.3 Key issue 5.2.3
Normative procedure for Device Trigger replace/recall functionality needs to
be specified in TS 23.682 [3] as per solution in clause 5.2.3.3.1.
Editor\'s note: Device trigger replace/recall functionality over T5 interface
is dependent on conclusion for the key issue 5.1.1.
## 9.4 Key issue 7.1
It is recommended to adopt the \"power saving state\" solution for Rel-12 with
the exception of the following aspects:
  * Without any SCS interactions towards the MNO (e.g. HSS to > application signalling);
  * Without any UE subscription control (i.e. HSS interactions to > enable/disable power saving mode per UE); and
  * Without MME/SGSN including the remaining time period of the active > timer in the paging message.
# 10 Impacts to normative specifications
Editor\'s note: This clause is intended to capture the guiding principles and
documentation approach for creating CRs to normative specifications within the
responsibility of SA WG2.
###### ### Annex A: Evaluation of solutions for UE power saving
NOTE: This is work in progress.
The solutions are considered separately dependent on their specifics towards
applications on how to use or interact with the PLMN provided services.
Specifically it is separated into a category where the applications can always
assume the user plane data path is always available, though it may have
certain latency, but submitted downlink user plane data get delivered to the
UE without any additional effort or functionality for the applications. With
the other category of solutions a UE may appear as \"not reachable\" for
downlink user plane data. The UE needs to poll regularly via user or control
plane for getting any terminating data or events delivered.
The only proposed solutions that have the downlink user plane always available
are idle and connected mode DRX. Both can provide reasonable battery power
savings. The maximum cycle is limited by the latency that is acceptable for
the protocols running over the connections, which may be 10..20 seconds if any
protocol can be used but longer if only specific set of protocols are used,
and could be also limited by RAN considerations. It is recommended to at least
adopt for Release 12 longer DRX cycles within these limits.
More solutions are proposed for the category where the UE is not always
reachable for terminating user plane data. These are the solutions where the
UE detaches or adopts a power saving state, and also the idle and connected
mode DRX solutions with cycles lengths causing the UE to be unreachable. All
proposed solutions require applications to adapt to their specifics. All start
with cell and potentially PLMN selection after their power saving condition,
which doesn\'t differ between the solutions.
The solutions using attach have for every activity period all the system
signalling for MM and SM that consumes battery power for system signalling and
also for the receive condition, which is longer due to the reaction and
processing time for the various parts and nodes involved in the procedure. In
addition there may be user plane traffic, e.g. for configuring IP, for
registering the IP address on application level, for establishing end to end
user plane security, which also adds to battery power consumption. \"Keeping
UEs in detached state when not communicating\" can avoid the detach
signalling. All attach/detach solutions are merely suited for (very)
infrequent attach/detach, due to battery consumption, but also due to system
load. For (very) infrequent usage it may be sufficient to use existing
attach/detach, basically as an over-the-top approach.
The \"power saving state\" solution needs only the Service Request procedure
for MO data, when TA was not changed. Depending on mobility during power
saving state it may need a TAU at a change to active state. IP configuration
and therefore also the states basing on it are maintained. Due to the lower
amount on shorter time of signalling battery power consumption and also system
signalling are less. There is no signalling for the change from active to
power saving state. The changes for signalling and states are similar to some
attach/detach solutions. The gains are better than the solutions using attach.
It is recommended to adopt the \"power saving state\" solution for Release 12.
Table A-1: Comparison of approaches that require the applications to adapt for
UEs not always being reachable
+-------+-------+-------+-------+-------+-------+-------+-------+ | | 7. | 7. | 7.1. | 7 | 7 | 7. | 7. | | | 1.3.3 | 1.3.4 | 3.4.3 | .1.3. | .1.3. | 1.3.1 | 1.3.6 | | | | | | 4.3.2 | 4.3.3 | | | | | Power | Att | Addit | | | ( | Long | | | S | ach/d | ional | Ne | Ke | long) | ext | | | aving | etach | solu | twork | eping | Ext | ended | | | State | using | tions | Ass | UEs | ended | DRX | | | for | exi | using | isted | in | DRX | c | | | De | sting | A | Power | det | in | ycles | | | vices | proce | ttach | S | ached | idle | in | | | | dures | and | aving | state | mode | conn | | | | | D | | when | | ected | | | | | etach | | not | | mode | | | | | proce | | com | | | | | | | dures | | munic | | | | | | | | | ating | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | When | N | N | N | N | N | N | N | | UE in | ormal | ormal | ormal | ormal | ormal | ormal | ormal | | a | oper | oper | oper | oper | oper | oper | oper | | ctive | ation | ation | ation | ation | ation | ation | ation | | cond | in | in | in | in | in | conn | in | | ition | idle | idle | idle | idle | idle | ected | idle | | | or | or | or | or | or | mode | | | | conn | conn | conn | conn | conn | | D | | | ected | ected | ected | ected | ected | D | uring | | | mode | mode | mode | mode | mode | uring | conn | | | | | | | | idle | ected | | | | | | | | mode | mode | | | | | | | | UE | UE | | | | | | | | not | not | | | | | | | | a | a | | | | | | | | lways | lways | | | | | | | | reac | reac | | | | | | | | hable | hable | +-------+-------+-------+-------+-------+-------+-------+-------+ | When | UE: | UE | UE | UE in | UE | UE: | UE: | | UE in | Power | and | and | a | and | N | N | | power | s | net: | net: | state | net: | ormal | ormal | | s | aving | det | det | where | det | oper | oper | | aving | state | ached | ached | w | ached | ation | ation | | cond | | | | akeup | | in | in | | ition | Net: | There | There | timer | | idle | conn | | | atta | are | are | runs | | mode | ected | | | ched, | no | no | | | be | mode | | | not | means | means | net: | | tween | be | | | reac | to | to | det | | sche | tween | | | hable | avoid | avoid | ached | | duled | sche | | | | purge | purge | | | DRX | duled | | | | d | d | | | | DRX | | | | uring | uring | | | Net: | | | | | inact | inact | | | atta | Net: | | | | ivity | ivity | | | ched, | atta | | | | | | | | reac | ched, | | | | | | | | hable | reac | | | | | | | | or | hable | | | | | | | | not | or | | | | | | | | reac | not | | | | | | | | hable | reac | | | | | | | | | hable | +-------+-------+-------+-------+-------+-------+-------+-------+ | MO | UE | UE | UE | UE | UE | UE | UE | | data | ch | ch | ch | ch | ch | ch | ch | | d | anges | anges | anges | anges | anges | anges | anges | | uring | to | to | to | to | to | to | to | | power | ac | ac | ac | ac | ac | ac | ac | | s | tive, | tive, | tive, | tive, | tive, | tive, | tive, | | aving | per | cell | cell | cell | cell | per | synch | | cond | forms | /PLMN | /PLMN | /PLMN | /PLMN | forms | to | | ition | cell | selec | selec | selec | selec | cell | cell | | | (and | tion, | tion, | tion, | tion, | (and | and | | | p | UE | UE | UE | UE | p | tra | | | otent | att | att | att | att | otent | nsfer | | | ially | aches | aches | aches | aches | ially | data | | | PLMN) | | | | | PLMN) | using | | | sele | A | A | A | A | sele | exi | | | ction | lways | lways | lways | lways | ction | sting | | | and | MM | MM | MM | MM | and | proce | | | tran | and | and | and | and | tra | dures | | | sfers | SM | SM | SM | SM | nsfer | | | | u | signa | signa | signa | signa | data | C | | | plink | lling | lling | lling | lling | using | hance | | | data | for | for | for | for | exi | for a | | | | a | a | a | a | sting | T | | | C | ttach | ttach | ttach | ttach | p | AU/At | | | hance | and | and | and | and | roced | tach, | | | for a | PDN | PDN | PDN | PDN | ures. | depe | | | T | esta | esta | esta | esta | | nding | | | AU/At | blish | blish | blish | blish | C | on | | | tach, | ment, | ment, | ment, | ment, | hance | mobi | | | depe | pos | pos | pos | pos | for a | lity. | | | nding | sibly | sibly | sibly | sibly | T | NAS | | | on | MSC, | MSC, | MSC, | MSC, | AU/At | rec | | | mobi | AAA, | AAA, | AAA, | AAA, | tach, | overy | | | lity. | SCS | SCS | SCS | SCS | depe | proc | | | | and | and | and | and | nding | edure | | | | HSS | HSS | HSS | HSS | on | when | | | | signa | signa | signa | signa | mobi | cell | | | | lling | lling | lling | lling | lity. | is | | | | | | | | | cha | | | | | | | | | nged. | +-------+-------+-------+-------+-------+-------+-------+-------+ | MT | No MT | No MT | No MT | No MT | No MT | Depe | MT | | data | data | data | data | data; | data | ndent | data | | d | | | | data | | on | uses | | uring | SMS | SMS | SMS | or | SMS | DRX | exi | | power | tr | tr | tr | tri | tr | timer | sting | | s | igger | igger | igger | ggers | igger | value | p | | aving | at | at | at | qu | at | and | roced | | cond | next | next | next | eued? | next | wh | ures, | | ition | MO | MO | MO | | MO | ether | but | | (SMS | data | data | data | Se | data | MME | may | | +IP) | or | or | or | rving | or | is | be | | | TAU; | TAU; | TAU; | node | TAU; | inf | c | | | in | in | in | may | in | ormed | ached | | | same | same | same | give | same | about | l | | | way | way | way | a | way | next | onger | | | S | S | S | point | S | p | in | | | CS/AS | CS/AS | CS/AS | in | CS/AS | aging | RAN | | | may | may | may | time | may | occur | com | | | get | get | get | when | get | rence | pared | | | not | not | not | UE | not | the | to | | | ified | ified | ified | be | ified | MT | sh | | | | | | comes | | SMS | orter | | | Or | Or | Or | ac | Or | may | DRX. | | | OTT | OTT | OTT | tive; | OTT | e | | | | po | po | po | MO | po | ither | Dow | | | lling | lling | lling | tr | lling | at | nlink | | | the | the | the | affic | the | tempt | data | | | S | S | S | and | S | to | lost | | | CS/AS | CS/AS | CS/AS | other | CS/AS | de | when | | | | | | s | | liver | UE | | | | | | ystem | | it or | be | | | | | | ac | | it is | comes | | | | | | tions | | deli | a | | | | | | may | | vered | ctive | | | | | | cause | | at | in a | | | | | | a | | next | diff | | | | | | c | | MO | erent | | | | | | hange | | data | cell. | | | | | | of | | or | | | | | | | that | | TAU. | | | | | | | time; | | | | | | | | | no | | For | | | | | | | u | | DL IP | | | | | | | pdate | | data, | | | | | | | for | | SGW | | | | | | | AS | | keeps | | | | | | | desc | | DL | | | | | | | ribed | | data | | | | | | | | | until | | | | | | | | | be | | | | | | | | | arers | | | | | | | | | are | | | | | | | | | e | | | | | | | | | stabl | | | | | | | | | ished | | | | | | | | | or | | | | | | | | | until | | | | | | | | | DDN | | | | | | | | | re | | | | | | | | | ject, | | | | | | | | | which | | | | | | | | | de | | | | | | | | | letes | | | | | | | | | dow | | | | | | | | | nlink | | | | | | | | | data | | | | | | | | | wi | | | | | | | | | thout | | | | | | | | | tra | | | | | | | | | nsfer | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Synch | A | A | A | A | A | Dow | Dow | | roniz | pplic | pplic | pplic | pplic | pplic | nlink | nlink | | ation | ation | ation | ation | ation | ation | data | data | | as | may | needs | needs | needs | needs | tra | tra | | pects | rely | pe | pe | to | pe | nsfer | nsfer | | | on | riodi | riodi | re | riodi | with | with | | | SMS | cally | cally | quest | cally | the | the | | | tr | to | to | w | to | delay | delay | | | igger | tr | tr | anted | tr | of | of | | | and | igger | igger | a | igger | the | the | | | on | a | a | ttach | a | DRX | DRX | | | re | ttach | ttach | cy | ttach | c | c | | | achab | for | for | cles; | for | ycle, | ycle. | | | ility | po | po | AS | po | u | A | | | not | lling | lling | may | lling | nless | pplic | | | ifica | SMS | SMS | be | SMS | it is | ation | | | tions | or | or | inf | or | dr | is | | | trig | trigg | trigg | ormed | trigg | opped | ad | | | gered | ering | ering | of | ering | due | apted | | | by | re | re | time | re | to | to | | | per | achab | achab | when | achab | c | l | | | iodic | ility | ility | UE | ility | onsid | onger | | | TAU | a | a | be | a | ering | d | | | or | larms | larms | comes | larms | the | elays | | | per | | | ac | | UE | and | | | iodic | | | tive; | | un | uses | | | u | | | MO | | reach | com | | | plink | | | data | | able. | munic | | | data. | | | and | | A | ation | | | | | | s | | pplic | prot | | | | | | ystem | | ation | ocols | | | | | | e | | is | which | | | | | | vents | | ad | do | | | | | | may | | apted | not | | | | | | cause | | to | pe | | | | | | async | | l | rform | | | | | | hrony | | onger | r | | | | | | for | | d | e-tra | | | | | | the | | elays | nsmis | | | | | | time | | and | sions | | | | | | given | | uses | on | | | | | | to AS | | com | its | | | | | | | | munic | own. | | | | | | | | ation | | | | | | | | | prot | Cha | | | | | | | | ocols | nging | | | | | | | | which | cell | | | | | | | | do | c | | | | | | | | not | auses | | | | | | | | pe | data | | | | | | | | rform | loss | | | | | | | | r | and | | | | | | | | e-tra | NAS | | | | | | | | nsmis | rec | | | | | | | | sions | overy | | | | | | | | on | proce | | | | | | | | its | dure. | | | | | | | | own. | | | | | | | | | | | | | | | | | | For | | | | | | | | | SMS | | | | | | | | | req | | | | | | | | | uires | | | | | | | | | the | | | | | | | | | UE | | | | | | | | | (per | | | | | | | | | iodic | | | | | | | | | TAU) | | | | | | | | | or | | | | | | | | | the | | | | | | | | | a | | | | | | | | | pplic | | | | | | | | | ation | | | | | | | | | (per | | | | | | | | | iodic | | | | | | | | | u | | | | | | | | | plink | | | | | | | | | data) | | | | | | | | | to | | | | | | | | | get | | | | | | | | | a | | | | | | | | | ctive | | | | | | | | | regu | | | | | | | | | larly | | | | | | | | | for | | | | | | | | | trigg | | | | | | | | | ering | | | | | | | | | re | | | | | | | | | achab | | | | | | | | | ility | | | | | | | | | noti | | | | | | | | | ficat | | | | | | | | | ions. | | +-------+-------+-------+-------+-------+-------+-------+-------+ | New | UE | None | None | \" | UE | D | D | | signa | tells | | | power | tells | eterm | eterm | | lling | the | | | s | the | ining | ining | | para | net | | | aving | ne | per | per | | meter | the | | | a | twork | UE | UE | | for: | w | | | ctive | the | ext | ext | | | anted | | | t | w | ended | ended | | | TAU | | | ime\" | anted | idle | conn | | | pe | | | and | dur | DRX | ected | | | riod, | | | \" | ation | value | DRX | | | th | | | power | of | | value | | | ereby | | | s | being | O | | | | the | | | aving | att | ption | | | | dur | | | w | ached | ally, | | | | ation | | | akeup | | CN | | | | of | | | t | | gets | | | | the | | | ime\" | | next | | | | inact | | | in MM | | p | | | | ivity | | | signa | | aging | | | | p | | | lling | | occur | | | | eriod | | | | | rence | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Usage | Fre | Only | Only | Only | Only | Freq | Freq | | sce | quent | infre | infre | infre | infre | uent, | uent, | | nario | and | quent | quent | quent | quent | infre | infre | | | infre | usage | usage | usage | usage | quent | quent | | | quent | due | due | due | due | and | and | | | usage | to | to | to | to | very | very | | | as | the | the | the | the | infre | infre | | | signa | heavy | heavy | heavy | heavy | quent | quent | | | lling | s | s | s | s | as | as | | | for | ystem | ystem | ystem | ystem | c | c | | | \ | signa | signa | signa | signa | ommon | ommon | | | "reac | lling | lling | lling | lling | sol | sol | | | tivat | | | | | ution | ution | | | ion\" | | | | | pos | pos | | | is | | | | | sible | sible | | | low | | | | | for | for | | | | | | | | all | all | | | | | | | | scen | scen | | | | | | | | arios | arios | | | | | | | | and | and | | | | | | | | signa | signa | | | | | | | | lling | lling | | | | | | | | for | for | | | | | | | | re | re | | | | | | | | activ | activ | | | | | | | | ation | ation | | | | | | | | low. | low | | | | | | | | | as | | | | | | | | | long | | | | | | | | | as | | | | | | | | | d | | | | | | | | | evice | | | | | | | | | is | | | | | | | | | not | | | | | | | | | cha | | | | | | | | | nging | | | | | | | | | cell. | +-------+-------+-------+-------+-------+-------+-------+-------+ | way | Fixed | A | A | \" | Per | eNb | UE | | of | time | pplic | pplic | power | iodic | or | a | | adju | set | ation | ation | s | TAU | MME | lways | | sting | to | needs | needs | aving | time | keep | consi | | a | the | to | to | a | might | RRC | dered | | ctive | p | wait | wait | ctive | be | conne | a | | p | eriod | with | with | t | with | ction | ctive | | eriod | w | d | d | ime\" | its | as | (othe | | dur | ithin | etach | etach | to be | sma | long | rwise | | ation | which | for a | for a | set | llest | as | not | | d | SMS | p | p | to a | value | n | reach | | uring | or | eriod | eriod | p | al | eeded | able) | | which | dow | w | w | eriod | ready | for | | | the | nlink | ithin | ithin | w | co | s | | | UE is | data | which | which | ithin | nside | afely | | | reac | trig | SMS | SMS | which | rably | deliv | | | hable | gered | or | or | SMS | l | ering | | | for | by | dow | dow | or | onger | ( | | | data | re | nlink | nlink | dow | than | poten | | | and | achab | data | data | nlink | the | tial) | | | signa | ility | trig | trig | data | p | dow | | | lling | alarm | gered | gered | trig | eriod | nlink | | | | can | by | by | gered | n | data | | | | be | re | re | by | eeded | or | | | | s | achab | achab | re | for | SMS | | | | afely | ility | ility | achab | s | | | | | deli | alarm | alarm | ility | afely | | | | | vered | can | can | alarm | de | | | | | | be | be | can | liver | | | | | | s | s | be | SMS | | | | | | afely | afely | s | or | | | | | | deli | deli | afely | dow | | | | | | vered | vered | deli | nlink | | | | | | | | vered | data | | | | | | | | | trig | | | | | | | | | gered | | | | | | | | | by | | | | | | | | | re | | | | | | | | | achab | | | | | | | | | ility | | | | | | | | | alarm | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | way | A | (mult | (mult | A | (mult | Adju | Adju | | of | pplic | iple) | iple) | pplic | iple) | sting | sting | | adju | ation | a | a | ation | a | idle | conn | | sting | re | pplic | pplic | re | pplic | DRX | ected | | ina | quest | ation | ation | quest | ation | | DRX | | ctive | the | runs | runs | the | runs | | | | p | per | some | some | \"ina | some | | | | eriod | iodic | timer | timer | ctive | timer | | | | dur | TAU | for | for | ti | for | | | | ation | t | the | the | me\"; | the | | | | | imer; | a | a | UE | a | | | | | UE | ttach | ttach | may | ttach | | | | | may | cycle | cycle | coord | cycle | | | | | coord | | | inate | | | | | | inate | | | mul | | | | | | mul | | | tiple | | | | | | tiple | | | ap | | | | | | ap | | | plica | | | | | | plica | | | tions | | | | | | tions | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
#