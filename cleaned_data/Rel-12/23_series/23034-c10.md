# Foreword
This Technical Specification (TS) has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The present document specifies the Stage 2 description of High Speed Circuit
Switched Data (HSCSD) within the 3GPP system.
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document contains the stage 2 service description for a High Speed
Circuit Switched Data (HSCSD) on GSM/GERAN in A/Gb mode and Iu mode. HSCSD
utilizes the multislot mechanism, i.e. using multiple traffic channels
(/bearers) for the communication.
Additionally, the present document specifies some HSCSD related requirements
for multi system mobile stations operating in UTRAN Iu mode. In UTRAN Iu mode
one bearer can provide all needed data rates, and the multislot mechanism is
therefore not needed. However, for inter-system handover to GERAN, certain
information has to be provided by the mobile station during the service
negotiation. The UTRAN Iu mode aspects concerning HSCSD are described
exclusively in clause 4.2.
In analogy with ITU-T Recommendation I.130 [6] (refer to annex A) and with
reference of ITU-T Recommendation Q.65 [7] VI.1 (Stage 2 of the method for
characterization of services supported by an ISDN), the second stage of the
HSCSD is defined as follows.
Stage 2 identifies the functional capabilities and information flows needed to
support the service as described in 3GPP TS 22.034 [9]. Furthermore, it
identifies various possible physical locations for the functional
capabilities. The output of Stage 2, which is signalling system independent,
is used as an input to Stage 3, the design of signalling system and switching
Recommendations.
The present document specifies functions, procedures and information which
apply to GERAN Iu mode. However, functionality related to GERAN Iu mode is
neither maintained nor enhanced.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] Void.
[1a] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 45.002: \"Multiplexing and multiple access on the radio path\".
[3] 3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core
Network Protocols - Stage 3\".
[4] 3GPP TS 48.008: \"Mobile‑services Switching Centre - Base Station System
(MSC - BSS) interface; Layer 3 specification\".
[5] 3GPP TS 24.022: \"Radio Link Protocol (RLP) for data and telematic
services on the Mobile Station - Base Station System (MS - BSS) interface and
the Base Station System - Mobile-services Switching Centre (BSS - MSC)\".
[6] ITU-T Recommendation I.130: \"Method for the characterization of
telecommunication services supported by an ISDN and network capabilities of an
ISDN\".
[7] ITU-T Recommendation Q.65: \"The unified functional methodology for the
characterization of services and network capabilities\".
[8] ITU‑T Recommendation I.460: \"Multiplexing, rate adaptation and support of
existing interfaces\".
[9] 3GPP TS 22.034: \"High Speed Circuit Switched Data (HSCSD); Stage 1\".
[10] 3GPP TS 43.020: \"Security related network functions\".
[11] 3GPP TS 44.021: \"Rate adaption on the Mobile Station - Base Station
System (MS - BSS) Interface\".
[12] 3GPP TS 48.020: \"Rate adaption on the Base Station System - Mobile-
services Switching Centre (BSS - MSC) interface\".
[13] 3GPP TS 27.002: \"Terminal Adaptation Functions (TAF) for services using
Asynchronous bearer capabilities\".
[14] 3GPP TS 27.003: \"Terminal Adaptation Functions (TAF) for services using
synchronous bearer capabilities\".
[15] 3GPP TS 45.008: \"Radio Subsystem Link Control\".
[16] 3GPP TS 23.008: \"Organisation of subscriber data\".
[17] 3GPP TS 44.018: \"Mobile radio interface layer 3 specification; Radio
Resource Control Protocol\".
[18] 3GPP TS 43.051: \"GSM/EDGE Radio Access Network; Overall description -
Stage 2\".
[19] 3GPP TS 25.413: \"UTRAN Iu interface RANAP Signalling\".
[20] 3GPP TS 25.415: \"UTRAN Iu interface user plane protocols\".
[21] 3GPP TS 44.118, Release 11: \"Mobile radio interface layer 3
specification; Radio Resource Control (RRC) Protocol, Iu Mode\".
[22] 3GPP TS 29.415: \"Core Network Nb Interface User Plane Protocols\".
[23] 3GPP TS 29.007: \"General requirements on interworking between the Public
Land Mobile Network (PLMN) and the Integrated Services Digital Network (ISDN)
or Public Switched Telephone Network (PSTN)\".
[24] 3GPP TS 33.102: \"3G Security; Security Architecture\".
# 3 Definitions
For the purposes of the present document, the following terms and definitions
apply:
**A/Gb mode** : mode of operation of the MS when connected to the Core Network
via GERAN and the A and/or Gb interfaces.
**GERAN:** GSM/EDGE radio access network
**HSCSD:** High Speed Circuit Switched Data
**HSCSD configuration:** multislot configuration consisting of one or several
full rate traffic channels for data transmission
**HSCSD channel:** full rate traffic channel belonging to a HSCSD
configuration
**Iu mode** : mode of operation of the MS when connected to the Core Network
via GERAN or UTRAN and the Iu interface. When preceded by the word GERAN or
UTRAN, it means access over the Iu interface using the respective radio access
network.
**main channel:** only channel in a HSCSD configuration carrying an FACCH
**symmetric configuration:** configuration consisting of bi-directional
channels
**asymmetric configuration:** configuration consisting of bi-directional
channels and at least one uni‑directional channel
**UTRAN:** UMTS radio access network
For further abbreviations see 3GPP TR 21.905 [1a].
# 4 Main concepts
The air interface user rate in the original GSM data transmission is limited
to 9,6 kbps with the 12 kbps air interface rate. The HSCSD described in the
present document Stage 2 description allows higher air interface user rates to
be used for transparent and non-transparent data services.
NOTE: In the present document the term \"air interface user rate\" corresponds
to the transfer rate in radio interface for user data and \"air interface
rate\" includes additional data related to transmission protocols.
HSCSD is a feature enabling the co-allocation of multiple full rate traffic
channels (TCH/F) into a HSCSD configuration. The aim of HSCSD is to provide a
mixture of services with different air interface user rates by a single
physical layer structure. Further improvements in data rates are achieved
through enhancement of the radio interface (modulation and coding schemes),
which allows higher bit rates per one GSM time slot. The available capacity of
a HSCSD configuration is several times the capacity of a TCH/F, leading to a
significant enhancement in the air interface data transfer rate.
Figure 1 represents the network architecture to support HSCSD in A/Gb mode
based on the concept of multiple independent channels in one HSCSD
configuration. Figure 1a represents the network architecture to support HSCSD
in GERAN Iu mode.
NOTE: 3GPP TS 43.051 [18] does not specify the GERAN internal interface
between BSC and BTS.
In case when enhanced modulation is used the number of time slots in the radio
interface may not correspond to the number of data streams in the network
side, for example a 28,8 kbps service may be offered through one air interface
time slot, but it requires two 14,4 (16 kbps) Abis channels. Another example
is bit transparent 56 kbps to 64 kbps service where two air interface time
slots of 32 kbps are multiplexed onto one 64 kbps data stream on the network
side.
Figure 1: Network architecture for supporting HSCSD in A/Gb mode
Figure 1a: Network architecture for supporting HSCSD in GERAN Iu mode
A new functionality is introduced at the network and MS to provide the
functions of combining and splitting the data into separate data streams which
will then be transferred via n channels at the radio interface, where n = 1,
2, 3, ... 8. Once split, the data streams shall be carried by the n full rate
traffic channels, called HSCSD channels, as if they were independent of each
other, for the purpose of data relay and radio interface L1 error control,
until to the point in the network where they are combined. However, logically
the n full rate traffic channels at the radio interface belong to the same
HSCSD configuration, and therefore they shall be controlled as one radio link
by the network for the purpose of cellular operations, e.g. handover. This
requires a new functionality in BSS.
The different user data substreams carried on the radio channels (one
substream being the data flow over a single TCH) shall be mapped over the A
interface or GERAN Iu interface, and vice versa, following the rules defined
in 3GPP TS 24.008 [3] and 3GPP TS 48.020 [12].
In A/Gb mode, the use of resources on the A and E interfaces is restricted to
one 64 kbps circuit by multiplexing the data streams into one A interface
circuit (see ITU‑T Recommendation I.460 [8]).
In GERAN Iu mode, the user plane at the Iu interface shall comply to the Iu UP
protocol (3GPP TS 25.415 [20]). For transparent calls the Iu user plane is
operated in transparent mode, version 1, for non-transparent calls it is
operated in support mode for predefined SDU sizes, version 2.
After an inter-MSC SRNS relocation the user plane between the anchor MSC or
MGW and the target MSC or MGW shall comply to the Nb UP protocol (3GPP TS
29.415 [22]), if the anchor MSC or MGW and the target MSC or MGW are connected
via an ATM interface or IP interface. The NbUP shall be configured in support
mode, the data is transported in a 64 kbit/s bit stream (for details see 3GPP
TS 29.007 [23]).
If both MSCs are connected via a TDM interface the use of resources on the E
interface is restricted to one 64 kbps circuit (see 3GPP TS 29.007 [23]).
## 4.1 HSCSD service aspects
At call setup a user indicates a maximum number of TCH/F, acceptable channel
codings (including extensions to acceptable channel codings for ECSD channel
codings), possible other modem type, and fixed network user rate values. For
non-transparent HSCSD connection, in addition, wanted air interface user rate
is indicated and the network resource needs, if user wishes to make use of the
user initiated modification of the maximum number of TCH/F and/or wanted air
interface user rate (user initiated service level up- and downgrading
described in subclauses 5.2.4 and 5.2.4a) during the call. In case the
indicated acceptable channel coding(s) implies that enhanced modulation is
possible, the user may indicate a preference for channel coding asymmetry,
i.e. downlink biased channel coding asymmetry, uplink biased channel coding
asymmetry or channel coding symmetry. Together these parameters describe the
HSCSD characteristics and network uses them to allocate an appropriate HSCSD
connection.
For both transparent and non-transparent HSCSD connections the call can be
established with any number of TCH/F from one up to the maximum number of
TCH/F, i.e. the minimum channel requirement is always one TCH/F.
If the wanted air interface user rate requirement cannot be met using a
symmetric configuration, an asymmetric configuration can be chosen. The
network shall in this case give priority to fulfilling the air interface user
rate requirement in downlink direction.
For non-transparent HSCSD connection the network can use dynamic allocation of
resources, i.e. TCH/F, as long as the configuration is not in contradiction
with the limiting values defined by the MS and the mobile equipment is capable
of handling the allocated channel configuration. For transparent HSCSD
connection the dynamic resource allocation is applicable, if the air interface
user rate is kept constant. The change of channel configuration within the
limits of minimum and maximum channel requirements is done with resource
upgrading and resource downgrading procedures (described in subclauses 5.2.3
and 5.2.3a) during the call.
The MS may request a service level up- or downgrading during the call, if so
negotiated in the beginning of the call. In the user initiated modification
procedure, the user can modify the channel coding asymmetry preference when
enhanced modulation is indicated. This modification of channel requirements
and/or wanted air interface user rate and/or channel coding asymmetry
preference is applicable to non-transparent HSCSD connections only.
## 4.2 HSCSD service aspects in UTRAN Iu mode
The multislot mechanism is not needed in UTRAN Iu mode, as one bearer can
provide all needed data rates. In UTRAN Iu mode, consequently the parameters
required for setup of a multislot call are not needed in a call setup, and the
MSC shall ignore the parameters.
The parameters which are specific to multislot are (all contained in the
Bearer Capability Information Element):
\- Maximum number of traffic channels.
\- Acceptable Channel coding(s).
\- UIMI, User initiated modification indication.
\- Acceptable Channel Codings extended.
### 4.2.1 UTRAN Iu mode to GERAN Iu mode or A/Gb mode handover
In case of handover from UTRAN Iu mode to GERAN Iu mode or A/Gb mode the
multislot parameters are required in the middle of an ongoing call. A multi
system mobile station supporting UTRAN Iu mode and at least one GERAN mode
shall therefore always include the multislot parameters in the setup, also in
UTRAN Iu mode.
# 5 HSCSD architecture and transmission
## 5.1 Air interface
The HSCSD configuration is a multislot configuration using the TCH/F data
channel mapping described in 3GPP TS 45.002 [2].
Two types of HSCSD configurations exist, symmetric configuration and
asymmetric configuration. For both types of configurations the channels may be
allocated on either consecutive or non-consecutive time slots taking into
account the restrictions defined by the classmark.
An example of the HSCSD operation with two consecutive time slots is shown in
figure 2.
Figure 2: Double slot operation in the air interface
A symmetric HSCSD configuration consists of a bi-directional FACCH and co-
allocated bi-directional TCH/F and SACCH channels. An asymmetric HSCSD
configuration consists of a bi-direction FACCH and co-allocated
uni‑directional or bi-directional TCH/F and SACCH channels. A bi-directional
channel is a channel on which the data is transferred in both uplink and
downlink directions. On uni-directional channels for HSCSD the data is
transferred in downlink direction, only.
In both symmetric and asymmetric HSCSD configurations one bi-directional
channel, the main channel, carries a FACCH used for all the signalling not
carried on the SACCH(s).
For HSCSD configuration all SACCHs are synchronized so that idle frames for
each time slot coincide.
The classification of mobile stations used for HSCSD shall be based on
Multislot classes, described in detail in 3GPP TS 45.002 [2]. Further
classification shall be based on the Mobile Station Classmark depending on the
supported modulations.
The same frequency hopping sequence and training sequence is used for all the
channels in the HSCSD configuration.
The same channel coding is used for all the channels in the HSCSD
configuration, though in the enhanced modulation mode, for non-transparent
services, it is possible to have one channel coding used in the downlink and
another channel coding used in the uplink. Different channel codings for up-
and downlink could be applied in three cases, see 3GPP TS 22.034 [9]:
a) If the mobile station only supports enhanced modulation in the downlink
direction.
b) If the mobile station supports enhanced modulation in both directions, but
the user indicates preference for uplink or downlink biased channel coding
asymmetry.
c) If the mobile station supports enhanced modulation in both directions, and
the user indicates preference for channel coding symmetry, but the link
conditions justifies different channel coding in uplink or downlink.
For Mobile Stations supporting 8-PSK modulation additional channel codings
shall apply. The change between different TCH/F channel codings can be
provided in A/Gb mode with the RR Channel Mode Modify or the Configuration
Change procedure, and in GERAN Iu mode with the Radio Bearer Reconfiguration
procedure. It shall be possible to change between channel codings of different
modulation schemes.
In symmetric HSCSD configuration individual signal level and quality reporting
for each HSCSD channel is applied.
For an asymmetric HSCSD configuration individual signal level and quality
reporting is used for those channels, which have uplink SACCH associated with
them. The quality measurements reported on the main channel are based on the
worst quality measured among the main and the uni-directional downlink time
slots used.
In both symmetric and asymmetric HSCSD configuration the neighbouring cell
measurement reports are copied on every uplink channel used. See 3GPP TS
45.008 [15] for more detail on signal level and quality reporting.
In A/Gb mode, separate ciphering keys are used for each HSCSD channels. The
ciphering keys used on different channels are derived from the Kc. See 3GPP TS
43.020 [10] for more details. In GERAN Iu mode, the same ciphering
architecture is used as in UTRAN Iu mode. See 3GPP TS 43.051 [18] and 3GPP TS
33.102 [24] for more details.
## 5.2 Functions and information flows
The procedures discussed in this clause follow the procedures described in
detail in 3GPP TS 48.008 [4], 3GPP TS 23.413 [19], 3GPP TS 23.415 [20], and
3GPP TS 24.008 [3]. Modifications are referred with text in brackets and
conditional procedures with dashed line. Normal signalling or signalling
presented earlier in the document is drawn with ovals.
NOTE: 3GPP TS 43.051 [18] does not specify the GERAN internal interface
between BSC and BTS. For the information flows in this document it is assumed
that the protocols and procedures on this interface follow the conventions for
the Abis interface, however, this is only an implementation option.
### 5.2.1 Call establishment procedures
#### 5.2.1.1 Mobile originated call establishment (A/Gb mode)
Figure 3 depicts the procedures for a successful HSCSD call establishment in
mobile originated case in A/Gb mode.
The Multislot class is sent from MS to network using the early classmark
sending.
At the call setup the mobile station sends a set of parameters describing the
HSCSD characteristics to the network. These parameters and their presence in
the Setup message in transparent (T) and non‑transparent (NT) calls are as
follows:
\- Other Modem Type, OMT (T/NT);
\- Fixed Network User Rate, FNUR (T/NT);
\- Acceptable Channel Codings, ACC (including ACC ext.) (T/NT);
\- maximum number of traffic channels, Max TCH/F (T/NT);
\- User Initiated Modification Indication, UIMI (NT);
\- wanted Air Interface User Rate, AIUR (NT), and
\- channel coding ASYMmetry indication, ASYM (NT).
In reply the network responds in Call Proceeding with the Other Modem Type,
OMT, Fixed Network User Rate, FNUR, and User Initiated Modification
Indication, UIMI (NT only), parameters it is prepared to give to the mobile
station.
Figure 3: Mobile originated call establishment (A/Gb mode)
The MSC requests the BSC to allocate the channel configuration using
parameters derived from the HSCSD related parameters agreed in the setup
phase. Based on these parameters and operator preferences the BSC then
allocates a suitable number of channels and a suitable channel coding for the
connection.
The following rule for the channel allocation apply:
\- The BSS shall try to reach but not exceed, with one exception, the wanted
AIUR. The exception is the case when the chosen configuration can reach the
wanted AIUR with lower number of TCH/F, e.g. in case AIUR=14,4 kbit/s, max
number of TCH/F=3, ACC=TCH/F4.8 and TCH/F9.6, the network shall choose 2 x 9,6
over 3 x 4,8 if the TCH/F9.6 is available in the cell.
\- A separate channel activation is applied for each of the HSCSD channels
before the selected channel configuration with information of the channel
coding is forwarded to the mobile station. When the preference for downlink or
uplink biased channel coding asymmetry is indicated by the user, and an
asymmetric channel coding connection is set up based on this indication, the
BSC shall always assign a TCH/F14.4 channel on the unbiased link of the
connection.
\- At assignment completion, the BSS informs the MSC of the chosen HSCSD
configuration and the MSC may seize the IW resources accordingly.
#### 5.2.1.1a Mobile originated call establishment (GERAN Iu mode)
Figure 3a depicts the procedures for a successful HSCSD call establishment in
mobile originated case in GERAN Iu mode.
The MS GERAN Iu mode radio access capabilities, including the multislot
capabilities of the MS, are sent from the MS to the network during the
establishment of the RRC connection.
The BSC includes the GERAN classmark in the RANAP Initial UE message to inform
the MSC about the BSS capabilities of the serving cell:
\- Acceptable Channel Codings, ACC (including ACC ext.); and
\- maximum number of traffic channels, Max TCH/F.
The parameters in the Setup message and their presence requirements for
transparent (T) and non-transparent (NT) calls are the same as for A/Gb mode,
however, for non-transparent calls in GERAN Iu mode the channel coding
asymmetry indication will be ignored. When negotiating the parameters for a
transparent call, the MSC shall take the GERAN classmark into account.
Figure 3a: Mobile originated call establishment (GERAN Iu mode)
The MSC requests the BSC to allocate a radio access bearer by sending a RANAP
RAB Assignment Request message. The RAB parameters in this message are set
according to the parameters negotiated between MS and MSC and the GERAN
classmark of the serving cell. For non-transparent calls the RAB parameters
contain the description of all RAB subflow combinations allowable for the
maximum bit rate at the Iu interface, and thus for the maximum possible AIUR
that can be allocated by the BSC for this call.
Additionally, the MSC includes a GERAN BSC container, indicating the Max TCH/F
allowed and the Allowed radio interface data rates. In this version, the MSC
shall indicate only one radio interface data rate as allowed.
Based on these parameters and operator preferences the BSC then allocates a
suitable number of channels for the allowed channel coding.
After the successful setup of the radio access bearer, for non-transparent
calls the BSC initiates the Iu user plane protocol. In the Iu UP
initialisation message the first RAB subflow combination proposed in the list
of RAB subflow combinations indicates the RAB subflow combination and thus the
AIUR to be used by the IW function when starting the communication phase (see
3GPP TS 25.415 [20]). The BSC shall use the same RAB subflow combination in
uplink direction.
#### 5.2.1.2 Mobile terminated call establishment (A/Gb mode)
Figure 4 depicts the procedures for a successful HSCSD call establishment in
mobile terminated case in A/Gb mode.
At the call setup the network sends the Other Modem Type,OMT, Fixed Network
User Rate,FNUR, and User Initiated Modification Indication,UIMI (NT only),
parameters to the mobile station.
In reply the mobile station responds to the network with the set of parameters
describing the HSCSD characteristics. These parameters and their presence in
the Call Confirmed message in transparent (T) and non-transparent (NT) calls
are as follows:
\- wanted Other Modem Type, OMT (T/NT);
\- wanted Fixed Network User Rate, FNUR (T/NT);
\- Acceptable Channel Codings, ACC (including ACC ext.) (T/NT);
\- maximum number of traffic channels, Max TCH/F (T/NT);
\- User Initiated Modification Indication, UIMI (NT);
\- wanted Air Interface User Rate, AIUR (NT), and
\- channel coding ASYMmetry indication, ASYM (NT).
Figure 4: Mobile terminated call establishment (A/Gb mode)
The MSC requests the BSC to allocate the channel configuration using
parameters derived from the HSCSD related parameters agreed in the setup
phase. Based on these parameters and operator preferences the BSC then
allocates a suitable number of channels and a suitable channel coding for the
connection.
The same channel allocation rules as in mobile originated case apply.
The same channel activation rules as in mobile originated case apply.
At assignment completion, the BSS informs the MSC of the chosen HSCSD
configuration and the MSC may seize the IW resources accordingly.
#### 5.2.1.2a Mobile terminated call establishment (GERAN Iu mode)
Figure 4a depicts the procedures for a successful HSCSD call establishment in
mobile terminated case in GERAN Iu mode.
Figure 4a: Mobile terminated call establishment (GERAN Iu mode)
For the Setup message and the Call Confirmed message the same rules apply as
in A/Gb mode.
The signalling for the setup of the radio bearer and the radio access bearer,
and the initialisation of the Iu user plane (NT only) is as in the mobile
originated case.
### 5.2.2 Handover procedures
#### 5.2.2.1 Intra BSC handover (A/Gb mode)
Figure 5 depicts the procedures for a successful HSCSD intra BSC handover in
A/Gb mode.
Figure 5: Intra BSC handover (A/Gb mode)
For a non-transparent call, the HSCSD configuration may be modified during an
intra BSS handover within the maximum number of TCH/F and channel codings
acceptable for the user and allowed by the network.
The same allocation and activation rules as in call establishment apply.
At handover completion, the BSC signals to the MSC the new HSCSD configuration
and the MSC may adjust the IW resources accordingly.
#### 5.2.2.1a Intra BSC handover (GERAN Iu mode)
Figure 5a depicts the procedures for a successful HSCSD intra BSC handover in
GERAN Iu mode.
For a non-transparent call in GERAN Iu mode, the HSCSD configuration may be
modified during an intra BSS handover within the maximum number of TCH/F
acceptable for the user and allowed by the network. The outcome of the
handover shall be reported to the MSC by means of an Iu UP rate control
procedure (see 3GPP TS 25.415 [20]). The BSC shall set the maximum rate
permitted downlink over the Iu interface according to the new HSCSD
configuration, i.e. according to the AIUR to be used by the IW function when
the communication is resumed after the handover. The BSC shall use the same
RAB subflow combination in uplink direction.
For a transparent call in GERAN Iu mode, the AIUR remains unchanged during the
handover. Since the payload format at the Iu interface only depends on the
AIUR, the IW resources do not need to be readjusted.
Figure 5a: Intra BSC handover (GERAN Iu mode)
#### 5.2.2.2 Inter BSC, intra-MSC handover (A/Gb mode)
Figure 6 depicts the procedures for a successful HSCSD inter BSC handover in
A/Gb mode.
Figure 6: Inter BSC intra MSC handover (A/Gb mode)
In inter BSS handover the MSC requests the new BSS to allocate a channel
configuration using parameters derived from the HSCSD related parameters
agreed earlier during the call. Based on these parameters and operator
preferences the BSC then allocates a suitable number of TCH/F and a suitable
channel coding for the connection.
For a non-transparent call, the HSCSD configuration may be modified during an
intra BSS handover within the maximum number of TCH/F and channel codings
acceptable for the user and allowed by the network.
The same channel allocation and activation rules as in call establishment
apply.
The BSC informs the MSC of the chosen HSCSD configuration and at handover
completion the MSC may adjusts the IW resources accordingly.
#### 5.2.2.2a Inter BSC, intra-MSC handover (GERAN Iu mode)
Figure 6a depicts the procedures for a successful HSCSD inter BSC handover in
GERAN Iu mode.
Figure 6a: Inter BSC intra MSC handover (GERAN Iu mode)
The serving BSC includes the GERAN classmark of the target cell in the RANAP
Relocation Required message. The MSC takes this information into account when
it selects the RAB parameters for the RANAP Relocation Request message.
For a non-transparent call in GERAN Iu mode, the HSCSD configuration may be
modified during an inter BSC handover within the maximum number of TCH/F
acceptable for the user and allowed by the network. After the successful setup
of the radio access bearer towards the new BSC, for non-transparent calls the
new BSC initiates the Iu user plane protocol. In the Iu UP initialisation
message the first RAB subflow combination proposed in the list of RAB subflow
combinations indicates the RAB subflow combination and thus the AIUR to be
used by the IW function when the communication is resumed after the handover
(see 3GPP TS 25.415 [20]). The new BSC shall use the same RAB subflow
combination in uplink direction.
For a transparent call in GERAN Iu mode, the AIUR remains unchanged during the
handover. Since the payload format at the Iu interface only depends on the
AIUR, the IW resources do not need to be readjusted.
#### 5.2.2.3 Inter MSC handover
In inter MSC handover the requested channel configuration is forwarded to a
BSS within the new MSC using MAP protocol between MSCs. Procedures similar to
those in inter BSS handover case can be applied in order to establish the
HSCSD connection in a new cell.
In GERAN Iu mode, the GERAN classmark of the target cell is forwarded to the
anchor MSC and to the target MSC using MAP protocol between MSCs.
### 5.2.3 Resource upgrading, downgrading and configuration change (A/Gb mode)
Resource upgrading means allocating more channels to the HSCSD configuration.
Similarly, in resource downgrading channels are released.
Both of these procedures are initiated by the network and they are used in
non-transparent calls to alter the channel resources between one TCH/F and the
maximum number of TCH/F allowed. For transparent connection the alteration of
resources is also applicable required that the AIUR for the connection remains
constant.
Figure 7 depicts the procedures for a successful resource upgrading and
downgrading for an ongoing HSCSD call in A/Gb mode, in case the position of
the main TCH/F remains unchanged.
A separate channel activation for the new HSCSD channels is carried out and
the earlier activated HSCSD channels may be modified, before RR Configuration
change procedure is used for forwarding the new channel configuration to the
mobile station. Similarly, the Configuration change procedure can be used in
both transparent and non-transparent calls for reordering the channels in a
call without changing the number of TCH/Fs allocated.
At resource modification completion, the BSC signals to the MSC the new HSCSD
configuration and the MSC may adjusts the IW resources accordingly.
Figure 7: Resource upgrading and downgrading in A/Gb mode, the position of the
main channel unchanged
Figure 8 depicts the procedures for a successful resource upgrading and
downgrading for an ongoing HSCSD call in A/Gb mode in case the position of the
main channel is changed.
A separate channel activation for the new HSCSD channels, is carried out and
the earlier activated HSCSD channels may be modified or, in case of the new
main channel, reactivated, before RR Assignment procedure is used for
forwarding the new channel configuration to the mobile station. Similarly, the
Assignment procedure can be used in both transparent and non-transparent calls
for reordering the channels in a call without changing the number of TCH/Fs
allocated.
At resource modification completion, the BSC signals to the MSC the new HSCSD
configuration and the MSC may adjusts the IW resources accordingly.
Figure 8: Resource upgrading and downgrading in A/Gb mode, the position of the
main channel changed
### 5.2.3a Resource upgrading, downgrading and configuration change (GERAN Iu
mode)
In GERAN Iu mode a Radio bearer reconfiguration procedure is used for
forwarding the new channel configuration to the mobile station, regardless
whether the position of the main channel is changed or not.
Figure 8a depicts the procedures for a successful resource upgrading and
downgrading for an ongoing HSCSD call in GERAN Iu mode, in case the position
of the main TCH/F remains unchanged.
Figure 8a: Resource upgrading and downgrading in GERAN Iu mode, the position
of the main channel unchanged
The outcome of the procedure shall be reported to the MSC by means of an Iu UP
rate control procedure (see 3GPP TS 25.415 [20]). The BSC shall set the
maximum rate permitted downlink over the Iu interface according to the new
HSCSD configuration, i.e. according to the AIUR to be used by the IW function
when the communication is resumed after the handover. The BSC shall use the
same RAB subflow combination in uplink direction.
For a transparent call in GERAN Iu mode, the resource upgrading or downgrading
is not applicable since the AIUR remains unchanged during the call, and the
allowed radio interface data rate is set by the MSC.
### 5.2.4 User initiated service level up- and downgrading (A/Gb mode)
Figure 9 depicts the procedures for a successful user initiated service level
up- and downgrading for on‑going HSCSD call in A/Gb mode.
During a HSCSD call the user may request, if so indicated in the call setup,
the network to change the current maximum number of traffic channels and air
interface user rate parameters and/or channel coding asymmetry preference.
This is done by using the CC User initiated service level up- and downgrading
procedure.
If network allows the modification, the resulting new parameters are forwarded
to BSC and the radio interface resources may be adjusted accordingly. The
resource upgrading or downgrading is done separately from the change in HSCSD
parameters. However, if a contradiction between the new parameters and the
used air interface resources exists, the resource downgrading may be needed
before the network acknowledges the new parameters.
The user initiated service level up- and downgrading is applicable in non-
transparent mode connections, only.
Figure 9: User initiated service level up- and downgrading in A/Gb mode
### 5.2.4a User initiated service level up- and downgrading (GERAN Iu mode)
Figure 9a depicts the procedures for a successful user initiated service level
up- and downgrading for on‑going HSCSD call in GERAN Iu mode.
The user initiated service level up- and downgrading is applicable in non-
transparent mode connections, only.
Figure 9a: User initiated service level up- and downgrading in GERAN Iu mode
### 5.2.5 Link adaptation for ECSD
Link adaptation for ECSD particularly in high data rate call becomes essential
in order to provide good enough service over large coverage areas. In A/Gb
mode, signalling for link adaptation between channel coding schemes in 8-PSK
modulation and between GMSK and 8-PSK coding schemes is done using existing
signalling mechanisms, i.e. RR Channel Mode Modify procedure, intracell
handover, etc. In performing link adaption between 8-PSK modulated channels,
the normal Channel Mode (or the assignment or the intra-cell HO procedure)
should be used and in case of link adaptation between 8-PSK modulated channels
and GMSK modulated channels the assignment procedure or the intra-cell
handover should be used.
In GERAN Iu mode, the Radio bearer reconfiguration procedure is used for link
adaptation.
### 5.2.6 Start of ciphering
In A/Gb mode, in order to start ciphering, the RR Encryption procedure is
controlled by the main signalling link, only. The encryption information for
secondary HSCSD channel is forwarded to the corresponding TCH/F in initial
channel activation or later in the channel reactivation or Mode modify
message.
The change of ciphering modes for separate channels within the HSCSD
connection might not be perfectly synchronized.
In GERAN Iu mode, the Security mode control procedure is used to start
ciphering (see 3GPP TS 44.118 [21]).
## 5.3 Transparent data transmission
### 5.3.1 Numbering of data substreams
In transparent data transmission the V.110 data frames on the HSCSD channels
carry data substream numbers to retain the order of transmission over GSM,
between the split/combine functions. Between these functions a channel
internal multiframing is also used in order to increase the tolerance against
inter channel transmission delays. In A/Gb mode, depending on the location of
the access point to external networks the split/combine functionality is
located in the BSS or in the IWF on the network side, and at the mobile
station. In GERAN Iu mode, the split/combine functionality on the network side
is always located in the BSS.
A detailed description of the numbering scheme is given in 3GPP TS 44.021
[11].
### 5.3.2 Padding
HSCSD also supports user rates which are not multiples of rates provided by
one TCH/F.
If the selected user rate requires n TCH/F channels but is less than the total
rate that can be achieved with these n TCH/F then in the first n‑1 channels
the data frames carry user data on all D bits. In the n th channel the
unneeded D bits of the V.110 frames are padded with fill bits.
## 5.4 Non-Transparent data transmission
### 5.4.1 HSCSD RLP
Non-transparent mode of HSCSD is realized by modifying the RLP and L2R
functions to support multiple parallel TCH/Fs instead of only one TCH/F
(figure 9a). In addition the RLP frame numbering is increased to accommodate
the enlarged data transmission rate.
The detailed specification of the RLP is given in 3GPP TS 24.022 [5], and L2R
is defined in 3GPP TS 27.002 [13] and 3GPP TS 27.003 [14].
Figure 9a: The HSCSD concept in non-transparent mode
## 5.5 Interworking
Interworking of HSCSD will be arranged to all the services to which
interworking is provided in the existing GSM-system; these services are PSTN,
ISDN, CSPDN and PSPDN.
## 5.6 Subscription aspects and storage of subscriber data
The HSCSD uses general bearer services defined in 22 series specifications. No
HSCSD related subscriber data is stored in HLR or VLR with the exception of
the bearer capability allocation (see 3GPP TS 23.008 [16]).
# 6 Charging
## 6.1 General principles
The A party is liable for the usage of all TCH/F in her PLMN. The B party may
have to pay for one or more TCH/F in her PLMN. In case the originating or
terminating subscriber is in the PSTN there is no additional charge for them.
## 6.2 Call forwardings
The A party is liable for the leg A-B. The B party who forwards the call to
the forwarded-to subscriber (C party) is liable for the primary (basic)
channel on the leg B-C. Forwarded-to (C party) is liable for the usage of one
or more TCH/F in her PLMN.
## 6.3 AoC and toll ticketing
MSC will send the modified e-parameters to the MS, both in MO and in MT calls,
every time the charging rate will change. This can happen when:
\- the coding on the air interface channel is changed;
\- the number of TCH/F allocated is increased or decreased;
during an existing HSCSD data call and when AoC supplementary service is
activated.
Appropriate information concerning these changes have to also be included in
the charging record (toll ticket).
###### ## Annex A (informative): Change history