# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
At present Cell Broadcast is used for ETWS/CMAS/PWS area warning systems. For
the macro network this presents little problem, despite the fact that a
warning area may contain a large number of cells in a macro network.\ Moreover
the radio access parameters broadcast over the air in a 3G macro network have
traditionally been planned before deployment and change only rarely.
The same as above is also applicable for deployments with HNBs, and also in
this deployment it is possible to plan that the radio access parameters
broadcasted over the air.
The use of the Emergency Area ID list concept has a number of benefits to
operators that are not currently present in 3G, including:
1\. The address list size may be controlled by the use of Emergency Area IDs;
2\. The Emergency Area ID allows the grouping of cells other than by TAI.
Increased harmonization between LTE and 3G would also allow an operator to re-
use their Emergency Area ID list across RATs, which is particularly beneficial
in the case of co-located cell sites or cell supporting multi-RAT operation.
# 1 Scope
The present document captures the result of the Study on HNB Emergency Warning
Area for UTRA (RP-131258 [2]).
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] RP-131258: \"Revised SID Study on HNB Emergency Warning Area for UTRA\",
RP#61, Sep 2013, Source: Alcatel-Lucent, ip.access.
[3] 3GPP TS 25.419: \"UTRAN Iu-BC interface: Service Area Broadcast Protocol
(SABP) \".
[4] R3-102728: \"Max number of Cell IDs in Write Replace Warning msg\",
R3#69bis, Oct 2010, Source: Motorola.
[5] 3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); S1 Application Protocol (S1AP)\".
[6] R3-140302: \"TP TR 25.703. Analysis of introducing grouping to the RAN and
CN for Emergency Cell Broadcast\", R3#83, Feb 2014, Source: ip.access.
[7] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[8] 3GPP TS 25.467: "UTRAN architecture for 3G Home Node B (HNB); Stage 2".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply.\ A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply.\ An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
ACS Auto Configuration Server
CBC Cell Broadcast Centre
CBS Cell Broadcast Service
OAM Operations, Administration and Maintenance
RNC Radio Network Controller
SA Service Area
SABP Service Area Broadcast Protocol
# 4 Description of addressed issues
## 4.1 Current Setup and Operation
In this clause, background is provided to the current setup and operation of
Cell Broadcast for HNB.
### 4.1.1 Provisioning and Start Up
Figure 4.1.1-1 shows the basic operation of the provisioning and set up of a
system for Cell Broadcast towards a 3G HNB Subsystem as currently carried out.
{width="6.616666666666666in" height="3.5659722222222223in"}
Figure 4.1.1-1: Standard provisioning mechanism for HNB Cell Broadcast
[Solutions]{.underline}
The process is summarised as follows:
1\. Upon power up the HNB carries out standard Network Listen (NWL) and any
other location reading procedures (e.g. GPS) and registers with the HNB
Management System.\ The HNB Management System is a TR-069 ACS which is the
master record of configuration data for the HNB.
2\. The TR-069 ACS provisions the HNB with necessary operating information
including the contact address for a HNB-GW, a range of LACs for over-the-air
use that a HNB will select from, and a SAC for Broadcast purposes. In the case
of a closed access HNB the LAC will be chosen to be different from all
surrounding neighbour cells.
3\. The TR-069 ACS will notify a Cell Location Database (CLD) in the
operator\'s network of the SAI for broadcast purposes of the HNB (SAI = PLMN +
LAC + Broadcast SAC) plus the HNB\'s location and HNB-GW address for message
routing. This is necessary if there is not a full geographic mapping algorithm
understood between TR-069 ACS and CBC.
4\. The CBC is provisioned with the HNB Location, associated HNB-GW address,
and SAI for broadcast.
The HNB registers with the HNB-GW providing its LAC and broadcast SAC to
enable the HNB-GW to route incoming SABP messages from the CBC.\ The HNB-GW
will compile a look-up table of broadcast SAI -> HNB address values for the
purposes of routing.\ This step takes place after Step 2 and may take place in
parallel with Steps 3 and 4.
### 4.1.2 Operation
Figure 4.1.2-1 summarizes the basic operation when an alert is received.
Figure 4.1.2-1: Summary of Cell Broadcast Operation for HNB
The process is summarised as follows:
1\. The CBC receives a warning message and target area for distribution.
2\. The CBC carries out a search of all cell locations to determine the
broadcast SAIs of those cells whose coverage overlaps the target area.
3\. The CBC generates and sends SABP messages to HNB-GWs that address impacted
cells under those nodes.\ The address space for the message is currently a
list of SAIs.
4\. The HNB-GW receiving a message matches the received broadcast SAIs in the
message against those HNBs registered with it and gets the transport addresses
of matching HNBs. Error messages should be generated for non-matching HNBs.
5\. The HNB-GW forwards the SABP message over the SCTP link to the HNB.
# 5 Description of proposed solutions
Void
# 6 Open issues
## 6.1 Open issue list
This clause contains a list of issues to be considered. They are classified
into 3 groups:
  1. Generic issues to be considered for any solution (including the existing specification),\ (cf. the SID in RP-131258 [2]);
  2. Specific issues encountered in current standards-based deployments;
  3. Issues to be addressed by any proposed solutions introducing new or changed functionalities.
**Group 1 -- Generic issues to be considered for any solution\ (including the
existing specification)**
These are the general areas including the impacts on nodes, transport links
(message size and quantity) along both directions of the signalling chains.
**Group 2 -- Specific issues encountered in current standards-based
deployment**
Table 6.1-1: Specific issues encountered in current standards-based deployment
+--------+--------------+--------------+--------------+--------------+ | Issue | Description | Operational | Areas of | Current | | | | Phase | | Standards | | # | | | impact | | | | | (C | | based | | | | onfiguration | | mechanism | | | | and Start-up | | | | | | / | | to address | | | | | | exists | | | | Message | | | | | | sending / | | | | | | Shut down) | | | +--------+--------------+--------------+--------------+--------------+ | **1** | LAC change | Start-Up | HNB-GW | | | | on power-up | | | | | | for closed | | HMS | | | | HNBs impacts | | | | | | HNB-GW, HMS, | | CBC | | | | CBC and | | | | | | | | Back-office | | | | back-office | | (CLD) | | | | (CLD) | | | | +--------+--------------+--------------+--------------+--------------+ | **2** | Introduction | Start-up / | HNB-GW | | | | of new | Operation | | | | | closed HNB | | HMS | | | | to dense | | | | | | deployment | | Back-office | | | | leads to LAC | | (CLD) | | | | replanning | | | | | | | | CBC | | | | Contains | | | | | | issue #6 | | | | +--------+--------------+--------------+--------------+--------------+ | **3** | CBC and | Start-Up | HMS | | | | back-office | | | | | | (CLD) | | CBC | | | | real-time | | | | | | impact | | Back-office | | | | whenever new | | (CLD) | | | | HNB is | | | | | | activated | | | | +--------+--------------+--------------+--------------+--------------+ | **4** | In case of a | Start-Up | HMS | | | | major | | | | | | re-start | | HMS -- CLD | | | | (e.g. | | link | | | | regional | | | | | | power | | CLD -- CBC | | | | outage) any | | link | | | | potential | | | | | | need for | | HNB-GW | | | | | | | | | | changing HNB | | | | | | parameters | | | | | | relevant to | | | | | | Cell | | | | | | Broadcast as | | | | | | the HNBs | | | | | | re-start and | | | | | | | | | | | | re-register | | | | | | creates peak | | | | | | load on | | | | | | back-office | | | | | | links and | | | | | | OAM | | | | +--------+--------------+--------------+--------------+--------------+ | **5** | HNB | Start-up / | CBC | | | | power-off | Shut-down | | | | | requires | | Back-office | | | | real-time | | (CLD) | | | | back-office | | | | | | (CLD) and | | HNB-GW | | | | CBC update | | | | +--------+--------------+--------------+--------------+--------------+ | **6** | HNB location | Start-up | HNB-GW | | | | change (e.g. | | | | | | home \ | | HMS | | | | office) | | | | | | causes LAC | | Back-office | | | | change | | (CLD) | | | | | | | | | | Note this | | CBC | | | | issue is | | | | | | part of | | | | | | Issue #2. | | | | +--------+--------------+--------------+--------------+--------------+ | **7** | Major alert | Operation | CBC | | | | processing | | | | | | for large | | | | | | H(e)NB | | | | | | deployment | | | | +--------+--------------+--------------+--------------+--------------+ | **8** | Message size | Operation | CBC -> | | | | from | | HNB-GW link | | | | CBC->HNB-GW | | | | | | for large | | | | | | scale alert | | | | | | demands | | | | | | bandwidth | | | | +--------+--------------+--------------+--------------+--------------+ | **9** | Processing | Operation | HNB-GW | | | | Load/Time on | | | | | | HNB-GW for | | | | | | large | | | | | | messages / | | | | | | impact on | | | | | | delivery | | | | | | time | | | | +--------+--------------+--------------+--------------+--------------+ | **10** | Response | Operation | HNB-GW | | | | size | | | | | | handling -- | | CBC | | | | message | | | | | | quantity on | | HNB-GW -> | | | | backhaul | | CBC link | | | | HNB-GW to | | | | | | CBC | | | | +--------+--------------+--------------+--------------+--------------+
### 6.1.1 Evaluation
**Issues 1 to 4:** These issues are due to uncoordinated planning of HNB cell
parameters. If HNB cell parameters were configured in a way to avoid LAC reuse
in a neighbourhood, and possible frequent changes of LAC assigned to an HNB,
the problems mentioned would disappear.
**Issue 5:** A suitable dimensioning of the system would allow handling of
these cases.
**Issue 6:** An HNB location change is equivalent to a cell re-planning. The
standard cannot be designed to address unpredictable cell re-planning.\
Therefore this case cannot be taken as reference.
**Issue 7 to 10:** These issues are related to system performance, capacity
and dimensioning and therefore implementation specific.\ The standard does not
present any technical of interoperability shortfalls that need to be
addressed.
**Group 3 -- Issues to be addressed by any solution introducing new or changed
functionality**
1\. Protocol changes and impact;
2\. OAM;
3\. Backwards compatibility with nodes supporting current specifications.
## 6.2 Confirmed issues
This clause contains the issues for which assessment has been carried out.
# 7 Issues and potential improvements
## 7.1 Issues
### 7.1.1 Backhaul Link Reliability and Delay
In the case of major alert types such as earthquakes, there is an increased
risk that a number of the Iuh backhaul links from HNBs to a HNB-GW (quite
possibly outside operator control) will have failed.\ This will be detected by
the HNB-GW since the \"tunnel keep-alive\" will fail, but the TR-069 OAM
system may not be fully aware because the mechanism does not maintain a
permanently active connection.\ As a result the CBC may not be aware that the
HNB and associated SAI are not reachable, and include the SAI in the address
list, triggering a WRITE-REPLACE FAILURE.
**Waiting time to respond**
The time before the HNB-GW can respond to a WRITE-REPLACE REQUEST also needs
to be considered.\ In the case of a macro-cellular network with RNCs, there
will be links with known quality and performance down to the NodeBs, enabling
the NodeBs to respond that they have broadcast messages in a reasonably
grouped time range.
However, in the case of consumer HNB there is the likely deployment scenario
where the Iuh link is over backhaul that the operator may have no control
over, and be of limited quality (e.g. DSL). Consequently, SABP messages from
HNB to HNB-GW indicating a successful broadcast may occupy a much wider time
range than in the macro-cellular case.
This raises the issue of how long a HNB-GW should wait until it sends a
COMPLETE or FAILURE message detailing success or failure for all the SAIs that
were included in the original WRITE-REPLACE message, or whether a mechanism is
needed to allow a HNB-GW to respond with more than one message to keep the CBC
informed of status in a timely fashion.
Current 3GPP specifications do not specify, either how long a HNB-GW should
wait before responding with a WRITE-REPLACE response (COMPLETE or FAIL), or
whether the HNB-GW should forward individual responses or aggregate responses
from individual HNBs that it serves.
Consequently, there is an issue to consider how to handle the delay range
impacts of this deployment scenario and whether specification clarification or
modification is needed.
#### 7.1.1.1 Evaluation
It is recommended that deployment of HNBs occurs via backhauls supporting a
minimum level of robustness, QoS, and reliability that could ensure correct
system behaviour.
It is a matter of implementation how long the HNB GW shall wait for responses
to arrive from HNBs before responding to the CBC.
For example, the lower the delay performance of the backhauls that are allowed
to be used within the HNB system, the higher the HNB GW needs to wait for
messages to arrive.
It can be concluded that it is a deployment choice whether to use low
performance backhauls and it is an implementation choice how to implement
nodes that can support procedures running on such backhauls.
### 7.1.2 Introduction of new closed HNB to a dense deployment leads to LAC
replanning (Issue #2)
This scenario is caused by the event that a new closed access HNB is
introduced when the size of the LAC pool available to the HNB is the same size
or less than the number of distinct LACs in the neighbours. This will mean
that if the HNB selected a LAC in the current LAC organization there would be
neighbouring LACs which are the same and so this would lead to a need to re-
plan the LACs in a certain area unless a \'single LAC\' approach had been
adopted.
This creates a near-identical set of technical issues to Issues #1 and #4
(Group 2 6.1), although probably of a lesser scale.
**Impact**
These actions may have a significant impact on a number of network nodes and
links including:
\- HNB-GW
\- HMS
\- CBC
\- Cell Location Database (CLD)
\- HMS -- CLD link
\- CLD -- CBC link
These are now discussed further. The impact of broadcasting a single LAC for
closed access HNBs included in the discussion and shown to have user
experience impacts issues.
#### 7.1.2.1 Use and Change of LACs
The format of the SAI used to address a HNB by the CBC for the purposes of
Cell Broadcast is PLMN + LAC + SAC.\ The SAI required for emergency cell
broadcast is currently required to be unique. Consequently, any change in the
LAC used causes a change in SAI that in turn needs to be communicated to both
the HNB-GW and the CBC.
Population of the CBC is via the Cell Location Database (CLD) so this in turn
needs to know whenever a LAC (SAI) has changed in order that it can update the
CBC.
**Observation 1: The current specification for 3G requires that the CBC and
intermediate nodes need to be stateful about the status (on/off) and SAI of
every HNB (and nodeB). This is true even when an emergency warning alert is
not taking place. In the case of a macrocell network, there is very little or
no change in state, whilst in a HNB network there may be ongoing activity.**
**Observation 2: The higher layer parameters (TAI, Warning Area, etc.)
available in LTE provide an option for this \'statefulness\' to be required
only when an alert is taking place.**
#### 7.1.2.2 LAC changes triggered by new Power Up or Replanning
In the case that LAC changes due to a new power up, (e.g. due to SON
configuration) then as noted above, this causes an SAI change that needs to be
propagated throughout the whole system.
Accordingly:
\- The HNB-GW will receive the new LAC (and thus SAI) during HNBAP HNB
Register Request.\ It may also need to forward an SABP Restart message from
the HNB towards the CBC.
\- The HMS will record the selected LAC used, as is normal in any start-up and
configuration, and will also need to update the Cell Location Database that
the HNB is actually switched on at a particular physical location, linked HNB-
GW address, and with a particular SAI. This seems to have little change from a
normal power up when the LAC does not change as long as the CLD is required to
remain \'stateful\' prior to any alert being issued. Note that prior to Cell
Broadcast the HMS update of cell location could be done regularly but with a
reduced real-time requirement.
\- Cell Location Database will receive the details described above from the
HMS, record them and update the CBC.
**Observation: This means that the CLD needs to effectively operate in real
time, not via a daily update as it currently typical for macro-cell
deployments**
\- The CBC will receive the location of the HNB, SAI, HNB-GW address and that
the HNB is switched-on, from the CLD. It may also receive an SABP Restart
Message from the HNB, forwarded by the HNB-GW.
\- HMS -- CLD link will need to be permanently live to cope with the real time
updates of HNB status and other information. It will also need to be suitably
dimensioned to cope with peak traffic loading.
\- CLD -- CBC link will need to be similarly live and dimensioned as per the
HMS -- CLD link.
#### 7.1.2.3 Number of LACs and Scaling
It remains to be considered how often these changes considered above will take
place in order to assess the overall impact. Part of this will be due to
cultural issues such as a tendency to switch-off a HNB overnight and on again
in the morning, effectively introducing new HNBs over time to the deployment,
but for the purposes of standardization this must be assumed to happen.
In the case of closed access HNBs, the LAC used is set to be different from
those of surrounding cells in order to trigger access control for legacy UEs.
The one exception to this is if a single LAC is used for all closed access
HNBs and non-member UEs are allowed to camp on a HNB until they request
service, whereupon they are re-directed if this is possible (which is not
always the case).
There has been much discussion on the number of LACs that can (or should) be
allowed and corresponding impacts on overall system performance, but the
following summarises the approaches suggested.
**a) Single Broadcast LAC**
> In this approach a single LAC is broadcast over the air and in a dense
> deployment with overlapping cells\ (e.g. neighbouring apartments or
> properties), non-member UEs may camp on a HNB until they request service, as
> described above. It also incurs similar updating of nodes on start-up, as
> described above, even if the parameter\ (e.g. a separate LAC) used for
> registration and indexing does not change.
>
> The advantage is that:
>
> \- It minimizes over the air planning and small unnecessary radio signalling
> when the UE does not want service.
>
> However, the approach has a number of disadvantages, namely that:
>
> \- It does not work in the case of co-channel deployment with macro cells,
> because the RRC re-direction when service is requested will not be able to
> identify the macro cell layer for the UE to redirect to.
>
> \- The UE (and its user) may erroneously believe that they have service when
> in fact they do not.\ Operators may not wish to deceive their customers in
> this way.
>
> \- Unnecessary signalling when a UE wants service but is either not able to
> receive it or is redirected.
**b) A small LAC pool (\~ 10)**
> Operators can have good reasons to keep the pool of LACs allocated for HNBs
> down in order to improve network efficiency. This is because a common
> mechanism to reject non-member legacy UEs from closed access is HNBs is via
> rejecting a Location Area Update request. A UE only stores the previous 10
> rejected Location Areas on its SIM and so utilising a small number of LACs
> enables this list to be as fully inclusive as possible and to be accumulated
> quickly, thus minimizing unnecessary access attempts that could load the
> network. Consequently,
>
> the advantages are that:
>
> \- Allows co-channel deployment;
>
> \- Small total signalling for idle mode UEs as they learn allowed / non-
> allowed LACs;
>
> \- UEs and users are clear when they have service or not.
>
> The disadvantages are the current scenario under discussion -- i.e. that:
>
> \- LACs may need re-planning when a new HNB is introduced into a dense
> deployment and there is not a spare LAC immediately, or possibly on re-start
> as the LAC \'map\' is sorted out;
>
> \- Location Area Updates to closed accessible cells is rejected if the UE
> has been previously rejected access in a non-accessible closed cell with
> same LAC as accessible cells.
**c) Large LAC pool ( >> 10)**
In this approach there is a large LAC pool. In comparison with the above
mechanisms there is the advantage that:
\- very little LAC re-planning is likely to be needed.\ Therefore the issues
of scalability related to frequent changes of LAC in closed HNBs do not apply.
But has the disadvantage that:
\- in a dense deployment there will be over the air signalling because the UE
will be attempting LAUs on cells that it had been previously rejected from.
These are summarized in table 7.1.2.3-1.
Table 7.1.2.3-1: LAC Pool Size Impact on Cell Broadcast and RAN
+----------+----------+----------+----------+----------+----------+ | LAC Pool | RAN | UE | HNB-GW | HMS | Service | | | Impact | Impact | impact | Impact | Impact | | Size | | | | | | +----------+----------+----------+----------+----------+----------+ | **1 | Does not | UE may | HNB-GW | The LAC | Operator | | (common | work in | indicate | has to | has to | may be | | LAC)** | co | service | handle | be | pr | | | -channel | when | LAC | over | etending | | | macro | none is | trans | -the-air | to a | | | dep | av | position | only | user | | | loyments | ailable, | for cell | with | that | | | as RRC | if | b | separate | they | | | Red | outside | roadcast | in | have | | | irection | macro | se | dividual | service | | | does | range | parately | LAC -- | when it | | | nec | | | HNB | is in | | | essarily | | | mapping | fact not | | | work to | | | agreed | a | | | get UE | | | between | vailable | | | to | | | CBC, CLD | | | | reselect | | | and | | | | on same | | | HNB-GW & | | | | f | | | HMS | | | | requency | | | | | +----------+----------+----------+----------+----------+----------+ | ** | Limited | Limited | New HNB | Impacts | Denial | | Medium**| OTA | si | Regi | due to | of | | | si | gnalling | stration | re-as | access | | ** | gnalling | impact | due to | signment | to | | (\~10)** | needed. | on UE. | frequent | of new | ac | | | | | change | LAC | cessible | | | Due to | R | of LACs | | closed | | | the | ejection | to avoid | | cells | | | small | of | reuse of | | when | | | size of | Location | same LAC | | ac | | | HNB | Area | in a | | cessible | | | cells a | Updates | neigh | | and | | | number | to | bourhood | | non-ac | | | of LAC | ac | | | cessible | | | equal to | cessible | | | cells | | | \~10 may | cells | | | share | | | not be | sharing | | | the same | | | su | same LAC | | | LAC | | | fficient | of non | | | | | | to | ac | | | | | | g | cessible | | | | | | uarantee | cells | | | | | | LAC | | | | | | | un | | | | | | | iqueness | | | | | | | in a | | | | | | | neighb | | | | | | | ourhood. | | | | | +----------+----------+----------+----------+----------+----------+ | * | OTA | OTA | | Small | | | _Large_ _| si | si | | | | | | gnalling | gnalling | | | | |__( >> | as per | as per | | | | | 10)_* | legacy | legacy | | | | | | UE | UE | | | | | | access | access | | | | | | to CSG | to CSG | | | | | | HNBs | HNBs | | | | | | pro | pro | | | | | | cedures, | cedures, | | | | | | s | s | | | | | | pecified | pecified | | | | | | in 3GPP | in 3GPP | | | | | | TS | TS | | | | | | 25.467 | 25.467 | | | | | | [8], | [8], | | | | | | clause | clause | | | | | | 5.1.2 | 5.1.2 | | | | +----------+----------+----------+----------+----------+----------+
**Observation: Whilst there are mechanisms for approaching different RAN
configuration and radio engineering problems, each mechanism has some
advantages as well as disadvantages and negative impacts, so _there is not a
universal standardised solution that solves all issues_.\ Consequently, dense
operator deployments currently have to make some trade-offs that need to be
handled.**
#### 7.1.2.4 Evaluation
Deployment of HNBs using a pool of LACs large enough to prevent frequent
changes of LACs at HNBs resolves the issues related to LAC re-planning
described in this clause. The UE and RAN behaviour deriving from a deployment
of HNBs using a large enough pool of LAC have been taken into account and
accepted by 3GPP WG RAN3 when specifying legacy UE access control for CSG
HNBs. Therefore, deployments of HNBs on large enough pools of LAC is in line
with the standard\'s principles and does not present issues related to LAC re-
planning.\ However, the size of the LAC pool does impact the amount of over
the air signalling that a non-CSG capable UE will carry out.
## 7.2 Potential improvements
### 7.2.1 Mitigation of CBC -- HNB-GW message size and associated impacts
**Motivation**
An analysis of the message size follows the approach carried out in R3-102728
[4]. Although this analysis considered Cell ID message sizes for LTE, there is
a direct comparison because the number of octets used in a Cell ID + PLMN
combination for addressing is 4 + 3 = 7, which is the same as for the SAI
currently required for 3G operations (SAC + LAC \+ PLMN).
The maximum number of SAI in a message to a HNB-GW is 65535 as this is the
maximum number of HNBs allowable under a HNB-GW and current specifications
require the SAI for emergency broadcast to be unique.\ Consequently the
address list size of a WRITE-REPLACE message (3GPP TS 25.419 [3], clause
9.1.3) from CBC to HNB-GW where all HNBs are addressed will be 460 kbytes.
**LTE comparison**
In contrast, LTE has an option to mitigate this by allowing a choice of
addressing options under the _Warning Area List_ IE (3GPP TS 36.413 [5],
clause 9.2.1.46) for a WRITE-REPLACE WARNING REQUEST message that includes an
omission option that indicates to an MME that it should broadcast to all
eNodeBs which it serves.
If the alert is not as widespread, LTE also allows the alternative addressing
mechanisms of TAI list and Emergency Area ID list that allow multiple eNodeBs
to be grouped together, providing a hierarchical method of constraining the
size of the address list and allowing appropriate granularity for the target
message coverage area.
**Potential improvements**
a) Introduce a method to indicate to a HNB-GW that it should broadcast a
Warning message to all HNBs that it serves;
b) Introduce a method that allows grouping of HNBs in the WARNING REPLACE
message addressing (e.g. Emergency Area ID).
#### 7.2.1.1 A \'Broadcast All\' method for Emergency Cell Broadcast to HNBs
In considering how a Broadcast All option could be introduced, it is useful to
compare how the 3G and LTE addressing currently work.
##### 7.2.1.1.1 Current addressing practice
**3G Cell Broadcast**
The messages from CN towards the RNC or HNB-GW (e.g. WRITE-REPLACE message\
(3GPP TS 25.419 [3], clause 9.1.3) and KILL message ([3], clause 9.1. 6)) use
a mandatory Service Areas List IE whilst the corresponding COMPLTE and FAILURE
responses towards the CN also make use of a Service Areas List in the Number
of Broadcasts Completed List and Failure List.
e.g.
quote from 3GPP TS 25.419 [3] clause
9.1.3 WRITE-REPLACE
This message is sent by the CN to the RNC.
Direction: CN  RNC
+---------+---------+-------+---------+---------+---------+---------+ | PA | P | RANGE | IE Type | Se | Crit | A | | RAMETER | RESENCE | | and | mantics | icality | ssigned | | | | | | | | | | | | | Re | Desc | | Crit | | | | | ference | ription | | icality | +---------+---------+-------+---------+---------+---------+---------+ | Message | M | | 9.2.1 | | yes | reject | | Type | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Message | M | | 9.2.19 | | yes | reject | | Ide | | | | | | | | ntifier | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | New | M | | 9.2.5 | | yes | reject | | Serial | | | | | | | | Number | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Old | O | | 9.2.4 | | yes | ignore | | Serial | | | | | | | | Number | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Service | M | | 9.2.6 | | yes | reject | | Areas | | | | | | | | List | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | C | O | | 9.2.7 | | yes | ignore | | ategory | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Rep | M | | 9.2.8 | | yes | reject | | etition | | | | | | | | Period | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Number | M | | 9.2.9 | | yes | reject | | of | | | | | | | | Bro | | | | | | | | adcasts | | | | | | | | Re | | | | | | | | quested | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Data | M | | 9.2.15 | | yes | reject | | Coding | | | | | | | | Scheme | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Br | M | | 9.2.2 | | yes | reject | | oadcast | | | | | | | | Message | | | | | | | | Content | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Warning | O | | 9.2.23 | | yes | ignore | | S | | | | | | | | ecurity | | | | | | | | Info | | | | | | | | rmation | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Paging | O | | 9.2.21 | | yes | ignore | | ETWS | | | | | | | | In | | | | | | | | dicator | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Warning | O | | 9.2.22 | | yes | ignore | | Type | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Br | O | | 9.2.24 | | yes | ignore | | oadcast | | | | | | | | Message | | | | | | | | Content | | | | | | | | V | | | | | | | | alidity | | | | | | | | In | | | | | | | | dicator | | | | | | | +---------+---------+-------+---------+---------+---------+---------+
End of quote.
**LTE Cell Broadcast**
The corresponding messages from the CN to an eNodeB in 3GPP TS 36.413 [5]
(e.g. WRITE-REPLACE WARNING and KILL) are addressed by an optional Warning
Area List IE, which consists of a choice of address identifiers (Cell ID list,
TAI list for warning, and Emergency Area ID list) , with corresponding
behaviour in the response messages towards the CN.
If the Warning Area List is not present at all, then the eNodeB should
broadcast the message on all cells that it supports.
##### 7.2.1.1.2 Addition of a Broadcast All Method
There are at least three natural ways of introducing a \'Broadcast All\'
option for the CN to signal to the HNB-GW.
**Option a)** Add a new Presence Optional IE with \'Criticality ignore\' that
indicates \'ignore any SAI list and broadcast to all HNBs currently being
served by the HNB-GW\'.\ The precise behaviour would depend on whether the
Service Areas List was additionally made optional.
**Option b)** Mimic the approach adopted by LTE where if the Service Areas
List or any other IE referring to address lists has Presence: Optional, and
all are absent then the interpretation is to broadcast to all currently served
HNBs.
**Option c)** Introduce a special SAI value that indicated \'Broadcast All\'
to a receiving node. This could be via configuration to ensure that the SAI
value is not used in the macro layer, and would not require standardization.\
The CBC already has to take care to create individual broadcast messages
containing only addresses (e.g. SAIs) that are supported by the receiving node
in order to avoid excessive non-availability responses back on the uplink.
##### 7.2.1.1.3 Backwards compatibility
Whichever method is used, if it involves protocol modifications then it should
be based on optional IEs with \'Criticality ignore\' in case the HNB-GW did
not support its use.
**Option a)** is backwards compatible if the Service Areas List is maintained
as in the current protocols.
**Option c)** is backwards compatible and can be done via configuration.
The CBC already has to know the identities of HNB-GWs for SAI routing purposes
and protocol versions to use, so it would be straightforward to also add an
additional property to the details of a HNB-GW, but this mechanism incurs
incremental configuration effort in the CBC and HNB-GW.
The precise mechanism is FFS and should be determined in any Stage 3
implementation discussions.
##### 7.2.1.1.4 Messages from HNB / HNB-GW towards the CBC
A \'broadcast to all\' option can be logically regarded as a broadcast to the
complete group of HNBs under a HNB gateway, and so much of the discussion on
this in R3-140302 [6] is also applicable.
In order for the CBC to maintain a per-cell analytic capability of analyzing
the number of transmissions and other values on a per cell basis, a message
from the HNB-GW towards the CBC should include the results for each relevant
HNB in a grouping (including a group of all currently served cells),
referenced by the SAI for broadcast associated with that HNB. This mechanism
is also adopted in the LTE Cell Broadcast messages towards the Core Network.
Whether the HNB-GW would partition any response messages -- e.g. due to delay
in reception of transmission results from HNBs -- is an operational choice
(see Issue on Backhaul Link Reliability and Delay in clause 7.1.1.
#### 7.2.1.2 A grouping method for emergency HNBs
In considering how a Grouping Identity could be introduced, it is useful to
compare how the 3G and LTE addressing currently work. It should, however, be
noted that this is a change from the historic design of emergency cell
broadcast for 3G and the LTE design principle is not always systematically
transferrable to 3G.
##### 7.2.1.2.1 Current addressing practice
**3G Cell Broadcast**
The messages from CN towards the RNC or HNB-GW (e.g. WRITE-REPLACE message
(3GPP TS 25.419 [3], clause 9.1. 3) and KILL message ([3], clause 9.1. 6) )
use a mandatory Service Areas List IE whilst the corresponding COMPLTE and
FAILURE responses towards the CN also make use of a Service Areas List in the
Number of Broadcasts Completed List and Failure List.
e.g.
quote from 3GPP TS 25.419 [3] clause
9.1.3 WRITE-REPLACE
This message is sent by the CN to the RNC.
Direction: CN  RNC
+---------+---------+-------+---------+---------+---------+---------+ | PA | P | RANGE | IE Type | Se | Crit | A | | RAMETER | RESENCE | | and | mantics | icality | ssigned | | | | | | | | | | | | | Re | Desc | | Crit | | | | | ference | ription | | icality | +---------+---------+-------+---------+---------+---------+---------+ | Message | M | | 9.2.1 | | yes | reject | | Type | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Message | M | | 9.2.19 | | yes | reject | | Ide | | | | | | | | ntifier | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | New | M | | 9.2.5 | | yes | reject | | Serial | | | | | | | | Number | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Old | O | | 9.2.4 | | yes | ignore | | Serial | | | | | | | | Number | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Service | M | | 9.2.6 | | yes | reject | | Areas | | | | | | | | List | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | C | O | | 9.2.7 | | yes | ignore | | ategory | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Rep | M | | 9.2.8 | | yes | reject | | etition | | | | | | | | Period | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Number | M | | 9.2.9 | | yes | reject | | of | | | | | | | | Bro | | | | | | | | adcasts | | | | | | | | Re | | | | | | | | quested | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Data | M | | 9.2.15 | | yes | reject | | Coding | | | | | | | | Scheme | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Br | M | | 9.2.2 | | yes | reject | | oadcast | | | | | | | | Message | | | | | | | | Content | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Warning | O | | 9.2.23 | | yes | ignore | | S | | | | | | | | ecurity | | | | | | | | Info | | | | | | | | rmation | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Paging | O | | 9.2.21 | | yes | ignore | | ETWS | | | | | | | | In | | | | | | | | dicator | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Warning | O | | 9.2.22 | | yes | ignore | | Type | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | Br | O | | 9.2.24 | | yes | ignore | | oadcast | | | | | | | | Message | | | | | | | | Content | | | | | | | | V | | | | | | | | alidity | | | | | | | | In | | | | | | | | dicator | | | | | | | +---------+---------+-------+---------+---------+---------+---------+
End of quote.
**LTE Cell Broadcast**
The corresponding messages from the CN to an eNodeB in 3GPP TS 36.413 [5]
(e.g. WRITE-REPLACE WARNING and KILL) are addressed by an optional Warning
Area List IE, which consists of a choice of address identifiers (Cell ID list,
TAI list for warning, and Emergency Area ID list) , with corresponding
behaviour in the response messages towards the CN.
If the Warning Area List is not present at all, then the eNodeB should
broadcast the message on all cells that it supports.
##### 7.2.1.2.2 Addition of a Grouping Method
A natural way of introducing a grouping parameter is to mimic the approach
adopted by LTE where more than one parameter (Cell ID, TAI, Emergency Area
ID), with different levels of granularity, from unique to the cell (Cell ID)
as with the SAI for broadcast, to cell groups (TAI, Emergency Area ID) are
available.
##### 7.2.1.2.3 Provisioning of a Grouping Parameter
The principles of OAM provisioning for HNB are that the HMS (TR-069 ACS) is
the master source of HNB configuration parameters. As is the principle for
other parameters used in Cell Broadcast, the parameter would be optionally
provisioned into the HNB during normal configuration procedure and, if
available, would then be made available to the HNB-GW by being included in the
HNBAP HNB Register Request message. The HNB-GW would then know that the HNB
supported the use of the parameter and be able to build the appropriate
routing table.
The same parameter would also be associated with the HNB in the CBC. The CBC
already needs to be configured with RNC / HNB-GW addresses and one method
could be to configure it with which of them supported grouping as well.
##### 7.2.1.2.4 Messages from CN towards HNB-GW \| RNC
In this case of messages from the CN towards the RAN, the introduction of such
a grouping parameter would need to be conveyed in the CN -> HNB-GW messages
that used it in order to allow for routing to the appropriate cells at the
HNB-GW. The use of the parameter would need to be optional in case the HNB-GW
did not support its use.
##### 7.2.1.2.5 Messages from HNB / HNB-GW towards the CBC
In the case of messages on the uplink, a similar process would be followed --
the address list for messages making use of the parameter would need to have
the optional grouping parameter added for messages
In order for the CBC to maintain a per-cell analytic capability of analysing
the number of transmissions and other values on a per cell basis, a message
from the HNB-GW towards the CBC should include the results for each HNB in a
group, referenced by the SAI for broadcast associated with that HNB. This
mechanism is also adopted in the LTE Cell Broadcast messages towards the Core
Network.
Whether messages from the HNB to the HNB-GW should include the group parameter
is FFS: the HNB-GW would be able to create an aggregated message toward the
CBC if necessary because it will have built up details of the SAIs that it
supports that are included in a particular group.
##### 7.2.1.2.6 Level of granularity
It is important that any grouping parameter has sufficient scope to meet the
use cases foreseen.
The Emergency Area ID used in LTE (3GPP TS 36.413 [5], clause 9.2.1.47)
consists of 3 octets, providing the option for up to 1.67 million different
grouping identities to use. This has been recognised as sufficient for LTE to
use for (H)eNodeB deployments and so would also seem sufficient for HNB
deployments
##### 7.2.1.2.7 LTE compatibility
LTE uses the Emergency Area ID, and the SID in RP-131258 [2] explicitly
mentions considering use of this parameter, not least because its use also
enables commonality in geographical grouping and re-use of planning in the
case of Multi-Standard Radio nodes.
##### 7.2.1.2.8 Backwards compatibility with existing practice
There are a number of ways that the proposed mechanism could be introduced
into Cell Broadcast in a backwards compatible way.
Possible ways include:
1\. Making the Presence of the current Service Areas List Optional rather than
Mandatory, with criticality ignore and introducing an Optional Warning Area
List in a similar way to the LTE messaging. OA&M configuration would be
enhanced in the CBC to ensure that new format messages were sent only to the
HNB-GWs supporting the feature.. The Warning Area List addresses could consist
of either:
a. A list of only the group IDs (e.g. Emergency Area IDs), or
b. a choice between a list of group IDs and a list of Service Areas, in a
similar way to LTE.
2\. Introducing new messages that would only be used when the Grouping
identities were used: legacy HNB-GWs would not need to support these new
messages.
It is noted that whilst the above possibilities would not impact the legacy
macro RNC architecture, there would need to be an additional configuration in
the CBC as to whether a HNB-GW supports any enhanced addressing mechanism and
corresponding selection of message format. The CBC already needs the general
capability to create different message structure for sending to BSC, RNC, MME
and different 3GPP releases, and so this configuration is incremental.
The precise mechanism is FFS and should be determined in Stage 3
implementation discussions.
#### 7.2.1.3 Evaluation
The UTRAN system has been designed to provide per-cell warning area
signalling. This provides high granularity of cell broadcast messages.
Current RNC based systems can handle the requirements imposed by such system,
which are a direct consequence of the design choice for the UTRAN warning area
system function.
It is acknowledged that the standard does not show any shortfalls in terms of
technical correctness or interoperability and that it is up to implementation
to design a system that can work according to standard specifications.
The addition of a \'Broadcast All\' mechanism provides additional efficiency,
and is technically possible without affecting the legacy macro RNC
architecture. This does require additional configuration in the CBC and HNB-
GW.\ The precise mechanism remains FFS.
The addition of a grouping method based on the LTE Emergency Area ID allows
group broadcasting to HNBs. However, this is not formally implementable
without specification change (e.g. 3GPP TS 23.003 [7]) affecting behaviour in
the legacy macro RNC architecture or without formally affecting nodes not
supporting this feature.\ In case the new SAI for group broadcast is received,
such nodes would have to determine that the broadcast has to be rejected, or
not be impacted if a broadcast message were rejected.\ A new solution
(introduction of Emergency Area ID IEs) requires protocol modifications and
additional configuration in the CBC and in RAN nodes. The precise mechanism
remains FFS.
# 8 Conclusions
The present study has examined potential issues and enhancements associated
with delivering emergency broadcast messages to HNBs.
It is concluded that the issues raised and presented during the study on HNB
Emergency Warning Area for UTRAN are not due to technical shortfalls in
standardized functions and procedures. Suitable configuration, combined with
dimensioning of networks, back-office functionality, and transport links will
address the scale of broadcast message delivery to HNB deployments.
The study objectives included the study of mechanisms for handling Emergency
Warnings for HNBs, such as introduction of an Emergency Area ID list similar
to LTE. This has been carried out and looked at two areas:
\- Introduction of a general HNB grouping mechanism similar to the Emergency
Area ID available in LTE;
\- The specific option available in LTE to indicate a \'Broadcast All\' to all
eNodeBs under an MME, as translated to broadcasting to all HNBs under a HNB-
GW.
Methods to implement a general grouping mechanism were studied but it was not
possible to conclude that this was possible without risking impact on legacy
RNCs, or non-supporting HNB-GWs. On the basis of the result of the present
study, it seems not justified to pursue this further and trigger more
standardization work.
It is technically possible to implement a \'Broadcast All\' mechanism in a
backward-compatible way without impacting non-supporting nodes.
#