# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
Machine to Machine (M2M) communication represents a significant growth
opportunity for the 3GPP ecosystem. To support the so called \'Internet of
Things\' (IoT), 3GPP operators have to address usage scenarios with devices
that are power efficient (with battery life of several years), can be reached
in challenging coverage conditions e.g. indoor and basements and, more
importantly, are cheap enough so that they can be deployed on a mass scale and
even be disposable.
The study on which this technical report is based has considered both the
possibility of evolving the current GERAN system and the design of a new
access system to meet the requirements for a Cellular IoT system for the lower
data rate end of the M2M market. A summary of deployment scenarios and
requirements that are relevant for Cellular IoT is provided in Annex A.
Techniques captured in this report have been developed based on the assumption
that Cellular IoT devices require very low throughput, do not have stringent
delay requirements like those required for real time services, do not need to
support circuit switched services, do not need to support Inter-RAT mobility
and will perform intra-RAT mobility by cell reselection.
# 1 Scope
The present document contains the outcomes of the 3GPP study item on,
\'Cellular System Support for Ultra Low Complexity and Low Throughput Internet
of Things\'.
The following are covered by the study:
\- Objectives of the study.
\- Evaluation methodology.
\- Summary of physical layer aspects and higher layer aspects for different
candidate techniques proposed during the study to fulfil the objectives.
\- Common assumptions used in the evaluation of candidate techniques.
\- Evaluation of network architecture aspects. Link level and system level
performance evaluations based on the objectives and evaluation methodology.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TR 41.001: \"GSM Specification set\".
[3] 3GPP TR 36.888: \"Study on provision of low cost Machine-Type
Communications (MTC) user Equipment (UEs) based on LTE (v12.0.0)\".
[4] 3GPP TR 45.914: \"Circuit switched voice capacity evolution for GSM/EDGE
Radio Access Network (GERAN)\".
[5] 3GPP TS 45.005: \"Radio transmission and reception (v12.2.0) \".
[6] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
network protocols; Stage 3\".
[7] 3GPP TS 23.682: \"Architecture enhancements to facilitate communications
with packet data networks and applications\".
[8] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC) protocol specification\".
[9] 3GPP TS 36.212: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Multiplexing and channel coding\".
[10] 3GPP TS 45.001: \"Physical layer on the radio path; General
description\".
[11] 3GPP TS 45.002: \"Multiplexing and multiple access on the radio path\".
[12] 3GPP TS 45.003: \" Channel coding\".
[13] 3GPP TS 45.004: \"Modulation\".
[14] 3GPP TS 44.060: \"General Packet Radio Service (GPRS); Mobile Station
(MS) - Base Station System (BSS) interface; Radio Link Control / Medium Access
Control (RLC/MAC) protocol\".
[15] 3GPP TS 36.211: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Physical channels and modulations\".
[16] 3GPP TR 33.863: \"Study on battery efficient security for very low
throughput Machine Type Communication Devices\".
[17] 3GPP TR 33.860: \"Study on Security aspect of cellular systems with
support for ultra low complexity and low throughput Internet of Things\".
[18] 3GPP TS 36.323: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Packet Data Convergence Protocol (PDCP) specification\".
[19] 3GPP TS 24.007 \"Mobile radio interface signalling layer 3; General
Aspects\".
[20] 3GPP TS 24.301 \"Non-Access-Stratum (NAS) protocol for Evolved Packet
System (EPS); Stage 3\".
[21] 3GPP TS 25.942: \"Radio Frequency (RF) system scenarios\".
[22] 3GPP TS 36.942: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Frequency (RF) system scenarios\".
[23] 3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); S1 Application Protocol (S1AP)\".
[24] 3GPP TS 27.007: \"AT command set for User Equipment (UE)\".
[25] 3GPP TS 23.236: \"Intra-domain connection of Radio Access Network (RAN)
nodes to multiple Core Network (CN) nodes\".
[26] 3GPP TS 45.010: \"Radio subsystem synchronization\".
[27] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2 (Release 13).
[28] 3GPP TS 36.321: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Medium Access Control (MAC) protocol specification\".
[29] 3GPP TS 37.104: \"E-UTRA, UTRA and GSM/EDGE; Multi-Standard Radio (MSR)
Base Station (BS) radio transmission and reception\".
[30] 3GPP TS 36.304: \"Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); User Equipment (UE) procedures in idle mode\".[31] 3GPP TS 36.101:
\"Evolved Universal Terrestrial Radio Access (E-UTRA); User Equipment (UE)
radio transmission and reception\".
[31] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
description; Stage 2\".
[32] 3GPP 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[33] 3GPP TR 25.816: \"UMTS 900 MHz Work Item technical report\".
[34] 3GPP TS 25.101: \"User Equipment (UE) radio transmission and reception
(FDD)\".
[35] 3GPP TS 25.104: \"Base Station (BS) radio transmission and reception
(FDD)\".
[36] 3GPP TS 36.104: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Base Station (BS) radio transmission and reception\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply.\ A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply.\ An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
ACK Acknowledgement
BLER Block Error Rate
BS Base Station
CIoT Cellular Internet of Things
CN Core Network
CoAP Constrained Application Protocol
CP Cyclic Prefix
DL Downlink
DSP Digital Signal Processing
DTLS Datagram Transport Layer Security
GWCN Gateway Core Network
IC Integrated Circuit
IP Internet Protocol
IoT Internet of Things
LDO Low Differential Output
MAC Medium Access Control
MCL Maximum Coupling Loss
MOCN Multi-Operator Core Network
MTC Machine Type Communications
OFDMA Orthogonal Frequency Domain Multiple Access
PA Power Amplifier
PBCH Physical Broadcast Channel
PCB Printed Circuit Board
PCID Physical Cell ID
PDCCH Physical Downlink Control Channel
PDSCH Physical Downlink Shared Channel
PRACH Physical Random Access Channel
PSCH Physical Synchronization Channel
PSS Power Saving State
PUCCH Physical Uplink Control Channel
PUSCH Physical Uplink Shared Channel
RAM Random Access Memory
RAU Routing Area Update
RF Radio Frequency
RTC Real Time Clock
Rx Receive
SAP Service Access Point
SC-FDMA Single Carrier Frequency Domain Multiple Access
SINR Signal to Interference Plus Noise Ratio
SMS Short Message Service
SNDCP Subnetwork Dependent Convergence Protocol
TAU Tracking Area Update
TCXO Temperature Compensated Crystal Oscillator
TPSK Tone-Phase-Shift-Keying
TU Typical Urban
Tx Transmit
UDP User Datagram Protocol
UL Uplink
# 4 Objectives
## 4.1 Performance objectives
### 4.1.1 Improved indoor coverage
A number of applications require deployment of Machine Type Communication
(MTC) devices indoor, e.g. in an apartment basement, or on indoor equipment
that may be close to the ground floor etc. This effectively means that indoor
coverage should be readily available and reliable. It should be possible to
achieve an extended coverage of 20 dB compared to commercially available
legacy GPRS (Non EGPRS) devices. The assumption of the MCL for legacy GPRS
(Non EGPRS) is 144,0 dB (see Annex B). The extended coverage should allow
delivery of a data rate of at least 160 bps on both the uplink and downlink at
the (equivalent of) the Service Access Point (SAP) to the equivalent
SubNetwork Dependent Convergence Protocol (SNDCP) layer.
NOTE: The implications of supporting software upgrades for MTC devices at 160
bps should be investigated.
### 4.1.2 Support of massive number of low throughput devices
A system that can support a large number of devices, each generating a small
amount of data is required. At cell level, it is expected that each household
in a cell may have up to 40 MTC devices and the household density per cell is
according to the assumptions in Annex A of TR 36.888 [3]. The resulting MTC
device density per cell is provided in Annex E.
### 4.1.3 Reduced complexity
M2M applications require devices that are very cheap (so that they can be
deployed on a mass scale or in a disposable manner). The study should take
into consideration that MTC devices have very limited throughput requirement
and may not need to support circuit switched services to develop techniques
that can significantly reduce complexity and hence cost.
### 4.1.4 Improved power efficiency
The power consumption of MTC devices compared with legacy GPRS (non EGPRS)
should be reduced so that they can have up to ten years battery life with
battery capacity of 5 Wh (Watt-hours), even in locations with adverse coverage
conditions, where up to 20 dB coverage extension over legacy GPRS might be
needed.
### 4.1.5 Latency
M2M devices may in general support relaxed delay characteristics, and this may
be taken into account when evaluating e.g. system capacity.
Certain applications (e.g. alarms) may however require a reasonably strict
delay profile. For devices supporting such applications a delay requirement of
10 seconds is appropriate for the uplink when measured from the application
\'trigger event\' to the packet being ready for transmission from the base
station towards the core network.
## 4.2 Compatibility objectives
### 4.2.1 Co-existence
The Cellular IoT system should avoid negative impacts to legacy GSM/WCDMA/LTE
system(s) deployed in the same frequency band and adhere to the regulatory
**requirements which apply to the spectrum bands in which the system
operates.**
### 4.2.2 Implementation impact to base stations
Impacts to the GPRS/EDGE base station hardware should be minimized.
### 4.2.3 Implementation impact to mobile station
Mobile stations for Cellular IoT need not be compatible with legacy GPRS
networks.
# 5\. Evaluation methodology
## 5.1 Coverage improvement evaluation methodology
The Maximum Coupling Loss (MCL) is used as a measure of the coverage
performance. The methodology to evaluate the MCL is the same as in clause
5.2.1.2 in 3GPP TR 36.888 [1]. Table 5.1-1 summarizes the parameters and
method to calculate the MCL.
Table 5.1-1: MCL calculation methodology
+----------------------------------------------+---+---+ | Logical channel name | | | +----------------------------------------------+---+---+ | Data rate(kbps) | | | +----------------------------------------------+---+---+ | Transmitter | | | +----------------------------------------------+---+---+ | (1) Tx power (dBm) | | | +----------------------------------------------+---+---+ | Receiver | | | +----------------------------------------------+---+---+ | (2) Thermal noise density (dBm/Hz) | | | +----------------------------------------------+---+---+ | (3) Receiver noise figure (dB) | | | +----------------------------------------------+---+---+ | (4) Interference margin (dB) | | | +----------------------------------------------+---+---+ | (5) Occupied channel bandwidth (Hz) | | | +----------------------------------------------+---+---+ | (6) Effective noise power | | | | | | | | = (2) + (3) + (4) + 10 log ((5)) (dBm) | | | +----------------------------------------------+---+---+ | (7) Required SINR (dB) | | | +----------------------------------------------+---+---+ | (8) Receiver sensitivity = (6) + (7) (dBm) | | | +----------------------------------------------+---+---+ | (9) Rx processing gain | | | +----------------------------------------------+---+---+ | (10) MCL = (1) −(8) + (9) (dB) | | | +----------------------------------------------+---+---+
The assumptions for (1), (2), (3), (4) and (9) in Table 5.1-1 are summarized
in Table 5.1-2 below.
Table 5.1-2: Assumptions for MCL evaluations
* * *
No. Parameter Value 1 BS transmit power per 200KHz (dBm) See assumption 6 in
Table D.1 2 MS transmit power (dBm) See assumption 7 in Table D.1 3 Thermal
noise density (dBm/Hz) -174 4 BS Receiver noise figure (dB) 3 5 MS Receiver
noise figure (dB) 5 6 Interference margin (dB) 0 7 Receiver processing gain
(dB) 0 (See NOTE 1) NOTE: The Required SINR derived from link level
simulations already take into account the receiver processing gain.
* * *
The data rate is according to the requirements in subclause 4.1.1. The
occupied channel bandwidth (5) in Table 5.1-1 should be declared for the
solution under evaluation.
The MCL methodology in Table 5.1-1 does not apply for logical channels
relating to network synchronization and random access.
BLER target is 10% for all control channels.
The method to derive MCL for data traffic channels is described in clause 5.6.
The coverage extension performance is evaluated by comparing the MCL of the
proposed solution with a common MCL assumption for legacy GPRS (non EGPRS) of
144.0 dB (See Annex B).
The coverage performance evaluation for a candidate solution should include
all uplink and downlink logical channels relevant to that candidate solution.
If repetition and/or spreading are used to improve coverage for a logical
channel, the number of repetitions and/or spreading factor used to improve
coverage of a logical channel should be stated.
If frequency hopping is supported to improve coverage for a logical channel,
then the MCL both with and without frequency hopping will be evaluated for
that logical channel.
The coverage performance of the candidate solution is that of the logical
channel with the limiting MCL.
## 5.2 Capacity evaluation methodology
### 5.2.1 General approach
Capacity evaluation is done by running system level simulations using traffic
models defined in Annex E and the system level simulation assumptions in Annex
D.
The capacity metric is defined as spectral efficiency in number of reports/200
kHz/hour. The minimum system bandwidth should be defined for each candidate
solution and the system bandwidth assumed in any capacity performance
evaluation should also be declared.
### 5.2.2 Capacity evaluation based on MS generated user data
The capacity metric is evaluated by running system level simulations with
Mobile Autonomous Reporting (MAR) periodic traffic model and Network Command
traffic model (See Annex E on traffic models).
MAR exception reporting model (See Annex E) is not used for system capacity
evaluation.
Software update reconfiguration/update model (See Annex E) is not used
together with MAR periodic and Network Command in system level simulations.
For the purpose of system level simulation, a Gb architecture is assumed when
using traffic models.
The split of devices between MAR periodic and Network Command is MAR periodic
(80%) and Network Command (20%).
System level simulation for capacity evaluation should be repeated for the
following total protocol overhead assumptions i.e. including all protocols
below application layer and above equivalent of SNDCP layer (See table E.2-3
in Annex E).
\- A total protocol overhead of 65 bytes (without IP header compression).
\- A total protocol overhead of 29 bytes (with IP header compression).
### 5.2.3 Capacity analysis based on software update/reconfiguration model
The software update/reconfiguration model (See Annex E) is used to run
standalone system level simulations to understand the impact of such traffic
on the system capacity.
The DL traffic generated by the software update/reconfiguration model from
devices in a cell is assumed to be uniformly distributed over time.
For each DL software/reconfiguration application payload, it is assumed that
there is one UL application layer ACK. The size of the application layer ACK
size is zero. The total packet size (above equivalent of SNDCP layer) is the
overhead due to COAP/DTLS/UDP/IP. The UL application layer ACK is sent
immediately after the MS successfully receives a DL application packet. No
retransmission of the DL application packet and the UL application ACK is
required.
The evaluation metric for software update/reconfiguration is the resource
utilization on the uplink and the downlink to support the software
update/reconfiguration traffic, expressed as a proportion of total available
resource. Definition of resource and resource utilization can be candidate
solution specific but should be provided along with simulation results for
software update/reconfiguration.
## 5.3 Latency evaluation methodology
### 5.3.0 General
Applications expected to be supported on Cellular IoT are generally expected
to be delay tolerant and this relaxed latency requirement should be used in
the design of a system with ultralow complexity and extended coverage (in
building).
However, it is still important to understand the range of latencies that can
be expected in the system for delivering Mobile Autonomous Reporting Exception
reports which may be generated by alarm type applications that need to be
delivered in near real time.
The latency evaluation in this study is three fold:
\- analytical calculation of latency expected for MAR exception uplink
reports,
\- latency evaluation of uplink reports generated by MAR periodic in system
level simulations and
\- latency evaluation of the respective DL Application layer ACKs as part of
system level simulation for capacity evaluation.
### 5.3.1 Analytical calculation of latency for MAR exception uplink reports
Based on the assumption that exception reporting traffic will be prioritized
in the system, an analytical method is used (i.e. calculation of latency using
message sequence charts) under three different coverage conditions: GPRS
reference MCL+0dB, GPRS reference MCL+10 dB and the maximum achievable
coverage by the candidate technology. The latency is defined as follows:
\- Latency excludes time needed for system information (SI) reading (as this
is generally not required).
\- Latency includes the time for MS to synchronise to the network (refer to
subclause 5.6).
\- Latency includes the time for an access attempt from the device till the
time to successfully receive the application layer uplink (UL) payload at the
base station.
\- The evaluation should be made against the study item objective of 10
seconds (see subclause 4.1.5 when taking above aspects of network
synchronization, MS access attempt and payload delivery into account.
The data transmission latency is calculated as:
Latency ~for\ DATA\ transmission~ = T ~Synchronization~+ T ~Transmission~ + T
~Receiving~ +T ~Wait~
T ~Synchronization~:
\- The time for UE to synchronize to the network.
\- This value depends on the coverage condition (refer to subclause 5.6).
T ~Transmission~:
\- The transmitting time for any signalling and data.
\- The transmitting time will be derived for 90% and 99% confidence of
successful delivery.
\- Subclause 5.6 outlines how to derive the transmitting time for the packet
data traffic channel
T ~Receiving~:
\- The receiving time for any signalling and data. It should be highlighted
that the valid scheduling information receiving such as USF belonging to the
UE which is not included in an obvious signalling should be taken into
account.
Subclause 5.6 outlines how to derive the receiving time for the packet data
traffic channel.
The time for transmission and receiving is limited by:
\- The payload of application data and signalling as well as the
\- Coverage condition and consequently the MCS selected for a specific
solution and BLER
T ~Wait~:
  * The time between any transmission and receiving, and also the time between two consecutive transmission or receiving. The waiting time is relevant with the scheduling mechanism for a specific solution.
No retransmission is assumed for signalling, except for the case of the
associated control channel for packet data traffic channel when using approach
2 in subclause 5.6.
### 5.3.2 Latency evaluation for uplink reports generated by MAR periodic
Latency evaluation is done based on MAR periodic model (See Annex E) as part
of system level simulations for system capacity evaluation.
Latency definition for MAR UL periodic reporting is as follows:
\- Latency excludes time needed for SI reading (as this is generally not
required).
\- Latency includes the time for UE to synchronize to the network (refer to
Subclause 5.6).
\- Latency includes the time for an access attempt from the device till the
time to successfully receive the UL application layer payload at the base
station.
\- No specific latency requirement applies in this case.
### 5.3.3 Latency evaluation of downlink application layer ACKs for uplink
generated MAR periodic reports
Latency analysis is done for application layer DL ACK of uplink reports
generated by MAR periodic model (see Annex E) as part of system level
simulations for system capacity evaluation Latency is measured from the time
an application layer DL ACK is received at the base station (from the
application server) till the time when the device has successfully received
the application layer DL ACK..
No specific latency requirement applies in this case.
### 5.3.4 Network synchronization time
Network synchronization is defined as the equivalent of acquisition of
FCCH+SCH for GSM. Network synchronization is evaluated with one (equivalent
of) BCCH carrier for initial cell search and cell re-confirmation. The timing
of the broadcast carrier is assumed to be unknown, and uniformly distributed
for initial cell search.
The network synchronization will be evaluated at a coupling loss of 144 dB,
154 dB, and the MCL for the candidate proposal. No extra MCL margin is
required for network synchronization.
The detection rate (%) and false detection rate (%) of the network
synchronization will be provided.
The synchronization time, frequency accuracy and time accuracy after network
synchronization will be provided.
### 5.3.5 Random access delay
The random access delay is defined as the time from when the device
application triggers a first access request until the contention has been
resolved from the perspective of that device.
The random access delay from system level simulations will be presented as a
CDF over access delays for the two building penetration loss deployment
scenarios and traffic model(s) that have been agreed. The percentage of random
access attempts that fail in each scenario, not included in the CDF, will be
declared.
The false detection rate (%) of the access channel will be provided at the MCL
of the candidate technique.
## 5.4 Energy consumption evaluation methodology
The purpose of energy consumption analysis is to calculate the achievable
battery life for an MTC device using a specific candidate solution. A 5 Wh
battery capacity should be assumed, without consideration of battery leakage
impact since this depends on battery technology.
An example of the different events that affect energy consumption when an MS
has to send an IP packet and receive an IP acknowledgement for that packet is
shown in Figure 5.4-1.
Figure 5.4-1: Example of events affecting energy consumption for IP packet
exchange.
NOTE: Example in Figure 5.4-1 assumes GSM logical channels are used but the
actual logical channels for \'clean slate\' solutions may be different.
PSS denotes a Power Saving State such as that achieved with the Rel-12 Power
Save Mode feature. In Idle, the device may be consuming more power than in the
PSS state because, for example, it is maintaining a more accurate
time/frequency synchronization with the network.
The energy consumption methodology comprises of two steps:
1) Declaration of key input parameters as shown in Table 5.4-1.
Table 5.4-1: Key input parameters for energy consumption analysis
+---------+---------+---------+---------+---------+---------+---------+ | (1) | (2) | (3) | (4) | (5) | (6) | (7) | | Battery | Battery | Battery | Battery | Battery | Time | Number | | c | power | power | power | power | between | of | | apacity | during | for Rx\ | when | in | end of | reports | | | Tx | (mW) | Idle | Power | IP | per day | | (Wh) | | | but not | Save | packet | | | | (mW) | | in PSS | State | c | | | | | | (mW) | (PSS)\ | arrying | | | | | | | (mW) | \"r | | | | | | | | eport\" | | | | | | | | and | | | | | | | | start | | | | | | | | of IP | | | | | | | | packet | | | | | | | | c | | | | | | | | arrying | | | | | | | | \"ack\" | | | | | | | | on | | | | | | | | radio | | | | | | | | (ms) | | +---------+---------+---------+---------+---------+---------+---------+ | 5 | | | | [ | 1000 | | | | | | | 0,015] | | | +---------+---------+---------+---------+---------+---------+---------+ | For | | | | | | | | each | | | | | | | | report | | | | | | | | (refer | | | | | | | | to | | | | | | | | Figure | | | | | | | | 5.4-1): | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | (8) | (9) | (10) | (11) | | | | | Rx time | Idle | Tx time | Time | | | | | from | time | from | from | | | | | PSS | from | PSS | last Rx | | | | | exit to | PSS | exit to | or Tx | | | | | r | exit to | r | a | | | | | e-entry | r | e-entry | ctivity | | | | | into | e-entry | into | to | | | | | PSS | into | PSS | entry | | | | | | PSS | | into | | | | | (ms) | | (ms) | PSS^1^ | | | | | | (ms) | | | | | | | | | | (ms) | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | 20000 | | | | +---------+---------+---------+---------+---------+---------+---------+
2) The battery life is calculated as follows:
a. Energy consumed per data report:
e1 (mW×ms) = energy for Tx + energy for Rx + energy for tasks in idle\ = (10)
× (2) + (8) × (3) + (9) × (4)
E1 (Joules) = e1 / 1 000 000
b. Energy consumed per day:
E2 (Joules) = energy consumed per report × reports per day + energy in PSS per
day\ = E1× (7) + (5) ×3600*24/1000
e2 (Watt Hours) = E2/3600
c. Days of battery life:
D = battery energy capacity / energy consumed per day = (1)/e2
d. Years of battery life:
Y = D/365
NOTE: In order to permit a focus on optimized battery life, the 20 second
duration from last transmit/receive activity to entry into Power Save State
implies the use of a GPRS Ready State timer that is deliberately different to
the 44 second default value for T3314 (clause 11.2.2 of TS 24.008 [6]), and a
PSM-Active time that is probably different to the suggested value of \"2 DRX
cycles plus 10 seconds\" (clause 4.5.4 of TS 23.682 [7]). For the case where
REL-12 Power Saving Mode is used for PSS, the PSM-active timer is assumed to
be 0 and \'ready timer\' is 20s. Battery life analysis should be done as per
step 2 above. The energy consumed per report is dependent on the packet size
of the uplink transmission and downlink reception associated with a report and
the coverage condition of the device. The analysis is done for Mobile
Autonomous Reporting (MAR) periodic traffic for two packet sizes (with packet
size = application layer payload + COAP+DTLS+UDP+IP header overhead) of 50
bytes and 200 bytes and three coverage levels: GPRS reference MCL + 0dB, GPRS
MCL reference+10 dB and maximum achievable coverage of candidate technology.
_The assumption for DL packet size for battery life analysis (above equivalent
of SNDCP) is the header protocol overhead of COAP/DTLS/UDP/IP (either 29 bytes
or 65 bytes) i.e. DL application ACK size of zero bytes is assumed._
The average resource utilization needed for UL transmission of the MAR (IP
Report in figure 5.4-1) and for the reception of the corresponding DL
application ACK (IP Ack in figure 5.4-1) is derived using the methodology
described in subclause 5.2.
The energy consumed per day by each device is also dependent on the reporting
interval. Two reporting intervals of two hours and 24 hours are used in the
analysis.
Table 5.4-2 provides an example of how the battery life analysis can be
captured as a matrix for the different cases to be evaluated.
Table 5.4-2: Presentation of battery life analysis evaluation for 2 packet
sizes, 2 reporting intervals and 3 coverage levels
* * *
                                                Battery life/years (1 year = 365 days) for three coverage levels
Packet size, reporting interval combination Coupling Loss = GPRS reference MCL
+0 dB Coupling Loss = GPRS reference MCL+ 10 dB Coupling Loss = maximum
supported value 50 bytes, 2 hours  
200bytes, 2 hours  
50 bytes, 24 hours  
200 bytes, 24 hours
* * *
The power consumption in Power Save State is assumed to be [0.015] mW, which
only includes the contributions of a low power crystal, a minimal amount of
active circuitry such as timers, plus standby current leakage.
## 5.5 Complexity comparison methodology
### 5.5.1 General
The goals of the study item were to identify standardization options to meet
the requirements of an important future class of applications: providing
communications to very large numbers of devices forming part of the \"Internet
of Things\". One of those requirements relates to device cost, which is
influenced inter-alia by complexity: accordingly one of the goals was ultra-
low complexity.
A primary cost reduction factor for electronics products is \"economy of
scale\", which permit the design and production of cost-effective dedicated
\"Systems on Chip\" (SoC) by amortizing the fixed costs of development,
manufacture, logistics, software maintenance and so on across large numbers of
units. The cost of an SoC is determined by a number of factors including
complexity. Hardware complexity (e.g. numbers of logic gates, memory size)
translates to silicon die size: as the cost of processing a silicon wafer is
fixed, the more working dies that can be cut from the wafer the cheaper each
device is. Software complexity maps on to code size, which influences the
memory size required, which influences die cost in the same way. Ideally all
the functions required in a device, radio, analogue and digital, RAM and flash
memory, should be realized on one die or \"chip\". As feasible silicon
geometries get smaller (with the next generation of devices targeting feature
sizes of \~10 nanometres), it can get become difficult to integrate all these
functions on the same SoC die, so an older process may be more suitable from
an overall product point of view even though the pure \"digital\" functions
could be smaller in a newer, smaller geometry process. It should also be noted
that the cost of a device is not only influenced by the die size and the BoM
of its individual components but includes other aspects such as sourcing
costs, inventories, IPR costs and so on.
GSM technology is by far the most widely deployed global cellular technology
to date. GSM SoCs are therefore highly integrated to minimize the silicon cost
proportion of a terminal, and benefit from a huge economy of scale. If an
existing device may be adapted by software changes to an evolved GSM system
for cellular IoT this scale economy will also carry forward. An evolved
version of a GSM device for cellular IoT would benefit from the existing
advanced state of integration in its design, driven by this scale economy, to
fully deliver the benefits of the evolved system.
However, the projected quantities for Cellular IoT devices using any
technology whether evolved from an existing standard or a clean slate are very
high [5.5-1], and could easily outstrip even today\'s GSM volumes and
therefore attract a similar focus on cost and complexity reduction.
In \"M2M\" applications up to now, it is possible that the actual
communications device cost is a (very) small proportion of the total lifecycle
cost to the end-user (which is usually an organization rather than an
individual). Many other costs, including installation, connection and
subscription cost, air-time charges, maintenance and logistics costs, may be
much more significant though the balance between all the different cost
aspects may change with scale of deployment.
In addition the significance of a given cost element will be different for
different actors in the supply chain. As noted above, a semiconductor
vendor\'s costs are lowered by reducing silicon area as enabled by complexity
reduction. Today most cellular M2M / IoT applications are served using
cellular modules integrated as a component into a larger product, and module
manufacturers\' costs are heavily dependent on the basic SoC cost. As M2M
moves to IoT, cellular solutions will have to compete with many other radio
solutions that could be built into the \"things\" that are to be connected,
from standardized short-range technologies using generally license-exempt
spectrum to proprietary long-range systems (also using license-exempt
spectrum).
### 5.5.2 Principles
For each candidate system proposal the following complexity comparison
principles will be followed:
\- The analysis will be standalone: no comparisons between apparently similar
functional blocks in different candidates will be made.
\- Each system will be described in terms of its functional blocks, described
at the level that reviewers can understand their content and function and
carry out their own analysis. The details of the functional blocks are left
open since they will depend on the system details and proposed implementation.
\- DSP processing in terms of processor cycles / second may optionally be
indicated.
\- Proposals should specify what elements are on chip, and what external
components are used.
\- The assumed chip technology (process node) should optionally be identified.
\- For external components the key technical characteristics should be
identified, for example:
\- For memories, size and type (RAM, flash, etc.)
\- PA power / linearity (Class C, B, etc.)
\- Filters
\- Crystals (TCXO, RTC etc.)
### 5.5.3 Complexity metrics
Complexity will be measured according to the following aspects:
\- Silicon area estimate, including on-chip memory.
\- Indication of required gate density should optionally be given.
\- Relative area of RF and baseband functions.
\- List of external components.
\- Any special characteristics of external components specific to a system
proposal.
\- [Code space requirement.]
\- DSP cycles / second.
### 5.5.4 Exclusions
The following aspects of both on-chip and off-chip components will not be
considered as they are likely to be equivalent between solutions.
\- Power management, LDOs, charging, etc.
\- Interfaces related to application functionality.
\- Application processor hardware and memory.
\- IC packaging.
\- PCB / screens.
\- Connectors and other mechanics.
\- Antennas.
### 5.5.5 Comparison
The following aspects of complexity will be compared between system proposals.
\- Silicon area in absolute value or relative to the reference as in subclause
5.5.6.
\- Indicates complexity, but not direct cost difference.
\- If relevant, processor cycles / second.
\- External components
\- Number of components.
\- Any special requirements that affect relative cost.
### 5.5.6 GPRS reference
\- The same methodology is followed for the GPRS reference.
\- The assumed GPRS functionality will be: Multislot Class 10, quad-band, +33
dBm output power (GSM 850/900), +30 dBm (DCS1800/PCS1900).
## 5.6 Model for data traffic channel performance
To evaluate the data traffic channel performance, two different approaches are
defined:
\- Approach 1: Shall be used by candidate solutions that make use of an
initial message BLER of ≤ 10%
\- Approach 2: Shall be used by candidate solutions that make use of an
initial message BLER of > 10%
If using approach 1:
\- The MCL is derived directly from the required receiver SNR to achieve the
10% initial message BLER, and the throughput is also derived for this case.
\- Exception report latency is derived for the 90% and 99% confidence of
successful delivery, where the 99% case is approximated as one retransmission
(unless the initial message BLER is already ≤ 1%).
\- Battery life is derived by considering the average number of
retransmissions, which is approximated as the initial message BLER, i.e. in
this case the residual BLER after the first retransmission is approximated as
0%.
If using approach 2:
\- Link level modelling is used based on the block diagram in figure 5.6-1.
\- A link level simulator is used to follow the block diagram to correctly
capture channel correlation of both the traffic channel and the associated
control channel. This implies that the data traffic channel is limited in
coupling loss to where the control channel achieves 10% average block error
rate, see subclause 5.1.
\- Relevant errors other than for the user payload data block are to be
modelled. If HARQ is used for example, errors that are relevant for the HARQ
operation, such as dependency of header errors in order to do soft combining
shall be modeled.
\- e.g. for the EC-GSM DL PDTCH performance, erroneous RLC/MAC header or
Stealing Flag (SF) reception implies that no soft combining with previous
received blocks is possible. Also for the EC-GSM UL PDTCH performance, all
received RLC data blocks need to be confirmed by correct reception of Stealing
Flags (SF) and RLC/MAC header.
\- This model is used to derive the MCL, the latency at 90% and 99% confidence
of successful delivery, and the average number of retransmissions used for
battery lifetime estimation.
\- The 90^th^ and 99^th^ percentile latency of the data traffic channel (other
parts contributing to the overall exception report latency, such as network
synchronization, are not considered in this evaluation) is derived for
exception report latency.
\- The 90^th^ percentile throughput is derived from the size of the delivered
report and the transmission time delay CDF constructed from multiple channel
realizations. The throughput requirement applies to the 90^th^ percentile.
\- The average number of retransmissions (hence the resource utilization) is
used in the battery lifetime estimations.
{width="6.754861111111111in" height="3.9368055555555554in"}
Figure 5.6-1: Block diagram used for approach 2
# 6 Physical layer aspects and radio access protocols for concepts based on
evolution of GSM radio technology
## 6.1 Overall description
Evolving the existing GERAN system to cater for the additional requirements
coming from the objectives of this study (e.g. extended coverage and low-
complexity) will allow devices used in a Cellular System for Ultra Low
Complexity and Low Throughput Internet of Things to co-exist with devices in
existing GSM deployments. This implies that the same radio resources are
shared and that GSM to a large extent re-uses existing system design.
Furthermore, evolving the GERAN specification allows:
\- Support of existing network deployments, including different network
operations (for example multiband operation), non-hopping and hopping
channels, etc.
\- Existing specification to be reduced to the minimum requirements applicable
for Ultra Low Complexity and Low Throughput devices, such as reduced
modulation and coding schemes supported, limited mobility requirements,
reduced RLC/MAC functionality, reduced and simplified signalling procedures
and MS idle mode behaviour.
The following description of GERAN evolution concepts will outline which parts
of the GERAN specification that applies to devices used in a Cellular System
for Ultra Low Complexity and Low Throughput Internet of Things, and additional
changes to the specification required to cater for the new requirements of
these devices. In the following descriptions, these devices are referred to as
CIoT (Cellular Internet of Things) devices.
## 6.2 Extended Coverage for GSM (EC-GSM)
### 6.2.1 General
#### 6.2.1.1 Re-using existing design
The EC-GSM concept relies to a large extent on re-using existing design
principles in GSM, and only changing them when necessary to comply with the
study item objectives. Also, a reduction of functionality in the 3GPP GERAN
specification is chosen that minimizes implementation effort and complexity.
#### 6.2.1.2 Backwards compatibility and co-existence with GSM
The intention with re-using design principles in GSM is to allow for support
of these new CIoT devices in existing GSM deployments, multiplexing traffic
from legacy GSM devices and CIoT devices on the same physical channels.
The common control channels (CCCH) for EC-GSM need to be re-designed to
support a broadcast carrier reaching also devices in extended coverage. The
EC-CCCH for EC-GSM is mapped onto TS1 on the BCCH carrier, with an exception
for the EC-RACH that can be mapped on TS0 and/or TS1. Re-using existing
physical layer design ensures no impact on the radio units supporting GSM
already deployed in the field, as explained in subclause 6.2.6.11.
Re-using the existing design also allows the physical layer to support device
speed the same as supported today (in normal coverage).
#### 6.2.1.3 Achieving extended coverage
One of the objectives having most impact to the specification is the support
of extended coverage. The general principle to provide extended coverage is
using blind repetitions for the control channels and, for the data channels, a
combination of blind repetitions of the lowest MCS supported in EGPRS today,
i.e. MCS-1 and HARQ retransmissions. Support for extended coverage is realized
by defining different coverage classes. A device at a certain point in time
will belong to a specific coverage class. Different number of blind
repetitions is associated with different coverage classes. The number of total
blind transmissions for a given coverage class can differ between different
logical channels.
#### 6.2.1.4 Device capability
##### 6.2.1.4.1 Baseline support and optional features
Optional features supported by the GERAN specification could also optionally
be supported by a CIoT device. However, the minimum capability to be supported
by the device will be EGPRS, MCS-1-4. Additionally, the device will support
extended coverage and signalling procedures related to CIoT. To minimize
device energy consumption both PSM (Power Saving Mode) based operation, and
eDRX based reachability will be supported.
No support of CS related functionalities, nor support of GPRS, is foreseen as
mandatory.
##### 6.2.1.4.2 Output power classes
In the current GSM standard four different output power levels are supported
in the 900 band, see Table 6.2.1.4-1.
Table 6.2.1.4-1: Current MS output power levels
* * *
Power GSM 400 & GSM 900 & GSM 850 & GSM 700 class Nominal Maximum output power
1 ‑ ‑ ‑ ‑ ‑ ‑ 2 8 W (39 dBm) 3 5 W (37 dBm) 4 2 W (33 dBm) 5 0,8 W (29 dBm)
* * *
The typical output power class used is 33 dBm, and output power levels higher
than 2 W are typically not used for handheld devices. For EC-GSM, 33 dBm is
expected to be the maximum output power level to be used by the devices.
In order to integrate the PA onto the chip an alternative power class of [23]
dBm is added to the list of supported power classes in the table.
It is the intention that the same specification is to be followed by the new
power class, and hence its corresponding reduction in output power implies an
equal reduction in maximum UL coverage. It also implies that the same numbers
of coverage classes are defined both for devices using 23 dBm maximum output
power and for devices using 33 dBm maximum output power.
### 6.2.2 Downlink physical layer design
#### 6.2.2.1 Basic transmission scheme
##### 6.2.2.1.1 Re-using existing design
The physical layer design is to a large extent common with current GSM design.
Unless otherwise stated, this includes re-using existing:
\- Multiple access, timeslot and frame structure and channel organization, see
TS 45.001 [10].
\- Channel mapping, burst building, and burst multiplexing, see TS 45.002
[11].
\- Coding, reordering and partitioning, and interleaving, see TS 45.003 [12].
\- Differential encoding, and modulation, see TS 45.004 [13].
##### 6.2.2.1.2 New packet control channel format.
##### 6.2.2.1.2.1 General {#general-3 .H6}
In GSM the coding scheme CS-1 is extensively used, not only as the lowest
coding scheme in the GPRS set, but also in different packet control channels,
including for example PCH (CCCH/D), AGCH (CCCH/D), BCCH and PACCH.
For CIoT devices the amount of control signalling can be limited due to the
substantially reduced functionality envisioned. Hence, a new point-to-
multipoint control message and an associated coding block type have been
designed.
The compact control message is described in detail in subclause 6.2.2.1.2.2.
For the DL coding block type payload content of, 88 bits and 80 bits have been
defined for use on EC-CCCH/D and EC-PACCH/D respectively. For the UL a payload
size of 64 bits has been defined for use on EC-PACCH/U.
The payload is protected with an 18 bit CRC field, and a 1/3 convolutional
mother code to generate 114 and 116 punctured bits for EC-PACCH/D and EC-
CCCH/D respectively. Eight less punctured bits for EC-PACCH/D are used to
cater for the currently defined Stealing Flags and provide backwards
compatibility with existing GPRS and EGPRS implementations. For the EC-
PACCH/U, 116 punctured bits are generated.
The punctured bits are for EC-CCCH/D repeated over two burst, while the EC-
PACCH/D and EC-PACCH/U are repeated over four bursts to utilize the equivalent
resources of a CS-1 4-burst radio block.
EC-PCH, EC-AGCH and the EC-PACCH/D make use of the new packet control channel
format on the DL, while BCCH still uses CS-1 format.
##### 6.2.2.1.2.2 Detailed description {#detailed-description .H6}
The following is a description of the new packet control channel format,
following the nomenclature and description used in TS 45.003 [12].
##### 6.2.2.1.2.2.1 Packet control channels in extended coverage (EC-CCCH/D,
EC-PACCH) {#packet-control-channels-in-extended-coverage-ec-ccchd-ec-pacch
.H6}
##### 6.2.2.1.2.2.1.1 Block constitution {#block-constitution .H6}
The message delivered to the encoder on the DL has a fixed size of N
information bits {d(0),d(1),...,d(N-1)}, where:
\- EC-CCCH/D: N=88
\- EC-PACCH/D: N=80
\- EC-PACCH/U: N=64
##### 6.2.2.1.2.2.1.2 Data coding {#data-coding .H6}
a) Parity bits:
Eighteen data parity bits p(0),p(1),...,p(17) are defined in such a way that
in GF(2) the binary polynomial:
> d(0)DN+18-1 +...+ d(N-1)D18 + p(0)D17 +...+ p(17), when divided by:
>
> D18 + D17 + D14 + D13 + D11 + D10 + D8 + D7 + D6 + D3 + D2 + 1, yields a
> remainder equal to:
>
> D17 + D16 + D15 + D14 + D13 + D12 + D11 + D10 + D9 + D8 + D7 + D6 + D5 \+ D4
> + D3 + D2 + D + 1.
The parity bits are added after the block of N bits, the result being a block
of N+18 bits, {b(0),...,b(N+18-1)}, defined as:
> b(k) = d(k) for k = 0,1,...,N-1
>
> b(k) = p(k‑N) for k = N,...,N+18-1
b) Tail-biting convolutional encoder
> The six last bits are added before the block of N+18 bits, the result being
> a block of N+24 bits {c(‑6),...,c(0),c(1),...,c(N+18-1)} with six negative
> indices:
>
> c(k) = b(N+18+k) for k = -6,...,-1
>
> c(k) = b(k) for k = 0,1,...,N+18-1
>
> This block of N+24 bits is encoded with the 1/3 rate convolutional mother
> code defined by the polynomials:
>
> G4 = 1 + D2 + D3 + D5 + D6
>
> G7 = 1 + D + D2 + D3 + D6
>
> G5 = 1 + D + D4 + D6
>
> This results in a block of (N+18)*3 coded bits {C(0),...,C((N+18)*3-1)}
> defined by:
>
> C(3k) = c(k) + c(k‑2) + c(k‑3) + c(k‑5) + c(k‑6)
>
> C(3k+1) = c(k) + c(k‑1) + c(k‑2) + c(k‑3) + c(k‑6)
>
> C(3k+2) = c(k) + c(k‑1) + c(k‑4) + c(k‑6) for k = 0,1,..., N+18-1
The code is punctured in such a way that the following coded bits are not
transmitted:
+------------+--------------------------------------------------------+ | EC-CCCH/D | {C(k) for k = | | | floor(linspace(0,(N+18)*3-1,(N+18)*3-116)) (Matlab | | EC-PACCH/U | syntax used) | +------------+--------------------------------------------------------+ | EC-PACCH/D | {C(k) for k = | | | floor(linspace(0,(N+18)*3-1,(N+18)*3-114)) (Matlab | | | syntax used) | +------------+--------------------------------------------------------+
##### 6.2.2.1.2.2.1.3 Mapping on a Burst {#mapping-on-a-burst .H6}
##### 6.2.2.1.2.2.1.3.1 EC-CCCH/Dand EC-PACCH/U {#ec-ccchdand-ec-pacchu .H6}
> The mapping is given by the rule:
>
> For B = 0 and 1
>
> e(B, j) = C(j) for j = 0,1,...,115
##### 6.2.2.1.2.2.1.3.2 EC-PACCH/D {#ec-pacchd .H6}
> The mapping is given by the rule:
>
> For B = 0, 1, 2 and 3
>
> e(B, j) = C(j) for j = 0,1,...,113
#### 6.2.2.2 Physical layer procedure
##### 6.2.2.2.1 Cell detection
The cell detection for a CIoT device is based on detecting FCCH and decoding
EC-SCH as in current GSM operation. In extended coverage multiple FCCH
instances are expected to be acquired in order to detect the cell and to
provide a rough frequency and time estimation.
The FCCH resources used by CIoT devices is the same as in normal GSM operation
and hence no additional resource need to be allocated to support extended
coverage for FCCH.
In a second step of the cell detection, the Extended Coverage SCH (EC-SCH) is
decoded. The EC-SCH is mapped onto TS1 of the BCCH carrier, see subclause
6.2.4. To support blind repetitions, and hence transmitting multiple instances
of the same SCH block, a redefinition of the EC-SCH reduced frame number (RFN)
information will be considered.
The SCH contains per its current definition a 19 bit RFN defined as follows in
TS 45.002 [11];
\"_T1(11 bits) range 0 to 2047 = FN div ( 26 x 51)_
_T2 (5 bits) range 0 to 25 = FN mod 26_
_T3\' (3 bits) range 0 to 4 = (T3 ‑ 1) div 10_
_where_
_T3(6 bits) range 0 to 50 = FN mod 51_ \".
T1 identifies the position of the GSM superframe within the hyperframe.
(T3-T2) mod 26 defines the position of the 51-multiframe within the T1
superframe. T3 finally determines the frame position within the 51-multiframe.
Primarily a device needs to acquire the RFN to identify the occurrence of its
paging group. Considering that the set of extended DRX (eDRX) cycles proposed
for EC-GSM at maximum covers 13312 51-multiframes (\~52 minute eDRX cycle), or
1/4 of the entire TDMA FN space (i.e. a quarter hyperframe), it is sufficient
for T1\' to cover a range of 0 to 511 superframes.
T1\' (9 bits) range 0 to 511= 9 least significant bits of T1 = T1 mod 512
T1~MSB~ (2 bits) range 0 to 3 = 2 most significant bits of T1 = T1 div 512)
Immediately after accessing the network, the device will receive an immediate
assignment containing an indication of in what quarter hyperframe the last
part of the assignment message is received, thereby providing it with the
missing two most significant bits of T1 (i.e. T1~MSB~) not provided by the 9
bit T1\' field but required to determine the position of a GSM superframe (26
51-multiframes) within a hyperframe as per the legacy T1 field. Note that a
device will be able to determine the case where it receives an immediate
assignment message in a quarter hyperframe that occurs immediately after the
quarter hyperframe in which it acquired EC-SCH information thereby allowing it
to correctly determine the T1 value applicable to when it acquired the EC-SCH
information.
When repeating a single instance of the EC-SCH over a pair of two consecutive
51-multiframes T2 can be modified to signal on which pair of 51-multiframes in
the superframe the EC-SCH is transmitted. T2 can hence be redefined as T2\' as
follows;
T2\'(4 bits) range 0 to 12= (FN --T1*26*51) div 102
With these redefinitions devices need an indication T2\'\' of over which
51-multiframe border the EC-SCH information is changing. To cater for this,
the SCH is modulated using a modified GMSK modulation using a negative
modulation index h equal to -½ on odd numbered 51-multiframes. By detecting
the modulation index, using de-rotation of π/2 or -π/2, a mobile can determine
the value for T2\'\' (i.e. indicating if an EC-SCH burst is transmitted over
an even or odd numbered 51-multiframe.
T3\' is finally removed from the EC-SCH content, as a device in extended
coverage is able to detect which TDMA frame number (FN) an EC-SCH instance in
the 51-multiframes is configured on when considering the asymmetric
distribution of FCCH and EC-SCH blocks over the 51-multiframe on TS 0 and 1,
respectively.
With these new definitions a device attempting to read EC-SCH bursts on TS1
will be able to determine FN within a quarter hyperframe accuracy, denoted
FN~QH~ as follows;
FN~QH~ =(51 x 26 x T1) + (2 x 51 x T2\' + 51 x T2\'\') + T3\'\'
> where
>
> T1 and T2\' follows above definitions,
>
> T2\'\' is signalled trough the detected GMSK modulation index (gmi) and
> defined as
>
> T2\'\'(gmi = ½) = 0, for even 51-multiframes,
>
> T2\'\'(gmi = -½) = 1 for odd 51-multiframes.
T3\'\' has a value in the range {0, 1, 2, ...50} and will be determined by the
device through the known mapping of the FCCH onto specific TDMA frames within
the 51-multiframe
An alternative design of the EC-SCH has also been considered where a single
instance of the EC-SCH is repeated over four consecutive 51-multiframes. In
this case devices need an indication of over which 51-multiframe border the
EC-SCH information is changing. To cater for this, a circular shift is used of
the encoded bits of the EC-SCH message. The shift is written as:
_circ_shift(encoded_bits,N),_ where N is applied as in figure 6.2.4.2-1a.
With the alternative design, a device will be able to determine FN within a
quarter hyperframe accuracy, denoted FN~QH~ as;
FN~QH~ = (51 x 52 x T1\') + (4 x 51 x T2\' + 51 x T2\'\') + T3\'\'
where
T1\' (8 bits) range 0 to 255 = 8 least significant bits of T1 = T1 mod 256
Note: T1\' identifies one of 256 pairs of SFs within a quarter hyperframe)
T2\' (4 bits) range 0 to 12 = (FN div (51*4)) mod 13
Note: T2\' identifies a specific set of four contiguous 51-multiframes in a
pair of superframes)
T2\'\' (2 bits) range 0 to 3. Signalled through the cyclic shift pattern
> T3\'\' see above.
To conclude, after the decoding of EC-SCH to determine FN~QH~, the MS will
have knowledge about the overall frame structure except the two most
significant bits of T1, and the Base transceiver station identity code (BSIC).
The two most significant bits of T1 are acquired when receiving an immediate
assignment and then prepended to T1\' to form T1 which is then used to
determine the actual FN, denoted FN~ACT~, as follows;
> FN~ACT~ = (51 x 26 x T1) + (2 x 51 x T2\' + 51 x T2\'\') + T3\'\'
For more details, see Tdoc GPC150208 [6.2-4].After acquisition of EC-SCH, the
device acquires the CIoT specific System Information contained in the EC-BCCH.
It should finally be noted that an EC-GSM device in normal coverage may
optionally read the legacy SCH to optimize the RFN acquisition time.
##### 6.2.2.2.2 Scheduling
In both in normal coverage (equivalent to existing GSM operation) and extended
coverage the scheduling in the DL is done as per current GSM operation, i.e.
the device monitors the DL PDTCH for a radio block containing an RLC/MAC
header with the TFI value assigned to it.
##### 6.2.2.2.3 Link Adaptation
Downlink link adaptation is performed as in GSM today in the sense that the
network decides the modulation and coding scheme to be used for traffic
channels based on the reported quality and signal strength from the device.
When in extended coverage, the number of blind repetitions to be used by the
network will be based on the estimated DL coverage class by the device. In
case multiple modulation schemes are supported by the device the modulation is
blindly detected by symbol rotation angle, as per current GSM operation. It
should be noted that for the minimum device capability, see subclause 6.2.1.4,
no modulation detection is needed since only GMSK modulation is supported.
To keep device complexity and implementation low the radio link measurements
are performed according to GPRS principles, i.e. that the device reports the
RXLEV (received signal level strength) and RXQUAL (estimated bit error rate
probability).
##### 6.2.2.2.4 Power Control
Power control as used today on the DL is also expected to be used for CIoT
devices. In case a device is in extended coverage, full power is expected to
be used from the network side to minimize the need for repeated transmissions.
### 6.2.3 Uplink physical layer design
#### 6.2.3.1 Basic transmission scheme
##### 6.2.3.1.1 Re-using existing design
The physical layer design is to a large extent common with current GSM design.
Unless otherwise stated, this includes re-using existing:
\- Multiple access, timeslot and frame structure and channel organization, see
TS 45.001 [10].
\- Channel mapping, burst building, and burst multiplexing, see TS 45.002
[11].
\- Coding, reordering and partitioning, and interleaving, see TS 45.003 [12].
\- Differential encoding, and modulation, see TS 45.004 [13].
##### 6.2.3.1.2 New packet control channel format.
##### 6.2.3.1.2.1 General {#general-4 .H6}
A new control channel format is designed to be used in the UL. The new control
channel format on the UL is defined to carry 64 payload bits, and is mapped
onto four bursts.
The detailed description is provided in subclause 6.2.2.1.2.2.
##### 6.2.3.1.3 Overlaid CDMA
An overlaid CDMA technique is used to increase UL capacity. This technique
allows multiplexing of multiple users simultaneously on the same physical
channel. Orthogonality between multiplexed users is achieved through
orthogonal codes. More specifically each user repeats its blocks and applies
an assigned code sequence that is orthogonal to code sequences assigned to
other users. The code sequence elements are of unit amplitude and are applied
burst-wise, i.e. they correspond to applying a phase shift to each transmitted
burst. At the receiver side, the received blocks are phase shifted according
to the complex conjugate of the same code sequence, followed by addition of
the received samples. This will result in coherent accumulation of the desired
signal and cancellation of the others. By applying different code sequences on
the receiver side, the signals from the different users can be separated.
The code sequences can e.g. be the rows of a Hadamard matrix or a Fourier
matrix.
The overlaid CDMA technique is applied to the EC-PDTCH/U and its associated
control channel, EC-PACCH/U, and on the EC-RACH. In case of EC-RACH a code
sequence is selected by the device randomly (or in a predetermined manner
based on some MS identity).
The overlaid CDMA technique is evaluated for EC-PDTCH/U in subclause 6.2.6.7.
It is found that four users can be multiplexed with a CDMA code length of four
while multiplexing of eight users (using a code length of 16) gives a
performance degradation. To reduce complexity, the use of CDMA is therefore
restricted to code lengths of up to four, applied to bursts within a TDMA
frame. Restricting the overlaid CDMA code to be applied within a TDMA frame
also has the advantage that overlaid CDMA can be applied on frequency hopping
channels. In case more than four burst repetitions are used across multiple
TDMA frames, the same CDMA code word will be repeatedly used per TDMA frame.
NOTE 1: Whether MS and BSS support of overlaid CDMA is mandatory or optional
is FFS.
NOTE 2: Overlaid CDMA requires a controlled phase shift between bursts. A
controlled phase might not be possible to realize in all legacy GPRS devices.
Depending on the MS modulator implementation code sequences chosen from the
Hadamard matrix may be preferable (phase shift of 0 or 180 degrees) compared
to using the Fourier matrix (phase shift of 0, 90, 180 or 270 degrees).
#### 6.2.3.2 Physical layer procedure
##### 6.2.3.2.1 Random Access
The 11 bit access message format for the Random Access is re-used from
existing GSM access procedures and is supported by CIoT devices, carried by
the Access Burst (AB), see TS 45.002 [11] and TS 45.003 [12], and is
transmitted on TS1 in the UL. Extended coverage is achieved by blind
transmission up to 32 times.
The coding of the NB follows the definition in subclause 6.2.2.1.2.2 with the
difference that 40 payload bits, instead of 64 bits, are used and that 6
parity bits, instead of 18, are added to the information bits. Six parity bits
are also used today for the RACH, see subclause 4.6 in TS 45.003 [12], and the
principle of adding the BSIC bitwise modulo 2 to the parity bits is re-used.
To handle collision on the RACH, overlaid CDMA codes are used. Orthogonal
codes are used to separate users within a coverage class that tries to access
the system at the same time. See subclause 6.2.3.1.3 for more information.
##### 6.2.3.2.2 Uplink scheduling
For CIoT users on the UL the principle of fixed UL allocation is used. This is
a scheduling principle that has earlier been supported by the GERAN
specifications but was removed in Rel-5 due to lack of network
implementations/operation, see Tdoc GP-020645 [6.2-1]. By using fixed
allocation the need for the CIoT device to monitor the DL for USF is removed.
This does not only have a positive effect on device battery lifetime, but will
also avoid providing USF based scheduling at extended coverage. The USFs today
are transmitted in the radio block together with RLC Data, RLC/MAC Header and
Stealing Flags. By using a significantly lower signal bandwidth than symbol
rate, all modulation schemes used in GSM experiences Inter-Symbol-Interference
(ISI). Hence, if blindly repeating the USF in an attempt to achieve USF based
uplink transmissions for devices in extended coverage, while not blindly
repeating the RLC Data and RLC/MAC header, the USF performance will be
degraded by the interference of alternating other symbols and alternating
other bits within the symbol (in case the USF is not mapped onto full
modulation symbols) during the repetition period. This could be solved by
mandating the DL RLC Data and DL RLC/MAC Header to be repeated during the same
repetition period as the USF bits, but would imply coupling the DL and UL RRM
which is not practical as it imposes the restriction of scheduling uplink
transmissions from a device of a certain coverage class while simultaneously
sending downlink payload to a device of the same coverage class. Hence,
instead fixed UL allocation is used.
##### 6.2.3.2.3 Link Adaptation
Uplink link adaptation is performed as per current GSM operation, i.e. the
network commands the MCS to be used on the UL by the device, see TS 44.060
[14]. In extended coverage, MCS-1 is always used. The number of blind
transmissions used is determined by the coverage class the device belongs to,
see Table 6.2.4.2-1.
##### 6.2.3.2.4 Power Control
Uplink power control is performed as in GSM today, i.e. the network commands
the power level to be used on the UL by the device, see TS 44.060 [14]. In
extended coverage, full power is always used.
### 6.2.4 Link layer aspects
#### 6.2.4.1 Timing Advance
In current GSM systems Timing Advance (TA) is used to ensure the reception of
UL bursts aligned with the overall frame structure, avoiding inter-slot-
interference and limiting the synchronization window in the base station
receiver. The TA is initially estimated at the reception of the access burst
on the RACH, and commanded to the MS by the Immediate Assignment.
During the lifetime of the TBF the TA can be updated either by PACCH or by
continuous TA operation by the use of PTCCH/D and PTCCH/U. PTCCH make use of a
repetition length of 416 TDMA frames, which implies an update frequency of
once every two seconds (1,92 sec). If using PACCH based TA the update
frequency will be up to network implementation.
A timing advance value, within an accuracy of one symbol duration, is valid a
movement of around 500 m. Assuming the duration of a report (mobile autonomous
report or network triggered report) is up to 10 seconds, a device speed away
from the base station receiver of 180 km/h is still supported.
If a second report is to be transmitted by the device, then a second access
burst will be transmitted on the RACH, and consequently the TA will be
updated.
Hence, the use of TA via PTCCH to continuously tracking the timing advance
during the lifetime of the TBF will not be supported by CIoT devices. Tracking
the TA by PACCH is still an option.
#### 6.2.4.2 Mapping of logical channels onto physical channels
##### 6.2.4.2.1 General
The detailed mapping of logical channels onto physical channels is defined in
the following subclauses.
##### 6.2.4.2.2 FCCH
The FCCH is not changed compared to current FCCH mapping, and hence is mapped
to TS0 on the BCCH carrier every 10^th^ or 11^th^ frame. No additional
resources are required to reach users in extended coverage.
##### 6.2.4.2.3 EC-SCH
In current GSM each instance of SCH changes content since the content of SCH
is containing frame number indication. Considering that multiple instances
have to be received in order to decode the EC-SCH in extended coverage, the
content need to be the same in order to provide possibility for the receiver
to combine multiple transmissions.
The EC-SCH is, by default, transmitted on TS1 with the same burst content over
14 instances during 2 consecutive 51-multiframes.
{width="6.559722222222222in" height="0.5263888888888889in"}
Figure 6.2.4.2-1: EC-SCH mapping
An alternative EC-SCH design is, by default, transmitted on TS1 with the same
burst content over 28 instances during 4 consecutive 51-multiframes.
{width="6.55in" height="0.9715277777777778in"}
Figure 6.2.4.2-1a: Alternative EC-SCH mapping
##### 6.2.4.2.4 EC-BCCH
Considering the significant reduction possible in SI content for CIoT devices,
see subclause 6.2.5.3, a separate BCCH, called EC-BCCH is used for CIoT
devices. The EC-BCCH uses the same coding scheme as currently used by the
BCCH, i.e. CS-1.
The EC-BCCH is by default mapped onto TS1 using either one (EC-BCCH Normal) or
two (EC-BCCH Extended) blocks per 51-multiframe where an EC-BCCH block uses a
4 burst mapping as per the legacy BCCH on TS0. The content of the EC-BCCH is
transmitted over 16 51-multiframes.
{width="6.560416666666667in" height="0.9361111111111111in"}
{width="6.577083333333333in" height="0.9416666666666667in"}
Figure 6.2.4.2-2: EC-BCCH Normal (top) Extended (bottom) mapping
##### 6.2.4.2.5 EC-PCH
The EC-PCH is using a 2-burst mapping of the paging block (EC-PCH block)
described in subclause 6.2.2.1.2.2 and is by default mapped onto TS1. During a
51-multiframe, at most 16 instances of paging groups will occur. The higher
the coverage class, the lower number of paging group instances will occur,
with at minimum two instances for the higher coverage classes. The nominal
paging group of a device is mapped onto one, two or four 51-multiframe
depending on the coverage class, see Figure 6.2.4.2-3 and Table 6.2.4.2-1.
{width="6.483333333333333in" height="3.002083333333333in"}
Figure 6.2.4.2-3: EC-PCH mapping. CC1 (top), ..., CC6 (bottom)
The instance of the paging block to be monitor by the device is determined as
today by the IMSI of the device, the DRX cycle, and, in addition, the latest
downlink coverage class communicated to the network, see 6.2.4.3.2.
##### 6.2.4.2.6 EC-AGCH
The EC-AGCH is using a 2-burst mapping of the AGCH block (EC-AGCH block)
described in subclause 6.2.2.1.2.2 and is by default mapped onto TS1. During a
51-multiframe, at most 20 instances of access grant will occur. The higher the
coverage class, the lower number of access grant instances will occur, with at
minimum two instances for the higher coverage classes. The access grant is
mapped onto one, two or four 51-multiframe depending on the coverage class,
see Figure 6.2.4.2-4 and Table 6.2.4.2-1.
{width="6.5569444444444445in" height="3.036111111111111in"}
Figure 6.2.4.2-4: EC-AGCH mapping. CC1 (top), ..., CC6 (bottom)
##### 6.2.4.2.7 EC-RACH
For users in extended coverage, the EC-RACH is still used as a collision based
channel with each coverage class being mapped onto specific frame options. The
EC-RACH is repeated up to 32 times, allowing for up to around 6 accesses per
second for the worse coverage class device. The highest coverage class, CC6,
is mapped onto two 51-multiframes while all lower coverage classes are mapped
within one 51-multiframe.
The EC-RACH is by default mapped onto TS1, but as today in GSM, multiple EC-
CCCH operation can be supported, in which case TS3,5,7 can also be used for
EC-RACH.
{width="6.590277777777778in" height="2.4138888888888888in"}
Figure 6.2.4.2-5: EC-RACH mapping. CC1 (top), ..., CC6 (bottom)
##### 6.2.4.2.8 EC-PACCH
A new control block format for EC-PACCH is used by CIoT devices.
When in normal coverage, the new control block format is mapped onto the same
physical channels as current PACCH, and is operating in the current
52-multiframe structure.
When in extended coverage, the resource mapping is using multiple TS in a
single BTTI, and for some coverage classes, also multiple BTTIs. The resource
mapping per coverage class can be mapped in multiple ways onto the overall
TDMA frame structure, see Table 6.2.4.2-1, but the same number of TS and TTIs
are always used.
The new packet control block format used for both the DL and UL is defined in
subclause 6.2.2.1.2. and subclause 6.2.3.1.2 respectively. Each EC-PACCH block
uses a 4, 8 or 16 burst mapping on the same timeslot as shown in Figure
6.2.4.2-6.
{width="6.346527777777778in" height="3.026388888888889in"}
Figure 6.2.4.2-6: EC-PACCH mapping. CC1,CC2 (top),CC3, ..., CC6 (bottom)
For EC-PACCH transmission on the UL, a more compact burst format than
currently used when mapping the four radio blocks onto the physical resources
is used. The more compact burst mapping ensures the same burst is transmitted
consecutively, with no other bursts transmitted in-between. Using the current
burst mapping, this would only apply for CC5 and CC6 where the blind
transmissions are spread over more than 1 TTI. For example, for CC5 using the
current mapping the first burst is transmitted in TDMA frame N on TS0,1,2,3,
and on TDMA frame N+4 on TS0,1,2,3. With the compact mapping the first burst
is instead transmitted in TDMA frame N, and N+1 on TS0,1,2,3.
An EC-GSM device will not be able to interpret a legacy DL PACCH block since
it will attempt to decode DL PACCH blocks using a new block format defined for
EC-PACCH as described in [3]. In addition, an EC-GSM device will expect the
stealing flags to indicate CS-3 whenever a EC-GSM DL PACCH block is sent
whereas the stealing flags will indicate CS-1 or MCS-0 whenever a legacy DL
PACCH block is sent. Similarly, a legacy device will not be able to interpret
an EC-GSM DL PACCH block since its stealing flags will indicate CS-3 and it is
coded differently from both legacy PACCH blocks and legacy data blocks.
Legacy devices use T3190 to verify the ongoing arrival of downlink RLC data
blocks such that the extended absence of RLC data blocks is what leads to an
abnormal release of a DL TBF (i.e. when T3190 expires). As such, the inability
of a legacy device to interpret one or more DL radio blocks resulting from the
BSS transmitting EC-GSM DL PACCH blocks on timeslots it is monitoring will not
result in any operational problem.
##### 6.2.4.2.9 EC-PDTCH
The same packet data block format as used today for PDTCH is followed also for
EC-PDTCH.
The mapping of EC-PDTCH in normal coverage also follows the mapping used by
PDTCH/F today.
When in extended coverage (CC > 1) the same mapping options as for PACCH
apply, see figure 6.2.4.2-6 and Table 6.2.4.2-1. Compact burst mapping also
applies for CC5 and CC6, see subclause 6.2.4.2.8.
##### 6.2.4.2.10 Mapping table
To show the mapping of the logical channels onto physical channels in a more
condense form, the table format in TS 45.002 [11] is used. Table 6.2.4.2-1
lists the logical channels used by devices supporting extended coverage
operation. The channels are denoted with the prefix \'EC-\'. Existing channels
used by devices supporting extended coverage are also listed.
Table 6.2.4.2-1: Mapping of logical channels onto physical channels
+-------+------+-------+-------+-------+-------+-------+-------+ | Ch | Dir. | Allow | Allow | B | R | Cove | I | | annel | | able\ | able\ | urst\ | epeat | rage\ | nterl | | d | | time | RF | type | le | class | eaved | | esign | | slot\ | ch.\ | | ngth\ | | b | | ation | | ass. | ass. | | TDMA | \ | lock\ | | | | | | | f | (CC) | TDMA | | | | | | | rames | | frame | | | | | | | | | ma | | | | | | | | | pping | +-------+------+-------+-------+-------+-------+-------+-------+ | FC | D | 0 | C0 | FB | 51 | - | B0( | | CH^1^ | | | | | | | 0),B1 | | | | | | | | | (10), | | | | | | | | | B2(20 | | | | | | | | | ),B3( | | | | | | | | | 30),B | | | | | | | | | 4(40) | +-------+------+-------+-------+-------+-------+-------+-------+ | E | D | 1 | C0 | SB | 102 | - | B | | C-SCH | | | | | | | 0(0,1 | | | | | | | | | ,2,3, | | | | | | | | | 4,5,6 | | | | | | | | | +51 | | | | | | | | | N), | | | | | | | | | N=0,1 | +-------+------+-------+-------+-------+-------+-------+-------+ | Alt. | D | 1 | C0 | SB | 204 | - | B | | E | | | | | | | 0(0,1 | | C-SCH | | | | | | | ,2,3, | | | | | | | | | 4,5,6 | | | | | | | | | +51 | | | | | | | | | N), | | | | | | | | | N=0, | | | | | | | | | 1,2,3 | +-------+------+-------+-------+-------+-------+-------+-------+ | EC | D | 1, | C0 | NB | 816 | - | B0 | | -BCCH | | 3,5,7 | | | | | (7,8, | | Norm | | | | | | | 9,10+ | | | | | | | | | 51N), | | | | | | | | | N=0,. | | | | | | | | | ..,15 | +-------+------+-------+-------+-------+-------+-------+-------+ | EC | D | 1, | C0 | NB | 816 | - | B0(11 | | -BCCH | | 3,5,7 | | | | | ,12,1 | | Ext | | | | | | | 3,14+ | | | | | | | | | 51N), | | | | | | | | | N=0,. | | | | | | | | | ..,15 | +-------+------+-------+-------+-------+-------+-------+-------+ | E | D | 1, | C0 | NB | 51 | 1 | B0(1 | | C-PCH | | 3,5,7 | | | | | 9,20) | | | | | | | | | ,B1(2 | | | | | | | | | 1,22) | | | | | | | | | ,..., | | | | | | | | | B15(4 | | | | | | | | | 9,50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 51 | 2 | B0(19 | | | | | | | | | ,..., | | | | | | | | | 22),B | | | | | | | | | 1(23, | | | | | | | | | ...,2 | | | | | | | | | 6),.. | | | | | | | | | .,B7( | | | | | | | | | 47,.. | | | | | | | | | .,50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 51 | 3 | B0(19 | | | | | | | | | ,..., | | | | | | | | | 26),B | | | | | | | | | 1(27, | | | | | | | | | ...,3 | | | | | | | | | 4),.. | | | | | | | | | .,B3( | | | | | | | | | 43,.. | | | | | | | | | .,50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 51 | 4 | B0(1 | | | | | | | | | 9,... | | | | | | | | | ,34), | | | | | | | | | B1( | | | | | | | | | 35,.. | | | | | | | | | .,50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 102 | 5 | B0 | | | | | | | | | (19,. | | | | | | | | | ..,34 | | | | | | | | | + | | | | | | | | | 51N), | | | | | | | | | B1 | | | | | | | | | (35,. | | | | | | | | | ..,50 | | | | | | | | | + | | | | | | | | | 51N), | | | | | | | | | N=0,1 | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 204 | 6 | B0 | | | | | | | | | (19,. | | | | | | | | | ..,34 | | | | | | | | | + | | | | | | | | | 51N), | | | | | | | | | B1 | | | | | | | | | (35,. | | | | | | | | | ..,50 | | | | | | | | | + | | | | | | | | | 51N), | | | | | | | | | N=0, | | | | | | | | | 1,2,3 | +-------+------+-------+-------+-------+-------+-------+-------+ | EC | D | 1, | C0 | NB | 51 | 1 | B0(1 | | -AGCH | | 3,5,7 | | | | | 1,12) | | | | | | | | | ,B1(1 | | | | | | | | | 3,14) | | | | | | | | | ,..., | | | | | | | | | B19(4 | | | | | | | | | 9,50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 51 | 2 | B0(11 | | | | | | | | | ,..., | | | | | | | | | 14),B | | | | | | | | | 1(15, | | | | | | | | | ...,1 | | | | | | | | | 8),.. | | | | | | | | | .,B9( | | | | | | | | | 47,.. | | | | | | | | | .,50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 51 | 3 | B0(11 | | | | | | | | | ,..., | | | | | | | | | 18),B | | | | | | | | | 1(19, | | | | | | | | | ...,2 | | | | | | | | | 6),.. | | | | | | | | | .,B4( | | | | | | | | | 43,.. | | | | | | | | | .,50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 51 | 4 | B0(1 | | | | | | | | | 9,... | | | | | | | | | ,34), | | | | | | | | | B1( | | | | | | | | | 35,.. | | | | | | | | | .,50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 102 | 5 | B0 | | | | | | | | | (19,. | | | | | | | | | ..,34 | | | | | | | | | + | | | | | | | | | 51N), | | | | | | | | | B1 | | | | | | | | | (35,. | | | | | | | | | ..,50 | | | | | | | | | + | | | | | | | | | 51N), | | | | | | | | | N=0,1 | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 204 | 6 | B0 | | | | | | | | | (19,. | | | | | | | | | ..,34 | | | | | | | | | + | | | | | | | | | 51N), | | | | | | | | | B1 | | | | | | | | | (35,. | | | | | | | | | ..,50 | | | | | | | | | + | | | | | | | | | 51N), | | | | | | | | | N=0, | | | | | | | | | 1,2,3 | +-------+------+-------+-------+-------+-------+-------+-------+ | EC | U | 1, | C0 | AB, | 51 | 1 | B | | -RACH | | 3,5,7 | | NB | | | 0(0), | | | | | | | | | B1(1) | | | | | | | | | ,..B5 | | | | | | | | | 0(50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | | 2 | B0( | | | | | | | | | 0,1), | | | | | | | | | B1(2, | | | | | | | | | 3),.. | | | | | | | | | B24(4 | | | | | | | | | 8,49) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | | 3 | B0 | | | | | | | | | (0,.. | | | | | | | | | .,3), | | | | | | | | | B1(4, | | | | | | | | | ...,7 | | | | | | | | | ),.. | | | | | | | | | .B11( | | | | | | | | | 44,.. | | | | | | | | | .,47) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | | 4 | B0( | | | | | | | | | 0,... | | | | | | | | | ,7),B | | | | | | | | | 1(8,. | | | | | | | | | ..,15 | | | | | | | | | )..., | | | | | | | | | B5( | | | | | | | | | 40,.. | | | | | | | | | .,47) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | | 5 | B0(0, | | | | | | | | | ...,1 | | | | | | | | | 5),B1 | | | | | | | | | (16,. | | | | | | | | | ..,31 | | | | | | | | | ),B2( | | | | | | | | | 32,.. | | | | | | | | | .,47) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | 102 | 6 | B | | | | | | | | | 0(0,. | | | | | | | | | ..,15 | | | | | | | | | + | | | | | | | | | 51 | | | | | | | | | N),B1 | | | | | | | | | (16,. | | | | | | | | | ..,31 | | | | | | | | | + | | | | | | | | | 51 | | | | | | | | | N),B2 | | | | | | | | | (32,. | | | | | | | | | ..,47 | | | | | | | | | + | | | | | | | | | 51N) | | | | | | | | | , | | | | | | | | | N=0,1 | +-------+------+-------+-------+-------+-------+-------+-------+ | EC-P | D&U | 0...7 | C0 | NB | 52 | 1 | B | | ACCH, | | | ...Cn | | | | 0(0. | | | | | | | | | ..3), | | EC- | | | | | | | B | | PDTCH | | | | | | | 1(4. | | | | | | | | | ..7), | | | | | | | | | B2 | | | | | | | | | (8.. | | | | | | | | | .11), | | | | | | | | | B3( | | | | | | | | | 13.. | | | | | | | | | .16), | | | | | | | | | B4( | | | | | | | | | 17.. | | | | | | | | | .20), | | | | | | | | | B | | | | | | | | | 5(21. | | | | | | | | | .24), | | | | | | | | | B6( | | | | | | | | | 26.. | | | | | | | | | .29), | | | | | | | | | B7( | | | | | | | | | 30.. | | | | | | | | | .33), | | | | | | | | | B8( | | | | | | | | | 34.. | | | | | | | | | .37), | | | | | | | | | B9( | | | | | | | | | 39.. | | | | | | | | | .42), | | | | | | | | | B10( | | | | | | | | | 43.. | | | | | | | | | .46), | | | | | | | | | B11 | | | | | | | | | (47. | | | | | | | | | ..50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | | 2 | B | | | | | | | | | 0(0. | | | | | | | | | ..3), | | | | | | | | | B | | | | | | | | | 1(4. | | | | | | | | | ..7), | | | | | | | | | B2 | | | | | | | | | (8.. | | | | | | | | | .11), | | | | | | | | | B3( | | | | | | | | | 13.. | | | | | | | | | .16), | | | | | | | | | B4( | | | | | | | | | 17.. | | | | | | | | | .20), | | | | | | | | | B | | | | | | | | | 5(21. | | | | | | | | | .24), | | | | | | | | | B6( | | | | | | | | | 26.. | | | | | | | | | .29), | | | | | | | | | B7( | | | | | | | | | 30.. | | | | | | | | | .33), | | | | | | | | | B8( | | | | | | | | | 34.. | | | | | | | | | .37), | | | | | | | | | B9( | | | | | | | | | 39.. | | | | | | | | | .42), | | | | | | | | | B10( | | | | | | | | | 43.. | | | | | | | | | .46), | | | | | | | | | B11 | | | | | | | | | (47. | | | | | | | | | ..50) | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | | 3 | B0(0\ | | | | | | | | | ...3, | | | | | | | | | 0\ | | | | | | | | | '... | | | | | | | | | 3\'), | | | | | | | | | B1 | | | | | | | | | (4.. | | | | | | | | | .7,4\ | | | | | | | | | '... | | | | | | | | | 7\'), | | | | | | | | | B | | | | | | | | | 2(8. | | | | | | | | | ..11, | | | | | | | | | 8\' | | | | | | | | | ...1 | | | | | | | | | 1\'), | | | | | | | | | B | | | | | | | | | 3(13\ | | | | | | | | | ...16 | | | | | | | | | ,13\' | | | | | | | | | ...1 | | | | | | | | | 6\'), | | | | | | | | | B | | | | | | | | | 4(17\ | | | | | | | | | ...20 | | | | | | | | | ,17\' | | | | | | | | | ...2 | | | | | | | | | 0\'), | | | | | | | | | B5 | | | | | | | | | (21.. | | | | | | | | | 24,21 | | | | | | | | | \'..2 | | | | | | | | | 4\'), | | | | | | | | | B | | | | | | | | | 6(26\ | | | | | | | | | ...29 | | | | | | | | | ,26\' | | | | | | | | | ...2 | | | | | | | | | 9\'), | | | | | | | | | B | | | | | | | | | 7(30\ | | | | | | | | | ...33 | | | | | | | | | ,30\' | | | | | | | | | ...3 | | | | | | | | | 3\'), | | | | | | | | | B | | | | | | | | | 8(34\ | | | | | | | | | ...37 | | | | | | | | | ,34\' | | | | | | | | | ...3 | | | | | | | | | 7\'), | | | | | | | | | B | | | | | | | | | 9(39\ | | | | | | | | | ...42 | | | | | | | | | ,39\' | | | | | | | | | ...4 | | | | | | | | | 2\'), | | | | | | | | | B1 | | | | | | | | | 0(43\ | | | | | | | | | ...46 | | | | | | | | | ,43\' | | | | | | | | | ...4 | | | | | | | | | 6\'), | | | | | | | | | B11( | | | | | | | | | 47.. | | | | | | | | | .50,4 | | | | | | | | | 7\'. | | | | | | | | | ..50\ | | | | | | | | | ')^2^ | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | | 4 | B0 | | | | | | | | | (0.. | | | | | | | | | .3,0\ | | | | | | | | | '... | | | | | | | | | 3\',0 | | | | | | | | | \'\'\ | | | | | | | | | ...3\ | | | | | | | | | '\',0 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 3\'\' | | | | | | | | | \'),B | | | | | | | | | 1(4. | | | | | | | | | ..7,4 | | | | | | | | | \'.. | | | | | | | | | .7\', | | | | | | | | | 4\'\' | | | | | | | | | ...7 | | | | | | | | | \'\', | | | | | | | | | 4\'\' | | | | | | | | | \'.. | | | | | | | | | .7\'\ | | | | | | | | | '\'), | | | | | | | | | B | | | | | | | | | 2(8. | | | | | | | | | ..11, | | | | | | | | | 8\' | | | | | | | | | ...1 | | | | | | | | | 1\',8 | | | | | | | | | \'\'\ | | | | | | | | | ...11 | | | | | | | | | \'\', | | | | | | | | | 8 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 11\'\ | | | | | | | | | '\'), | | | | | | | | | B3(1 | | | | | | | | | 3... | | | | | | | | | 16,13 | | | | | | | | | \'.. | | | | | | | | | .16\' | | | | | | | | | ,13\' | | | | | | | | | \'.. | | | | | | | | | .16\' | | | | | | | | | \',13 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 16\'\ | | | | | | | | | '\'), | | | | | | | | | B4(1 | | | | | | | | | 7... | | | | | | | | | 20,17 | | | | | | | | | \'.. | | | | | | | | | .20\' | | | | | | | | | ,17\' | | | | | | | | | \'.. | | | | | | | | | .20\' | | | | | | | | | \',17 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 20\'\ | | | | | | | | | '\'), | | | | | | | | | B | | | | | | | | | 5(21. | | | | | | | | | .24,2 | | | | | | | | | 1\'.. | | | | | | | | | 24\', | | | | | | | | | 21\'\ | | | | | | | | | '..24 | | | | | | | | | \'\', | | | | | | | | | 21\'\ | | | | | | | | | '\'.. | | | | | | | | | 24\'\ | | | | | | | | | '\'), | | | | | | | | | B6(2 | | | | | | | | | 6... | | | | | | | | | 29,26 | | | | | | | | | \'.. | | | | | | | | | .29\' | | | | | | | | | ,26\' | | | | | | | | | \'.. | | | | | | | | | .29\' | | | | | | | | | \',26 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 29\'\ | | | | | | | | | '\'), | | | | | | | | | B7(3 | | | | | | | | | 0... | | | | | | | | | 33,30 | | | | | | | | | \'.. | | | | | | | | | .33\' | | | | | | | | | ,30\' | | | | | | | | | \'.. | | | | | | | | | .33\' | | | | | | | | | \',30 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 33\'\ | | | | | | | | | '\'), | | | | | | | | | B8(3 | | | | | | | | | 4... | | | | | | | | | 37,34 | | | | | | | | | \'.. | | | | | | | | | .37\' | | | | | | | | | ,34\' | | | | | | | | | \'.. | | | | | | | | | .37\' | | | | | | | | | \',34 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 37\'\ | | | | | | | | | '\'), | | | | | | | | | B9(3 | | | | | | | | | 9... | | | | | | | | | 42,39 | | | | | | | | | \'.. | | | | | | | | | .42\' | | | | | | | | | ,39\' | | | | | | | | | \'.. | | | | | | | | | .42\' | | | | | | | | | \',39 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 42\'\ | | | | | | | | | '\'), | | | | | | | | | B10(4 | | | | | | | | | 3... | | | | | | | | | 46,43 | | | | | | | | | \'.. | | | | | | | | | .46\' | | | | | | | | | ,43\' | | | | | | | | | \'.. | | | | | | | | | .46\' | | | | | | | | | \',43 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 46\'\ | | | | | | | | | '\'), | | | | | | | | | B1 | | | | | | | | | 1(47\ | | | | | | | | | ...50 | | | | | | | | | ,47\' | | | | | | | | | ...5 | | | | | | | | | 0\',4 | | | | | | | | | 7\'\' | | | | | | | | | ...5 | | | | | | | | | 0\'\' | | | | | | | | | ,47\' | | | | | | | | | \'\'\ | | | | | | | | | ...50 | | | | | | | | | \'\'\ | | | | | | | | | ')^3^ | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | | 5 | B0(0 | | | | | | | | | ...7 | | | | | | | | | ,0\'\ | | | | | | | | | ...7\ | | | | | | | | | ',0\' | | | | | | | | | \'.. | | | | | | | | | .7\'\ | | | | | | | | | ',0\' | | | | | | | | | \'\'\ | | | | | | | | | ...7\ | | | | | | | | | '\'\' | | | | | | | | | ),B1( | | | | | | | | | 8... | | | | | | | | | 11,13 | | | | | | | | | ...16 | | | | | | | | | ,8\'\ | | | | | | | | | ...11 | | | | | | | | | \',13 | | | | | | | | | \'... | | | | | | | | | 16\', | | | | | | | | | 8\'\' | | | | | | | | | ...1 | | | | | | | | | 1\'\' | | | | | | | | | ,13\' | | | | | | | | | \'... | | | | | | | | | 16\'\ | | | | | | | | | ',8\' | | | | | | | | | \'\'\ | | | | | | | | | ...11 | | | | | | | | | \'\'\ | | | | | | | | | ',13\ | | | | | | | | | '\'\' | | | | | | | | | ,..., | | | | | | | | | 16\'\ | | | | | | | | | '\'), | | | | | | | | | B2 | | | | | | | | | (17. | | | | | | | | | ..24, | | | | | | | | | 17\'\ | | | | | | | | | ...24 | | | | | | | | | \',17 | | | | | | | | | \'\'\ | | | | | | | | | ...24 | | | | | | | | | \'\', | | | | | | | | | 17 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 24\'\ | | | | | | | | | '\'), | | | | | | | | | B3(2 | | | | | | | | | 6... | | | | | | | | | 33,26 | | | | | | | | | \'.. | | | | | | | | | .33\' | | | | | | | | | ,26\' | | | | | | | | | \'.. | | | | | | | | | .33\' | | | | | | | | | \',26 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 33\'\ | | | | | | | | | '\'), | | | | | | | | | B4(34 | | | | | | | | | ...3 | | | | | | | | | 7,39. | | | | | | | | | ..42, | | | | | | | | | 34\'\ | | | | | | | | | ...37 | | | | | | | | | \',39 | | | | | | | | | \'... | | | | | | | | | 42\', | | | | | | | | | 34\'\ | | | | | | | | | '... | | | | | | | | | 37\'\ | | | | | | | | | ',39\ | | | | | | | | | '\'.. | | | | | | | | | .42\' | | | | | | | | | \',34 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 37\'\ | | | | | | | | | '\',3 | | | | | | | | | 9\'\' | | | | | | | | | \'... | | | | | | | | | 42\'\ | | | | | | | | | '\'), | | | | | | | | | B5( | | | | | | | | | 43..5 | | | | | | | | | 0,43\ | | | | | | | | | '..50 | | | | | | | | | \',43 | | | | | | | | | \'\'. | | | | | | | | | .50\' | | | | | | | | | \',43 | | | | | | | | | \'\'\ | | | | | | | | | '..50 | | | | | | | | | \'\'\ | | | | | | | | | ')^3^ | +-------+------+-------+-------+-------+-------+-------+-------+ | | | | | | | 6 | B0( | | | | | | | | | 0... | | | | | | | | | 11,13 | | | | | | | | | ...16 | | | | | | | | | ,0\'\ | | | | | | | | | ...11 | | | | | | | | | \',13 | | | | | | | | | \'... | | | | | | | | | 16\', | | | | | | | | | 0\'\' | | | | | | | | | ...1 | | | | | | | | | 1\'\' | | | | | | | | | ,13\' | | | | | | | | | \'... | | | | | | | | | 16\'\ | | | | | | | | | '\',0 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 11\'\ | | | | | | | | | '\',1 | | | | | | | | | 3\'\' | | | | | | | | | \'... | | | | | | | | | 16\'\ | | | | | | | | | '\'), | | | | | | | | | B1(17 | | | | | | | | | ...2 | | | | | | | | | 4,26. | | | | | | | | | ..33, | | | | | | | | | 17\'\ | | | | | | | | | ...24 | | | | | | | | | \',26 | | | | | | | | | \'... | | | | | | | | | 33\', | | | | | | | | | 17\'\ | | | | | | | | | '... | | | | | | | | | 24\'\ | | | | | | | | | ',26\ | | | | | | | | | '\'.. | | | | | | | | | .33\' | | | | | | | | | \',17 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 24\'\ | | | | | | | | | '\',2 | | | | | | | | | 6\'\' | | | | | | | | | \'... | | | | | | | | | 33\'\ | | | | | | | | | '\'), | | | | | | | | | B2(3 | | | | | | | | | 4... | | | | | | | | | 37,39 | | | | | | | | | \'.. | | | | | | | | | .50\' | | | | | | | | | ,34\' | | | | | | | | | \'.. | | | | | | | | | .37\' | | | | | | | | | \',39 | | | | | | | | | \'\'\ | | | | | | | | | '... | | | | | | | | | 50\'\ | | | | | | | | | '\'), | | | | | | | | | B3( | | | | | | | | | 34.. | | | | | | | | | .37,3 | | | | | | | | | 9\'. | | | | | | | | | ..50\ | | | | | | | | | ',34\ | | | | | | | | | '\'. | | | | | | | | | ..37\ | | | | | | | | | '\',3 | | | | | | | | | 9\'\' | | | | | | | | | \'.. | | | | | | | | | .50\' | | | | | | | | | \'\') | +-------+------+-------+-------+-------+-------+-------+-------+ | NOTE | | | | | | | | | 1: | | | | | | | | | The | | | | | | | | | ma | | | | | | | | | pping | | | | | | | | | is | | | | | | | | | iden | | | | | | | | | tical | | | | | | | | | to | | | | | | | | | FCCH | | | | | | | | | and | | | | | | | | | uses | | | | | | | | | the | | | | | | | | | same | | | | | | | | | resou | | | | | | | | | rces. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 2: A | | | | | | | | | PDTCH | | | | | | | | | is | | | | | | | | | m | | | | | | | | | apped | | | | | | | | | onto | | | | | | | | | two | | | | | | | | | P | | | | | | | | | DCHs. | | | | | | | | | N | | | | | | | | | umber | | | | | | | | | n | | | | | | | | | indi | | | | | | | | | cates | | | | | | | | | ma | | | | | | | | | pping | | | | | | | | | on | | | | | | | | | the | | | | | | | | | PDCH | | | | | | | | | with | | | | | | | | | the | | | | | | | | | l | | | | | | | | | owest | | | | | | | | | tim | | | | | | | | | eslot | | | | | | | | | n | | | | | | | | | umber | | | | | | | | | in | | | | | | | | | TDMA | | | | | | | | | frame | | | | | | | | | n, | | | | | | | | | wh | | | | | | | | | ereas | | | | | | | | | n | | | | | | | | | umber | | | | | | | | | n\' | | | | | | | | | indi | | | | | | | | | cates | | | | | | | | | ma | | | | | | | | | pping | | | | | | | | | on | | | | | | | | | the | | | | | | | | | PDCH | | | | | | | | | with | | | | | | | | | the | | | | | | | | | hi | | | | | | | | | ghest | | | | | | | | | tim | | | | | | | | | eslot | | | | | | | | | n | | | | | | | | | umber | | | | | | | | | in | | | | | | | | | TDMA | | | | | | | | | frame | | | | | | | | | n. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 3: A | | | | | | | | | PDTCH | | | | | | | | | is | | | | | | | | | m | | | | | | | | | apped | | | | | | | | | onto | | | | | | | | | four | | | | | | | | | P | | | | | | | | | DCHs. | | | | | | | | | N | | | | | | | | | umber | | | | | | | | | n | | | | | | | | | indi | | | | | | | | | cates | | | | | | | | | ma | | | | | | | | | pping | | | | | | | | | on | | | | | | | | | the | | | | | | | | | PDCH | | | | | | | | | with | | | | | | | | | the | | | | | | | | | l | | | | | | | | | owest | | | | | | | | | tim | | | | | | | | | eslot | | | | | | | | | n | | | | | | | | | umber | | | | | | | | | in | | | | | | | | | TDMA | | | | | | | | | frame | | | | | | | | | n, | | | | | | | | | wh | | | | | | | | | ereas | | | | | | | | | n | | | | | | | | | umber | | | | | | | | | n\', | | | | | | | | | n | | | | | | | | | \'\', | | | | | | | | | and | | | | | | | | | n\ | | | | | | | | | '\'\' | | | | | | | | | indi | | | | | | | | | cates | | | | | | | | | ma | | | | | | | | | pping | | | | | | | | | on | | | | | | | | | the | | | | | | | | | PDCH | | | | | | | | | with | | | | | | | | | the | | | | | | | | | s | | | | | | | | | econd | | | | | | | | | lo | | | | | | | | | west, | | | | | | | | | s | | | | | | | | | econd | | | | | | | | | hig | | | | | | | | | hest, | | | | | | | | | and | | | | | | | | | hi | | | | | | | | | ghest | | | | | | | | | tim | | | | | | | | | eslot | | | | | | | | | n | | | | | | | | | umber | | | | | | | | | in | | | | | | | | | TDMA | | | | | | | | | frame | | | | | | | | | n | | | | | | | | | res | | | | | | | | | pecti | | | | | | | | | vely. | | | | | | | | +-------+------+-------+-------+-------+-------+-------+-------+
#### 6.2.4.3 Operation of channels and channel combinations
##### 6.2.4.3.1 Paging Groups and Coverage Classes
In order to avoid paging groups corresponding to different coverage classes
being spread out in time, the nominal paging groups supported within a given
eDRX cycle for a given device (IMSI) are always identified, irrespective of
the coverage class the device belongs to, by using the EC-PCH block associated
with DL CC 1 (normal coverage).
To determine the nominal paging group for higher coverage classes, for the
same device and eDRX cycle, the EC-PCH block of CCX is always chosen to
contain the EC-PCH block of CC1.
For example, if the EC-PCH resources used on the EC-PCH for coverage class 5
is defined as EC-PCH~CC5~, then EC-PCH~CC1~ will be a subset of EC-PCH~CC5~.
This is illustrated in table 6.2.4.3-1 below where an example of how to map
the logical EC-PCH channel onto physical resource within the 51-multiframe
structure is shown. As can be seen in this example, the nominal paging group
for the EC-PCH block for a specific CIoT device in CC1 is shown by black
background color, and is mapped onto TDMA frame 21 and 22. As can be seen, the
same frames are included in all other EC-PCH blocks used for the nominal
paging groups of all higher coverage classes that could be used by the same
device for a given eDRX cycle. This example is also illustrated in Figure
6.2.4.3-1. For more information on the mapping of logical channels onto
physical channels, see subclause 6.2.4.2.5.
Table 6.2.4.3-1: Example of EC-PCH blocks used for the nominal paging group of
a specific CIoT device for different coverage classes (CCs)
+------------+------+------------+-----------+------------+---+ | Channel | Dir. | Repeat | Coverage\ | I | | | d | | length\ | class | nterleaved | | | esignation | | TDMA | | block\ | | | | | frames | (CC) | TDMA frame | | | | | | | mapping | | +------------+------+------------+-----------+------------+---+ | EC-PCH | D | 51 | 1 | B0(19 | | | | | | | ,20),B1(21 | | | | | | | ,22)),..., | | | | | | | B15(49,50) | | +------------+------+------------+-----------+------------+---+ | | | 51 | 2 | B0(19 | | | | | | | ,...,22),B | | | | | | | 1(23,...,2 | | | | | | | 6),...,B7( | | | | | | | 47,...,50) | | +------------+------+------------+-----------+------------+---+ | | | 51 | 3 | B0(19 | | | | | | | ,...,26),B | | | | | | | 1(27,...,3 | | | | | | | 4),...,B3( | | | | | | | 43,...,50) | | +------------+------+------------+-----------+------------+---+ | | | 51 | 4 | B0(1 | | | | | | | 9,...,34), | | | | | | | B1( | | | | | | | 35,...,50) | | +------------+------+------------+-----------+------------+---+ | | | 102 | 5 | B0 | | | | | | | (19,...,34 | | | | | | | + 51N), | | | | | | | B1 | | | | | | | (35,...,50 | | | | | | | + 51N), | | | | | | | N=0,1 | | +------------+------+------------+-----------+------------+---+ | | | 204 | 6 | B0 | | | | | | | (19,...,34 | | | | | | | + 51N), | | | | | | | B1 | | | | | | | (35,...,50 | | | | | | | + 51N), | | | | | | | N=0,1,2,3 | | +------------+------+------------+-----------+------------+---+
By this it is ensured that the set of EC-PCH blocks of interest for any given
coverage class will always be located within 4 51-multiframes (i.e. the
maximum duration of the paging group of the worse coverage class) from the EC-
PCH CC1 block
##### 6.2.4.3.2 Determination of PAGING_GROUP
When sending a paging request to a BSS, the SGSN includes an indication of the
eDRX cycle, DL CC and IMSI associated with the target device thereby allowing
the BSS to determine the next occurrence of the nominal paging group for that
device within its eDRX cycle as follows:
\- N is the number of paging groups corresponding to a given DL CC within a
given eDRX cycle and is determined based on EXTENDED_DRX_MFRMS,
EC_PCH_BLKS_MFRM, and CC_EC_PCH_BLKS where:
\- EXTENDED_DRX_MFRMS is the number of 51-multiframes per eDRX cycle
determined as per Table 6.2.4.3-2 below.
\- EC_PCH_BLKS_MFRM indicates the number of EC-PCH blocks (i.e. the number of
2 bursts blocks) per 51-multiframe. For EC-GSM this can be fixed at 16 which
is the equivalent of the legacy PCH_BLKS_MFRM parameter indicating 8 PCH
blocks per 51-multiframe.
\- CC_EC_PCH_BLKS is the number of EC-PCH blocks required for a given DL CC
(where the number of blind repetitions required for any given DL CC is pre-
defined by the specifications).
\- The set of eDRX cycle lengths identified by Table 6.2.4.3-2 is selected
such that each member of the set occurs an integral number of times within the
full TDMA FN space.
\- N = (EC_PCH_BLKS_MFRM x EXTENDED_DRX_MFRMS)/CC_EC_PCH_BLKS. The EC-PCH CC1
block for a device using a given eDRX cycle is determined based on where the
nominal paging group occurs for DL CC = 1 (i.e. CC_EC_PCH_BLKS = 1)
\- EC-PCH CC1 block = mod (IMSI, N) where N = (16 x EXTENDED_DRX_MFRMS)/1.
Table 6.2.4.3-2: Set of eDRX Cycles Supported
+----------------+----------------+----------------+----------------+ | eDRX Cycle | Target eDRX | Number of | eDRX Cycles | | Value | Cycle Length | 51-MF per eDRX | per TDMA FN | | ( | | Cycle | Space | | EXTENDED_DRX) | | (EXTENDE | | | | | D_DRX_MFRMS) | | +----------------+----------------+----------------+----------------+ | 0000 | \~1.9 seconds | 8 | 6656 | +----------------+----------------+----------------+----------------+ | 0001 | \~3.8 seconds | 16 | 3328 | +----------------+----------------+----------------+----------------+ | 0010 | \~7.5 seconds | 32 | 1664 | +----------------+----------------+----------------+----------------+ | 0011 | \~12.2 seconds | 52 | 1024 | +----------------+----------------+----------------+----------------+ | 0100 | \~24.5 seconds | 104 | 512 | +----------------+----------------+----------------+----------------+ | 0101 | \~49 seconds | 208 | 256 | +----------------+----------------+----------------+----------------+ | 0110 | \~1.63 minutes | 416 | 128 | +----------------+----------------+----------------+----------------+ | 0111 | \~3.25 minutes | 832 | 64 | +----------------+----------------+----------------+----------------+ | 1000 | \~6.5 minutes | 1664 | 32 | +----------------+----------------+----------------+----------------+ | 1001 | \~13 minutes | 3328 | 16 | +----------------+----------------+----------------+----------------+ | 1010 | \~26 minutes | 6656 | 8 | +----------------+----------------+----------------+----------------+ | 1011 | \~52 minutes | 13312 | 4 | +----------------+----------------+----------------+----------------+ | Note 1: 53248 | | | | | 51-multiframes | | | | | occur with the | | | | | TDMA FN space | | | | | (2715648 TDMA | | | | | frames). | | | | | | | | | | Note 2: All | | | | | remaining | | | | | EXTENDED_DRX | | | | | values are | | | | | reserved. | | | | +----------------+----------------+----------------+----------------+
Example:
\- IMSI = 00000000 10001001 00110000 00000001 = 4796417 and EXTENDED_DRX_MFRMS
= 6656 (i.e. the eDRX cycle \~ 26 minutes)
\- N = 16 * 6656 = 106496
\- CC1 Nominal Paging Group = mod (IMSI, 106496) = 4097 which occurs in the
4098^th^ EC-PCH block of the eDRX cycle (i.e. in the 2^nd^ EC-PCH block in
51-multiframe #257
\- The nominal paging groups associated with other DL CC for the same IMSI and
eDRX cycle length are as shown in Figure 6.2.4.3-1 (e.g. the nominal paging
group for DL CC 2 occurs in the 1^st^ and 2^nd^ EC-PCH blocks of 51-multiframe
#257)
{width="5.6875in" height="1.2708333333333333in"}
Figure 6.2.4.3-1: Coverage Class Specific Paging Groups per Example 1
As can be seen in Figure 6.2.4.3-1, using this method for establishing DL CC
specific nominal paging groups for a given eDRX cycle ensures that for a given
IMSI the nominal paging groups associated with all possible DL CC will fall
within 4 51-multiframes of the EC-PCH CC1 block. As such, if a device sends a
CC update to the SGSN (e.g. using a Cell Update) e.g. 5 seconds prior to the
next occurrence of its nominal paging group the BSS will still be able to send
a page in time for it to be received by the device monitoring according to its
DL CC incremented by 1 level. With the ability to update its DL CC as late as
a few seconds before the next occurrence of its nominal paging group, a device
will thereby experience a substantially reduced probability of missing a page
due to ex.
##### 6.2.4.3.2a Realizing Extended DRX Cycle Lengths
##### 6.2.4.3.2a.1 Time Coordinated Cells -- Radio Interface {#a.1-time-
coordinated-cells-radio-interface .H6}
Realizing extended DRX (eDRX) requires the coordination of paging occasions
across the radio interface of multiple cells thus mitigating the potential for
missed pages. This means that each paging occasion of a device needs to occur
at approximately the same time over the radio interface for each cell in the
set of cells used for paging that device. As such, the largest difference in
radio interface synchronization between any two cells in the set cells used
for paging (e.g. the cells in a routing area) should not exceed 4 seconds.
##### 6.2.4.3.2a.2 Realizing Time Coordinated Cells -- SGSN (subject to
ongoing SA2 investigation) {#a.2-realizing-time-coordinated-cells-sgsn-
subject-to-ongoing-sa2-investigation .H6}
Realizing eDRX requires the SGSN to have knowledge of when the paging occasion
of a device is approaching within the set of cells comprising its paging area.
This can be realized as follows:
\- A BSS should send the SGSN information that can be used for determining the
\"time remaining until the next paging occasion\".
\- The legacy Routing Area Update (RAU) procedure can be modified so that it
can be used as an opportunity for the SGSN to provide the BSS with the
information it needs to calculate the \"time remaining until the next paging
occasion\".
\- The SGSN includes IMSI, eDRX cycle and Coverage Class information within
the BSSGP PDU used to send the RAU Accept from the SGSN to the BSS.
\- The BSS retains these TLLI specific parameters (IMSI, eDRX cycle and
Coverage Class) for a certain minimum amount of time (e.g. 10 seconds).
\- If it receives an uplink LLC PDU (containing a RAU Complete) having a TLLI
for which it still has these TLLI specific parameters it will calculate the
\"time remaining until the next paging occasion\" and include it along with
the received uplink LLC PDU within the BSSGP PDU it sends to the SGSN.
\- The SGSN uses the negotiated eDRX cycle length and \"time remaining until
the next paging occasion\" to determine the occurrence of ongoing paging
occasions for that device..
\- The value of the eDRX cycle timer remains valid for the device (unless
modified due to reception of new eDRX cycle information or a new value for
\"time remaining until the next paging occasion\") regardless of whether an
SGSN actually triggers the transmission of a page to that device using any of
the ongoing paging occasions.
\- Paging requests are buffered in the SGSN until shortly before expiration of
the device specific eDRX cycle timer or the device enters the Ready state.
i.e. The SGSN needs to take into account the largest difference in radio
interface synchronization between the cells used for paging.
Upon receiving a paging request the BSS calculates the precise paging occasion
on the radio interface using IMSI + eDRX cycle length + coverage class
information included within paging request.
##### 6.2.4.3.3 Reachability in EC-GSM Idle mode
After completing an uplink packet transfer and entering EC-GSM Idle mode a
device remains reachable according to a DRX cycle known as iDRX for the
duration of the Ready timer as follows:
  * If a value for \'X\' was indicated by the EC-PUAN received in EC-GSM Packet Transfer mode it will be used to determine the length of the iDRX where the value of \'X\' indicates one of the first 4 values of Table 6.2.4.3-2. Otherwise the device will default to using an iDRX cycle length of 8 51-multiframes (\~ 1.9 sec).
  * The nominal paging group corresponding to a CC1 device for the iDRX cycle length is used as the basis for determining the set of EC-PCH blocks actually read by a device of a given coverage class during the iDRX cycle (see Figure 6.2.4.3-1).
  * N is the number of paging groups corresponding to a CC1 device within the iDRX cycle length (e.g. If \'X\' = 2 then N = 16*32 = 512).
  * The nominal paging group corresponding to a CC1 device for a given iDRX cycle = mod (IMSI, N). Considering the example of DEVICE_CC =3, the CC1 row of Figure 1 conceptually indicates which of the N = 512 EC-PCH blocks per iDRX cycle applies to a given device (assuming it was a CC1 device) and the CC3 row indicates the actual set of EC-PCH blocks comprising the nominal paging group of that CC3 device.
After completing a downlink packet transfer and entering EC-GSM Packet Idle
mode a device remains reachable using an iDRX cycle length of 32
51-multiframes (\~ 7.5 sec).
The length of the Ready timer is indicated using the GPRS Timer IE of the
Routing Area Update Accept message as per legacy operation. A device starts
the Ready timer upon completing the transmission of an LLC PDU and as such,
upon entering EC-GSM Packet Idle mode it makes use of the iDRX mode for
whatever time remains for the Ready timer.
##### 6.2.4.3.4 Reachability in EC-GSM Extended Uplink TBF mode
Upon completing an uplink transmission an EC-GSM device may be told to enter
EC-GSM Extended Uplink TBF mode where it monitors the DL EC-PACCH (according
to its coverage class).
  * It listens once every 8th instance of a 52-MF starting with the first 52-multiframe after the 52-multiframe in which it received the EC-PUAN + mod(IMSI, 8) 52-multiframes.
  * If a value for \'X\' is indicated by the EC-PUAN it will be used to determine the number of downlink EC-PACCH blocks to monitor while in EC-GSM Extended Uplink TBF mode where \'X\' can indicate a value in the set {1, 2, 3, 4}. Otherwise the device will default to using \'X\' = 1.
  * If there is a response to its uplink transmission (e.g. an application layer ack) it receives an EC-Packet Downlink Assignment (EC-PDA) message on the EC-PACCH and then receives the response on the corresponding downlink TBF. When an EC-PDAN has been sent confirming reception of all downlink data blocks it will release all TBF resources, enter EC-GSM Idle mode and remain reachable once per iDRX cycle (see clause 6.2.4.3.3) for the duration of its Ready timer.
  * If it does not receive a matching EC-PACCH message after \'X\' instances of monitoring the EC-PACCH (according to its coverage class) then it will release the uplink TBF, enter EC-GSM Idle mode and remain reachable once per iDRX cycle (see clause 6.2.4.3.3) for the duration of its Ready timer.
  * The network may initiate the release of the uplink TBF at any point during EC-GSM Extended Uplink TBF mode. If this occurs prior to \'N\' instances of monitoring the EC-PACCH then it will release the uplink TBF, enter EC-GSM Packet Idle mode and remain reachable once per iDRX cycle (see clause 6.2.4.3.3) for the duration of its Ready timer.
#### 6.2.4.4 Multiplexing/De-multiplexing principles
The introduction of CIoT devices into an existing operating GSM system will
not cause any segregation of radio resources used for traffic channels and
their associated control channels, and hence the same multiplexing and de-
multiplexing principles for non CIoT devices as in current GSM operation still
applies.
The same frame structure, PDTCH/PACCH block format and mapping of blocks onto
the physical resources is used for the EC-PDTCH/EC-PACCH as in current GSM
operation.
A new packet control channel for EC-PACCH is defined, where current Stealing
Flags signalling (i.e. channel coding and burst mapping) is still used in
order to support USF reception and decoding by non CIoT devices. The new
packet control channel will not be decodable by legacy devices, but its
content is also not of interest. The situation is as with the introduction of
GPRS where the content of MCS-1-4 blocks were not decodable by GPRS devices,
but the Stealing Flag signalling of CS-4 was re-used for MCS-1-4 to ensure
that GPRS devices could read them, and by that also find the USF bits in the
same burst positions as in GPRS CS-4.
In an EC-PDTCH radio block addressed to a CIoT device, a legacy MS will be
able to detect and decode the RLC/MAC header, but find that the TFI is not a
valid TFI and hence will not proceed to decode the RLC Data block. Similarly
for a CIoT device, a legacy MCS block will be decodable in the sense that it
will find in the RLC/MAC Header content a TFI not matching the assigned TFI,
and will hence not act on the block.
For CIoT devices on the DL, the same multiplexing and de-multiplexing
principles of GSM applies. For the UL, a fixed UL allocation is used based on
the content of an assignment message received in response to a resource
request sent by the CIoT device, see subclause 6.2.3.2.2 or based on the
content of a PUAN sent used to indicate one or more UL radio blocks need to be
resent.
See subclause 6.2.6.3 for link performance evaluation of the multiplexing/de-
multiplexing principles.
#### 6.2.4.5 Retransmission schemes
Hybrid ARQ together with incremental redundancy, as defined for EGPRS today,
should be used by the network and will be supported by the device.
When fixed UL allocation is used, see subclause 6.2.3.2.2, full knowledge can
be obtained by the network on which block is transmitted on which resources by
the device. Hence, it is possible for the network to provide incremental
redundancy without effectively reading the RLC/MAC header to find the related
BSN field during the soft combining process. This provides some performance
benefits since the RLC/MAC header performance is, although more robust,
similar to the RLC data performance for MCS-1 (the MCS used when in extended
coverage). After each HARQ transmission the RLC/MAC header should still be
attempted to be decoded to verify that the BSN and TFI match the values
assumed during the combining process.
To lower device complexity, and to align design in both DL and UL, incremental
redundancy is only utilized for MCS-3 and MCS-4, which due to its high code
rate show significant gains in performance by reducing the code rate after
multiple transmissions. However, little or no gain is seen by using all three
puncturing schemes currently defined for those MCSs, and hence only 2
puncturing schemes are used. For MCS-1 and MCS-2, no additional gains are seen
by using incremental redundancy compared to chase combining, see subclause
6.2.6.5, and hence only one puncturing scheme is used for these MCSs.
#### 6.2.4.6 Random Access Procedure
##### 6.2.4.6.1 General
An EC-GSM device can access the EC-GSM system by using one of the two
different random access channels. If the device is in normal coverage the
legacy RACH is used. A device in extended coverage use EC-RACH.
An EC-GSM device needs to estimate its UL Coverage Class, (CC), before
accessing the system. If the devices estimates its UL CC to be in extended
coverage it will access the system by sending the access request bursts on the
allocated frames for that CC. If the device is in normal coverage it can use
any frame as per legacy procedure. See Table 6.2.4.2-1 for details. For each
UL CC there will be an associated TSC which will be used when sending the
access request. An EC-GSM device needs also to inform the BTS of the DL CC
used to access the system.
Only one phase access is supported by CIoT devices accessing the network using
a Access Burst format, minimizing the signalling overhead.
##### 6.2.4.6.2 Burst types
A CIoT device accessing the system can do this by using two different burst
formats, and by that indicate different information to the network.
Irrespective of access option used, the optimized functionality associated
with CIoT, such as optimized signalling procedures, will be supported by the
device, and implicitly signalled to the network by using the new access
format.
All access options are summarized in table 6.2.4.6-1.
Table 6.2.4.6-1: Random Access -- options
+------------------------+------------------+------------------------+ | Burst type^1^ | TS used on C0^1^ | Option | +------------------------+------------------+------------------------+ | AB | 0 | - Used only by CIoT | | | | devices in normal | | | | coverage | +------------------------+------------------+------------------------+ | NB | 0 | - When accessing in | | | | small cell, or for | | | | stationary devices | | | | | | | | - MS ID included for | | | | faster contention | | | | resolution | | | | | | | | - Used only by CIoT | | | | devices in normal | | | | coverage | +------------------------+------------------+------------------------+ | AB | 1 | - Used by CIoT | | | | devices in extended | | | | coverage | +------------------------+------------------+------------------------+ | NB | 1 | - When accessing in | | | | small cell, or for | | | | stationary devices | | | | | | | | - MS ID included for | | | | faster contention | | | | resolution | | | | | | | | - Used by CIoT | | | | devices in extended | | | | coverage | +------------------------+------------------+------------------------+ | NOTE: See Table | | | | 6.2.4.2-1 for mapping | | | | onto physical | | | | resources. | | | +------------------------+------------------+------------------------+
Burst types:
\- An Access Burst, AB, will follow the existing 11 bit format of the legacy
EGPRS Packet Channel Request message but with optimizations in the way of re-
used code points.
\- A Normal Burst, NB, will support substantially more payload space than an
AB and will be sent when a device is operating in small cell environment (\~4
km cell radius, when indicated in SI) or is otherwise able to determine what
Timing Advance to apply at the point of sending the Access Request.
An AB burst sent on RACH will include:
\- Random bits (3 bits) -- used as today to resolve contention in the access
\- A priority indication (1 bit) -- used to indicate if the access is of alarm
type or not
\- A block count indication (4 bits) - based on MCS-1
Table 6.2.4.6-2: RACH - AB format, TS0
\
\
\ >
An AB burst sent on EC-RACH will, in addition, include an indication of the
estimated DL coverage class (3 bits) - expected to be used by the BTS when
sending the matching response on the EC-AGCH.
Table 6.2.4.6-3: EC-RACH - AB format, TS1
> \
>
> \
>
> \
>
> \ >
A Normal Burst sent on RACH or EC-RACH will include a MSID (e.g. using the 32
bits long TLLI). This is to minimize the signalling required for contention
resolution and also allow for a faster acquisition of the MS capabilities. In
addition, it will also include the information sent in the AB according to the
RACH used, except for the random bits, which are not needed due to the
inclusion of MS ID.
A device that determines it has low or no mobility and is operating in a large
cell will make at least one AB based system access request and successfully
complete the corresponding uplink transmission (report) to determine the
Timing Advance (TA) to apply when attempting a subsequent NB based system
access in its current cell.
Once a device has acquired cell specific TA information, it is able to attempt
NB based system access requests (i.e. a device that has determined it has low
or no mobility will retain knowledge of TA received in a large cell for future
NB based system access attempts in that cell).
A device that is unable to successfully perform a NB based system access,
irrespective of the state of the flag in SI indicating small cell, will revert
back to using AB based system access until it successfully completes another
uplink transmission.
##### 6.2.4.6.3 Training Sequence Codes
EC-GSM devices are required to support the 11bit AB format as well as the NB
format and TSC\'s will be used for indicating the burst format used in the
access attempt. To also support the legacy 8 bit AB format on TS0 a separate
TSC will be allocated. Each coverage class will be allocated a TSC to
distinguish between different coverage class users trying to access the EC-
RACH on TS1. Different TSC´s will also be used to indicate the supported
capabilities for the device i.e. a MCS-1-4 capable device or a MCS-1-9 capable
device but there is no need for an extended coverage class device to indicate
anything else than MCS-1-4 support. The RACH on TS0 only supports coverage
class 1 devices and there will therefore be no need to indicate UL coverage
class.
The TSC usage on TS0 for EC-GSM devices is therefore proposed to be:
\- 1 TSC for 8 bit access (legacy devices only)
\- 1 TSC for NB access
\- 1 TSC for AB access MCS-1-4
\- 1 TSC for AB access MCS-1-9
The TSC usage on TS1 for EC-GSM devices is proposed to be:
\- 3 TSC\'s for CC1:
\- 1 TSC for NB access
\- 1 TSC for AB access + MCS-1-4 support
\- 1 TSC for AB access + MCS-1-9 support
\- 10 TSC\'s for CC2 to CC6:
\- 1 TSC per coverage class for AB access
\- 1 TSC per coverage class for NB access
This results in a maximum TSC usage of 4 for TS0 and 13 for TS1. It is
important to differentiate TSC usage with TSC detection. By coupling the TSC
usage with coverage class only one TSC can be used per coverage class. In
addition, each device can only send its bursts using TDMA frames specific to
its coverage class. This leads to a very reasonable BTS implementation
regarding TSC detection complexity as it will be four TSC\'s to detect on TS0,
a maximum of three on TS1 _for CC1 devices and a maximum of two on TS1 for
each of CC2 through CC6_.
##### 6.2.4.6.4 Contention Resolution
When an access attempt is made by transmitting an AB burst on the RACH/EC-
RACH, contention resolution will be based on legacy 1 phase access (i.e. to
minimize control plane signaling), or enhanced AB based contention resolution,
see subclause 6.2.4.6.8.
When an access attempt is made by transmitting an NB burst on the RACH/EC-
RACH, contention resolution will be based on an Access Request \-- Access
Response exchange. The Response sent on the AGCH/EC-AGCH will contain the MS
ID received by the BSS in the corresponding Access Request.
##### 6.2.4.6.5 System Access Procedure
The EC-GSM device will, to a large extent, follow legacy RACH behaviour but
with adaptations and repetitions according to its estimated UL coverage class.
The device will send the first Access Request message in the first available
TDMA frame belonging to the set of EC-RACH bursts corresponding to its
estimated UL coverage class. The device may send a maximum number of Access
Request messages (retries) according to its UL coverage class on the EC-RACH
where the maximum value of retries is broadcasted in the system information on
EC-BCCH. If the maximum number of retries N for a given access attempt is
reached (where each retry involves transmitting X bursts on the EC-RACH where
X is determined according to the estimated uplink coverage class), legacy type
behaviour is used whereby a timer is started while waiting for a matching
Access Response. However, this timer value will be updated to account for the
Y repetitions expected for the matching Access Response (determined by the
estimated downlink coverage class included in the Access Request).
When sending an Access Request using an AB burst or NB on EC-RACH, a device
will look for a matching Access Response within a limited time window that may
be different from that associated with legacy operation. The EC-RACH parameter
T, used by the CIoT device to get a random wait value before next retry is
made for the current access attempt, will be broadcasted on EC-BCCH. Note
however that regardless of the parameter T, the CIoT device is only allowed to
start any given retry of its current access attempt according to the set of
slots specific to its uplink coverage class, see Figure 6.2.4.2-5.
For an Access Request sent on EC-RACH, if a device does not receive a matching
Access Response in the expected time window after N re-tries (i.e. a system
access attempt failure occurs) then when it performs a subsequent system
access attempt it may increment its coverage class (functionality could also
be controlled using System Information) and adjust the maximum number of
retries allowed for that access attempt (e.g. to N -- 1 retries).
SI sent on EC-BCCH will be used to indicate the value by which N should be
adjusted and if an increment of coverage class is to be used after an access
attempt failure.
Regardless of what information an CIoT device provides within a RACH access
request, it uses the MS Radio Access Capability IE (included within the RAU
Request message) to indicate its full set of capabilities, thereby allowing a
BSS to query the SGSN for device capability information while managing a
device in the EC-Packet Transfer state.
##### 6.2.4.6.6 Adjusting the Estimated Coverage Class
A device that supports EC-GSM may estimate its coverage as necessary
(implementation specific) except while in packet transfer mode or while in a
power saving state. It uses its estimated coverage class when attempting
either an AB or NB based system access.
\- If a device is unable to perform an AB based system access after sending
the maximum number of allowed EC-RACH retransmissions, it may determine that
its current estimation of coverage class is incorrect (i.e. too optimistic) or
it may decide trigger the cell re-selection procedure (implementation
specific).
\- If it decides that its currently estimated coverage class is too optimistic
it will increment it and then attempt another AB based system access using AB.
If the system access is successful the use of NB may then also be possible for
subsequent system access attempts (see discussion above).
If after incrementing its coverage class the device remains unable to perform
an AB based system access (after sending the maximum number of allowed EC-RACH
retransmissions) it may repeat the process of incrementing its coverage class
or it may decide to trigger the cell re-selection procedure (implementation
specific).
##### 6.2.4.6.7 Overload Control
The EC-SCH supports payload space that can be used for conveying information
in addition to the TDMA frame reference information within the hyperframe.
Since the EC-SCH will be read prior to attempting system access, and since its
repetition period is always chosen to cater for devices in the worst case
coverage scenarios, it serves as a convenient logical channel from which CIoT
devices can read an Implicit Reject Status (IRS) field that determines the
type of access barring in effect at any point in time. In addition, the EC-SCH
content can be changed as often as once every two 51-multiframes (\~470ms)
thereby allowing for a near real time mechanism for setting IRS in response to
any access loading problem that may be detected. For EC-GSM overload control
IRS is seen as consisting of a 2 bit field having the following meaning:
  * 00 - no barring
  * 01 - bar all roamers (homers and exception reporting are enabled)
  * 10 - bar homers and roamers (only exception reporting is enabled)
  * 11 - bar all devices (homers, roamers and exception reporting are all barred)
Homers: Devices operating in a home PLMN (HPLMN).
Roamers: Devices operating in a visited PLMN (VPLMN).
Exception Reporting: Devices that want to send an exception report
A device not attempting exception reporting and that considers itself to be in
a HPLMN will first read IRS prior to attempting system access.
\- If IRS = 10 the device will immediately consider itself as barred and will
then read system information to determine which specific home PLMN(s) are
barred and proceed as follows:
\- If system information does not indicate its specific HPLMN is barred it
will proceed with its system access attempt. In this case it will at most
experience a few seconds of delay in attempting its system access (due to SI
acquisition) but this is not considered to be a major concern for these
devices.
\- Otherwise, it will start a timer TBAR and will not re-attempt system access
until this timer expires. TBAR is similar to legacy timer T3236 (range 10 to
200 seconds with .1 second granularity) but may have a different set of values
from which a device draws a value according to a uniform probability
distribution.
\- If IRS = 11 the device will start a timer T~BAR~ and will not re-attempt
system access until this timer expires.
A device not attempting exception reporting and that considers itself to be in
a VPLMN will first read IRS prior to attempting system access.
\- If IRS = 01, 10 or 11 the device will start a timer T~BAR~ and will not re-
attempt system access until this timer expires.
A device attempting exception reporting will first read IRS prior to
attempting system access. If IRS = 11 the device will start a timer T~BAR~ and
will not re-attempt system access until this timer expires.
  * Note that the barring of devices attempting exception reporting is not expected to occur frequently but is supported given the potential for excessive exception reporting due to poor device configuration practices wherein certain types of reporting are incorrectly marked as falling into the exception reporting category.
  * In addition, to allow for emergency related exception reporting (e.g. public safety related) to take precedence over non-emergency exception reporting, allowing for IRS = 11 is seen to be essential.
  * To mitigate the impact of a false positive for the EC-SCH that results in a device with a pending exception report falsely concluding that exception reports have been barred (i.e. IRS = 11), a reduced value for T~BAR~ can be associated with the exception reporting case.
##### 6.2.4.6.8 Enhanced AB Based Contention Resolution
##### 6.2.4.6.8.1 TLLI Inclusion in One Data Block {#tlli-inclusion-in-one-
data-block .H6}
To minimize the overhead of TLLI inclusion, a device may optionally only
include the TLLI in the first RLC block it sends during an uplink
transmission. To minimize the risk of collision between devices, a
supplementary short TLLI can be included in the subsequent blocks. Upon
receiving an uplink resource assignment within an Immediate Assignment message
a device will include the 4 least significant bits of its TLLI, i.e. a reduced
TLLI (rTLLI), in the RLC data block header for all but the first radio block
it transmits during the corresponding uplink data transmission (see Figure
6.2.4.6-1). To support the introduction of the reduced TLLI (rTLLI) four spare
bits in the uplink RLC data block header are re-defined as shown in Figure
6.2.4.6-2.
+------+---------------------------------------------------------+---+ | > MS | > BSS | | +------+---------------------------------------------------------+---+ | | > 1\. EGPRS Packet Channel Request [RACH] | | +------+---------------------------------------------------------+---+ | | 2. Immediate Assignment [AGCH] | | +------+---------------------------------------------------------+---+ | | 3. Uplink RLC Data Block (BSN=0, TFI, TLLI) [PDTCH] | | +------+---------------------------------------------------------+---+ | | 4. Uplink RLC Data Block (BSN=1, TFI, rTLLI) [PDTCH] | | +------+---------------------------------------------------------+---+ | | 5. Uplink RLC Data Block (BSN=2, TFI, rTLLI) [PDTCH] | | +------+---------------------------------------------------------+---+ | | 6. Uplink RLC Data Block (BSN=3, TFI, rTLLI) [PDTCH] | | +------+---------------------------------------------------------+---+ | | 7. Uplink RLC Data Block (BSN=4, TFI, rTLLI) [PDTCH] | | +------+---------------------------------------------------------+---+ | | 8. Packet Uplink Ack/Nack (TFI, TLLI, FAI=1) [PACCH] | | | | | | | | 9. Packet Control Ack [PACCH] | | +------+---------------------------------------------------------+---+
Figure 6.2.4.6-1: Enhanced AB Based Contention Resolution (5 RLC data blocks
sent)
* * *
8 7 6 5 4 3 2 1 Octet TFI TLLI SI R 1  
BSN TFI 2  
CPS FOI Block Count/Spare PDT 3  
Spare SPB CPS 4
* * *
Figure 6.2.4.6-2: rTLLI in MCS-1, MCS-2, MCS-3 and MCS-4 data blocks
##### 6.2.4.6.8.2 Access Collisions Handling {#access-collisions-handling .H6}
Including a 3 bit random field in the EC-RACH burst and a 4 bit rTLLI in the
RLC/MAC header results in about 0.8% probability of collision based on these
two parameters alone. However, it needs to be understood that this 0.8%
probability is conditioned by the fact that 2 devices have used the same set
of EC-RACH slots to send their respective access requests on the EC-RACH. The
11 bit REQUEST_REFERENCE field included in the assignment message sent on the
EC-AGCH provides information identifying the set of EC-RACH slots used by the
BSS to receive the access request it is responding to and hence can be used to
assist in contention resolution.
A simulation has been run to estimate the collision probability of two devices
using the same set of EC-RACH slots on the EC-RACH at different arrival rates.
Figure 6.2.4.6-3 shows the probability of collision per coverage class where,
for each coverage class, an arrival rate of 6.8 users/sec is experienced.
{width="4.440277777777778in" height="2.9631944444444445in"}
Figure 6.2.4.6-3: Coverage Class Specific Collision rate on EC-RACH at 6.8
Users/sec
For this arrival rate, a collision probability of around 0.05 % is seen for
CC1, based on the 216 slots/sec provided by the EC-RACH. The risk of collision
(i.e. the same set of EC-RACH slots are selected) is the worst for CC6 devices
where the rate is 27.5 %. However, the use of CC6 by all devices is not seen
as a realistic representation of the collision rate since their percentage of
the overall population of MTC devices is small and as such the potential for
collision by 2 CC6 devices would be far less than that shown for 6.8 uses/sec
arrival rate shown in Figure 6.2.4.6-3. The majority of users in the network
would still belong to CC1, also with the aggressive building penetration loss
model used in the study.
To get some estimate on the collision rate when having a mix of coverage
classes, all coverage classes can be assumed to occur in the general
population of devices with equal probability (i.e. each coverage class has a
corresponding arrival rate of about 1.1 users/sec). This is again a
pessimistic assumption considering that the majority of users are in coverage
class 1 and that the number of users in a given coverage class reduces with
the increase of the coverage class. In this case the overall collision rate
(i.e. two users of a given coverage class have picked the same set of EC-RACH
slots) is at 2.1 % for the case of 6.8 users/sec.
It should be noted that if users are of different coverage classes, and they
collide, this will be sufficient to resolve contention (i.e. the DL coverage
class value indicated in the received access request is echoed in the
corresponding immediate assignment and will allow one of the devices to
realize its access request was not received).
Hence, for the targeted arrival rate of 6.8 users/sec (\~1.1 users/sec
contributed by each coverage class), the risk of having more than two users of
the same coverage class transmitting in the same EC-RACH slots, using the same
random field, and using the same rTLLI, could (with a pessimistic assumption)
be estimated to be \~ 0.021*0.008 = 0.017 %.
For the sake of simplicity the following is assumed for the case of a rTLLI
collison that occurs subsequent to an EC-RACH collision where 2 users use the
same 3 bit random field and the same set of EC-RACH slots:
  * The BSS will receive all expected data blocks but will not have a > Frame Check Sequence (FCS) correct LLC PDU (i.e. the SGSN will > discard the LLC PDU it receives from the BSS since it will have > been constructed by the BSS using at least 1 data block from each > device). In this case the device that does not receive a PUAN with > a matching TLLI will make another access attempt and the device > that receives a PUAN with a matching TLLI will still make another > access attempt due to the SGSN discarding the LLC PDU (i.e. the > device that receives a PUAN with a matching TLLI will not receive > an application layer ack).
  * For the case where the first data block is lost the first PUAN will > indicate rTLLI (not TLLI) causing both devices to continue to > transmit additional uplink data blocks as indicated by the PUAN. > However, regardless of which device eventually has its first data > block received by the BSS (indicated by a subsequent PUAN) the > outcome will be the same as described above (i.e. the BSS is not > expected to have a FCS correct LLC PDU due to receiving at least 1 > data block from each device).
\- For the case where there is no rTTLI collision the probability of a BSS
being able to capture all uplink radio blocks from one of two devices is
considered to be the same as when two devices include their respective TLLIs
in each of the data blocks they transmit prior to PUAN reception (as per
legacy procedures). As such, the case where two devices use different rTLLI
values is assumed to always result in the BSS eventually receiving all
required data blocks from one of the devices (i.e. data block reception
performance by the BSS will in this case be as robust as legacy mode).
#### 6.2.4.7 Priority handling
CIoT devices attempting to access the system autonomously (i.e. system access
attempts not triggered by the network) on TS0 or TS1 always include a single
priority bit in the RACH access request to allow the BSS to distinguish
between RACH access requests made for alarm reporting from those made for
normal reporting. This allows for prioritizing both the quantity and
scheduling of uplink PDTCH resources assigned for alarm reporting given the
reduced latency requirements of such reports.
#### 6.2.4.8 Segmentation
##### 6.2.4.8.1 Data
LLC PDUs sent to or received from an IoT device may consist of 100 or more
octets and as such RLC data blocks will support the segmentation (and re-
assembly) of LLC PDUs using current EGPRS segmentation procedures. However,
the use of a modified RLC data block header content (e.g. smaller BSN field)
and fixed allocation for IoT devices translates into some differences when
segmenting LLC PDUs into multiple RLC data blocks compared to legacy
segmentation procedures.
##### 6.2.4.8.2 Control blocks
Control messages sent to or received from an IoT device are always carried
within a single control block (PACCH block) and as such segmentation of
control messages into multiple control blocks is not supported.
#### 6.2.4.9 RLC procedures
##### 6.2.4.9.1 General
General RLC procedures defined in GSM, see clause 9 of TS 44.060 [14], applies
to CIoT devices.
In order to reduce overall device complexity and implementation effort, the
following also applies:
\- Only RLC Acknowledged mode is supported.
\- Only single TBF operation is supported (no support for EMST, EMSR).
\- No Piggy-backed Ack/Nack (PAN) operation is supported.
\- A maximum Sequence Number Space (SNS) of 32 will be supported, implying a
maximum Window Size (WS) of 16 (today GPRS supports a WS of 64 and EGPRS a WS
of 1024).
\- An RLC buffer size of 16 RLC blocks will be supported (today EGPRS supports
a buffer size up to 1024).
\- No compression algorithm of the Ack/Nack bitmap will be supported.
In addition to the RLC procedures in clause 9 of [14] the following also
applies:
\- Open and close ended fixed uplink allocations are supported.
##### 6.2.4.9.2 RLC/MAC header (EC-PDTCH)
##### 6.2.4.9.2.1 Header format {#header-format .H6}
The RLC/MAC header format is the same as for EGPRS MCSs (i.e. same payload
size, channel coding definitions and burst mapping). Due to reduced RLC
functionality the content of the header is re-defined.
In figure 6.2.4.9-1 and 6.2.4.9-2 the format of the RLC/MAC header is shown
for MCS-1-4 (Header Type 3) for the DL and UL respectively. In case a CIoT
device supports the full EGPRS MCSs set, the same design principles applies to
Header Type 1 (MCS-7-9) and Header Type 2 (MCS-5-6).
* * *
8 7 6 5 4 3 2 1 Octet TFI CPS USF 1  
P CC TFI 2  
SPB BSN FBI 3  
Spare 4
* * *
Figure 6.2.4.9-1: EGPRS downlink RLC data block header for MCS-1, MCS-2, MCS-3
and MCS-4
* * *
8 7 6 5 4 3 2 1 Octet TFI Spare SI R 1  
BSN TFI 2  
CPS FOI Block Count/Spare PDT 3  
Spare SPB CPS 4
* * *
Figure 6.2.4.9-2: EGPRS uplink RLC data block header for MCS-1, MCS-2, MCS-3
and MCS-4
##### 6.2.4.9.2.2 Temporary Flow Identity (TFI) {#temporary-flow-identity-tfi
.H6}
The TFI field identifies the TBF and is formatted in the same position as in
current EGPRS RLC/MAC Headers to provide backwards compatibility (see
subclause 6.2.4.4).
The TFI field is 5 bits long and hence can simultaneously address up to 32
devices multiplexed on the same resources. Due to the amount of devices
expected in future CIoT scenarios, it can be considered to expand the TFI
field beyond 5 bits.
##### 6.2.4.9.2.3 Polling (P) {#polling-p .H6}
The legacy RRBP, S/P fields are merged to create a single 2 bit P field used
to indicate when a device has been polled and if polled where it is to begin
transmitting the corresponding UL EC-PACCH message. However, further
investigation of a suitable size for P is foreseen.
##### 6.2.4.9.2.4 Block Sequence Number (BSN) {#block-sequence-number-bsn .H6}
Due to the reduction of the EGPRS WS from at most 1024 to 16 the BSN field is
consequently reduced from 11 bits to 5 bits.
##### 6.2.4.9.2.5 Coverage Class (CC) {#coverage-class-cc .H6}
A 2-bit field is included to signal the coverage class used in the block.
Due to the repetition of multiple instances of the same DL block, and due to
the fact that a lower coverage class is always a partial mapping of a higher
coverage class, see Table 6.2.4.2-1, the CC indication can be used by the
lower coverage class CIoT devices monitoring the DL physical channel, i.e. in
case CC indicates a higher coverage class, then the lower coverage class
devices, need not monitor the rest of the repetition period.
For example, a device in CC1 monitors the DL, decodes the RLC/MAC header on
TS0, with an indication that CC5 is used. It need then not to process the DL
blocks on TS1,2,3 since a CC5 block will always be mapped onto TS0,1,2,3 in
the same TTI, and can stop monitoring the second TTI period, see Table
6.2.4.2-1.
##### 6.2.4.9.2.6 Coding and Puncturing Scheme (CPS), Uplink State Flag (USF),
Split Block (SPB), Stalling Indicator (SI), Retry (R) {#coding-and-puncturing-
scheme-cps-uplink-state-flag-usf-split-block-spb-stalling-indicator-si-retry-r
.H6}
The CPS, USF, SPB, SI and R fields are defined as in current GSM operation,
see subclause 10.4 in TS 44.060 [14].
One exception is the CPS field for MCS-1-4 in Header type 3 which can be
reduced in EC-GSM operation to what is shown in table 6.2.4.9-1, due to the
removal of puncturing schemes, see subclause 6.2.4.5 and 6.2.6.5.
Table 6.2.4.9-1: CPS field for Header type 3 for EC-GSM
* * *
bits\ CPS 321
000 MCS-4/P1
001 MCS-4/P2
010 MCS-3/P1
011 MCS-3/P2
100 MCS-3/P1 with padding
101 MCS-3/P2 with padding
110 MCS-2/P1
111 MCS-1/P1
* * *
##### 6.2.4.9.2.7 Follow-On Indicator (FOI) {#follow-on-indicator-foi .H6}
This field is added to support the open-ended fixed uplink allocations whereby
a device can inform the BSS that it needs to send an additional set of RLC
data blocks after making use of all transmission opportunities provided by the
previous fixed uplink allocation:
  * The UL TBF request message sent on the EC-RACH or EC-PACCH (part of the EC-PDAN) to trigger a Fixed UL Allocation (FUA) based transmission indicates how many UL RLC data blocks in total a device has to send for a pending uplink delivery session (i.e. up to 16 per uplink delivery session).
  * When sending the last UL RLC data block of the current FUA based uplink delivery session, where there is no additional UL payload to send, a device sets FOI = 0. The Block Count field will in this case be set to \'0000\'.
  * Otherwise, the device sets FOI = 1 and the number of UL RLC data blocks to be sent in the next FUA based uplink delivery session is indicated by the Block Count field as shown in Figure 2.
  * Upon receiving an EC-PUAN indicating the reception status of the current FUA based uplink delivery session a device is also informed of the set of pre-allocated UL radio blocks it is to use for the pending uplink delivery session.
  * This process is repeated as often as required to complete the transmission of all uplink payload pending at the device.
##### 6.2.4.9.2.8 Block Count {#block-count .H6}
##### 5.3.1 Analytical calculation of latency for MAR exception uplink
reports6.2.4.9.2.9 Pending Downlink Transmission (PDT) {#analytical-
calculation-of-latency-for-mar-exception-uplink-reports6.2.4.9.2.9-pending-
downlink-transmission-pdt .H6}
This field allows a device to inform the BSS when it expects to receive
downlink payload shortly after the completion of the current FUA based uplink
delivery session. When PDT = 1 in one or more of the RLC data blocks sent
during the current uplink delivery session the corresponding EC-PUAN needs to
indicate if the device should wait for the pending DL TBF assignment on the DL
EC-PACCH or on the EC-AGCH. In this case the EC-PUAN can also indicate the
specific amount of time the device is to wait before it starts to monitor the
DL EC-PACCH or the EC-AGCH for the pending DL TBF assignment.
##### 6.2.4.9.2.10 Final Block Indicator (FBI) {#final-block-indicator-fbi
.H6}
The network initiates the release of a downlink TBF by sending the last RLC
data block of a downlink transmission with the Final Block Indicator (FBI) set
to \'1\' and polling the device for a EC-PDAN in the same RLC data block.
##### 6.2.4.9.2.11 Spare bits {#spare-bits .H6}
In the RLC/MAC DL header, seven spare bits are defined for future use. The
bits could for example cater for an extended TFI identifier space, as
mentioned in subclause 6.2.4.9.2.2.
In the RLC/MAC UL header, seven (or eleven for the case for FOI = 0) spare
bits are defined for future use. Also for the UL, an extended TFI identifier
space could be catered for. Also, the use of Enhanced AB Based Contention
Resolution, will result in using four of these spare bits, see subclause
6.2.4.6.8.
##### 6.2.4.9.3 RLC Control Block header (EC-PACCH)
##### 6.2.4.9.3.1 Header format {#header-format-1 .H6}
The EC-PACCH block is coded according to description in subclause 6.2.2.1.2
with a payload content of 8 octets in the UL and 10 octets in the DL. The
number of header fields are reduced compared to legacy operation due to the
reduced RRC functionality required to support a device in EC-GSM packet
transfer mode (see Figures 6.2.4.9-3 and 6.2.4.9-4).
* * *
8 7 6 5 4 3 2 1  
spare R MAC header  
Octet 1  
Control Message Contents ...  
Octet 7
* * *
Figure 6.2.4.9-3: EC-GSM Uplink RLC/MAC control block together with its MAC
header
* * *
8 7 6 5 4 3 2 1  
spare P PR USF MAC header  
RBSN TFI spare Octet 1  
Octet 2  
Control Message Contents ...  
Octet 9
* * *
Figure 6.2.4.9-4: EC-GSM Downlink RLC/MAC control block together with its MAC
header
##### 6.2.4.9.3.2 Retry (R) {#retry-r .H6}
This field is maintained as per legacy operation. (see TS 44.060).
##### 6.2.4.9.3.3 Polling (P) {#polling-p-1 .H6}
The legacy RRBP, S/P fields are merged to create a single 2 bit P field used
to indicate when a device has been polled and if polled where it is to begin
transmitting the corresponding UL EC-PACCH message. However, further
investigation of a suitable size for P is foreseen.
##### 6.2.4.9.3.4 USF {#usf .H6}
This field is maintained as per legacy operation.
##### 6.2.4.9.3.5 Power Reduction (PR), TFI {#power-reduction-pr-tfi .H6}
These fields are maintained as per legacy operation (see TS 44.060).
##### 6.2.4.9.3.6 Reduced Block Sequence Number (RBSN) {#reduced-block-
sequence-number-rbsn .H6}
This field can be maintained as per legacy operation since a DL EC-PACCH
message will require a maximum of two EC-PACCH blocks.
##### 6.2.4.9.3.7 Spare bits {#spare-bits-1 .H6}
In the UL EC-PACCH header 7 spare bits are available for future use. In the DL
EC-PACCH header 2 spare bits are available for future use.
### 6.2.5 Radio resource management
#### 6.2.5.1 (EC-)CCCH mapping on TS0 and TS1
A Cellular IoT device, regardless of coverage class (CC), is required to
synchronize to the network via the FCCH and the EC-SCH. The EC-SCH contains a
single bit flag directing CC1 devices to access the network using the legacy
RACH on TS0 or the EC-RACH on TS1. Since the EC-SCH is repeated over two
consecutive 51-multiframes, this flag can, for example, be toggled every 102
TDMA frames to spread device accesses evenly over CCCH/U and EC-CCCH/U.
In addition to the load sharing between the RACH on TS0 and EC-RACH on TS1, it
is proposed to support the same functionality between the AGCH and EC-AGCH.
I.e. in case a device attempting Mobile Autonomous Reporting has determined
its access to be on the RACH on TS0 it will monitor the corresponding DL
resource on the AGCH on TS0 for a response to its access request, and the same
principle would apply on EC-RACH and EC-AGCH on TS1.
Regarding the case of Network Command it is assumed that the load on the EC-
PCH channel will be modest. No load balancing between the PCH on TS0 and EC-
PCH on TS1 is therefore foreseen to be needed and as such all attempts to send
a page response by EC-GSM devices will be based on using the EC-RACH.
CC2 and higher devices will always make use of the EC-CCCH on TS1.
All CC1 devices attempting Mobile Autonomous Reporting are expected to make
use of the EC-GSM overload control mechanism regardless if they make use of
the RACH or the EC-RACH.
Table 6.2.5.1-1: (EC-)CCCH resource handling for EC-GSM devices
+-------------------------+----------------+-------------------------+ | Logical channel | Coverage class | Resource | +-------------------------+----------------+-------------------------+ | FCCH | All | TS0 | +-------------------------+----------------+-------------------------+ | SCH^1^ | All | TS1 | +-------------------------+----------------+-------------------------+ | EC-BCCH | All | TS1 | +-------------------------+----------------+-------------------------+ | (EC-)RACH^1^ | 1 | TS0 or TS1 | | | | | | | >1 | TS1 | +-------------------------+----------------+-------------------------+ | (EC-)AGCH^1^ | 1 | Same as used for | | | | (EC-)RACH | | | >1 | | | | | TS1 | +-------------------------+----------------+-------------------------+ | EC-PCH | All | TS1 | +-------------------------+----------------+-------------------------+ | NOTE: Including both | | | | regular and EC-channels | | | | with the understanding | | | | that regular channels | | | | make use of TS0 and | | | | EC-channels make use of | | | | TS1. | | | +-------------------------+----------------+-------------------------+
#### 6.2.5.2 MS states
IoT devices operating on TS0 or TS1 support the EC-Idle and EC-Packet Transfer
states which are similar to the legacy Idle and Packet Transfer states.
However, the set of functions supported in the EC-Idle and EC-Packet Transfer
states and the methods for entering/exiting these states are optimized in the
interest of power efficient operation.
#### 6.2.5.3 System Information
The BCCH space requirements for EC-GSM based System Information on TS1 is
substantially reduced compared to that of legacy GSM networks on TS0 due to
the elimination or reduction of the functionality listed below:
\- No support of CS related functionalities, hence no need to support DTM, CS
domain access control, Voice Broadcast Service and Voice Group Call Service
etc.
\- COMPACT GSM information not supported.
\- PS Handover nor Idle mode measurement reporting not supported (no
measurement reporting).
> \- Inter-RAT mobility (to and from EC-GSM) not supported.
\- Cell reselection supported but limited to EC- GSM neighbour cells and
legacy type GSM neighbour cells.
\- Cell Change Notification not supported.
\- Multiple PLMNs up to 4 additional PLMNs supported.
\- MBMS not supported.
\- Access Barring control (PS domain centric), on a PLMN specific basis,
supported but limited to Implicit Reject type.
Another simplifying attribute is that all system information is considered to
have equal priority and is therefore transmitted with the same periodicity
within the cell. This is in contrast to legacy GSM systems where the
transmission of some information needs to be prioritized due to service ready
requirements (e.g. CS call establishment readiness as soon as possible after
power on or cell reselection).
An example of a detailed analysis of legacy GSM System Information together
with its intended purpose and applicability to EC-GSM based systems is
provided in Tdoc GP-140603 [6.2-3] where the conclusions are provided in Table
6.2.5.3-1 below.
Table 6.2.5.3-1: Legacy GSM SI Content Mapped to EC-GSM BCCH Space
* * *
GSM SI message Equivalent Information Needed for Cellular IoT BCCH? Projected
Cellular IoT BCCH space per cycle SI 1 Yes 33 (Note) SI 2 Yes 10 SI 2bis, SI
2ter, SI 2quater No 0 SI 2n No 0 SI 3 Yes 14 SI4 No 0 SI 5, SI 5bis, SI 5ter
,SI 6, SI 7, SI 8, SI 9 and SI 10 No 0 SI 13 Yes 7 SI 13alt, SI 14, SI 15, SI
16, SI 17, SI 18, SI 19, SI 20, SI 21 No 0 SI 22 Yes 13 SI 23 No 0) SI New Yes
1 Total: 78 Note: 33 octets represent a worst case scenario when 32 non-
contiguous ARFCNs in the value range 513 to 1024 are included in the Cell
Allocation list. However, it is expected that most cells will broadcast a CA
list that will require much less space (e.g. if only contiguous ARFCNs are
included in the CA list).
* * *
As indicated in Table 6.2.5.3-1, about 78 octets will be required to transmit
a full cycle of system information which translates to 4 CS-1 coded radio
blocks. One or two additional radio blocks can be added to support a full
cycle of BCCH information such that a total of up to 5 or 6 CS-1 coded radio
blocks can be used if needed for future enhancements. Using 4 CS-1 radio
blocks to support the EC-BCCH space requirements wherein each is sent using 16
blind transmissions allows for the following:
\- Using one radio block on TS 1 of the BCCH carrier (constructed using the
legacy CS-1 format) within each 51-MF to support the BCCH space allows for 16
blind transmissions of a first CS-1 coded radio block during 16 consecutive
51-MF and 16 blind transmissions of each of the following three CS-1 coded
radio block during the next 48 consecutive 51-MF. As such, a device in the
worst coverage class will receive a full cycle of BCCH information about once
every 16 seconds.
\- The 16 second acquisition time can be reduced to 8 seconds by allowing a
2^nd^ radio block on TS1, similar to BCCH extended supported by current GSM
operation, within each 51-MF to send EC-BCCH information.
#### 6.2.5.4 Void
#### 6.2.5.5 Radio Resource Management
A device indicates it is CIoT capable by:
\- Sending an AB with EGPRS code point \'100\' or a NB on the RACH of TS0
\- Sending an AB or NB on the RACH on TS1
A CIoT device attempting system access on TS0 supports:
\- AB on the RACH with enhancements to the legacy 11 bit code point format and
NB on the RACH with a completely new code point format
\- Optimized AGCH signaling (i.e. new AGCH messages) A CIoT device operating
on TS1 in EC-Idle mode supports:
\- An optimized sleep mode procedure (e.g. short sync)
\- AB on the RACH with a completely new 11 bit code point format and NB on the
RACH with a completely new code point format
\- Optimized PCH/AGCH block coding format (i.e. a 2 burst block)
\- Optimized PCH/AGCH signaling (i.e. new PCH/AGCH messages)
\- Nominal paging group determination based on eDRX when paging based
reachability is required
A CIoT device operating in EC-Packet Transfer mode supports:
\- EC-PACCH block formats and headers (using 4 bursts per block)
\- EC-PDTCH block formats and headers (e.g. reduced BSN field)
\- EC-PACCH signalling (e.g. a subset of legacy PACCH messages with modified
content/new PACCH messages)
\- Uplink EC-PDTCH transmissions made using Fixed Allocation if in extended
coverage (indicated by the type of RACH request)
\- Uplink EC-PDTCH transmissions made using Fixed Allocation or USF if in
normal coverage (indicated by the type of RACH request)
\- Downlink EC-PDTCH block transmissions made using Flexible DL Allocation
(See 6.2.4.4)
\- Uplink EC-PACCH block transmissions made using Fixed Allocation (i.e. RRBP
based)
\- Downlink EC-PACCH block transmissions made using Flexible DL Allocation
(See 6.2.4.4)
Assignment and paging messages sent to an IoT device on the EC-AGCH/EC-PCH of
TS1 are coded using 2 burst radio blocks (see Table 6.2.4.2-1) and inherently
support a content that reflects the optimized functionality associated with
CIoT device operation. A simplified and reduced set of PACCH messages is
needed for managing CIoT devices operating in the EC-Packet Transfer state in
light of the optimized functionality associated with CIoT device operation.
For the same reason, the amount of signalling payload required per PACCH
message is reduced for IoT devices, thereby eliminating the need for PACCH
message segmentation in the EC-Packet Transfer state and allowing for a more
robust channel coding of PACCH blocks (i.e. less message payload space is
required per PACCH block).
#### 6.2.5.6 EC-PACCH Message Set
##### 6.2.5.6.0 General
A reduced functionality is expected for managing EC-GSM devices in EC-Packet
Transfer mode considering that the prime activity performed will be the
transfer of a limited number of RLC data blocks using Acknowledged mode
without the need for measurement reporting, PS Handover, RR connection
establishment, multiple TBFs, ongoing uplink and downlink TBFs etc. As such, a
substantially simplified set of EC-PACCH messages with reduced content
(compared to legacy PACCH messages) will be needed as described below:
##### 6.2.5.6.1 EC Packet Access Reject -- DL EC-PACCH
This EC-PACCH message will only be sent for the case where PDAN indicates all
DL data blocks have been received and the device requires the establishment of
an UL TBF (indicated within the PDAN) but the BSS cannot allocate the
requested UL resources. If this occurs the device will simply return to the
EC-Packet Idle state and use the EC-RACH/RACH to re-attempt UL TBF
establishment.
+---------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } ; | +---------------------------------------------------+
##### 6.2.5.6.2 EC Packet Downlink Ack/Nack -- UL EC-PACCH
This EC-PACCH message will only be sent by a device when polled to do so by
the BSS.
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ > } ; | | | | \ ::= | | | | \ | | | | **\  ;** | +----------------------------------------------------------------------+
##### 6.2.5.6.3 EC Packet Upink Ack/Nack -- DL EC-PACCH
. This EC-PACCH message will only be sent to a device after the BSS has
attempted to receive each of the pre-allocated UL data blocks indicated by the
EC-AGCH Uplink Assignment message or EC-PUAN message that allocates the UL TBF
resources.
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 -- additional fixed uplink allocation provided | | | | \ | | | | \ | | | | { 0 \| 1 \ } * | | (val(**NUMBER_OF_UL_DATA _BLOCKS -- 1))** | | | | \ | | | | { 0 \| 1 -- updated TBF information provided | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | +----------------------------------------------------------------------+ | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | } | | | | } ; | | | | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+
##### 6.2.5.6.4 EC Packet Control Ack -- UL EC-PACCH
This message will only be sent by a device in response to receiving a PUAN
indicating the successful completion of an UL TBF when the TBF_CONTROL field
in the PUAN message indicates a Packet Control Ack is required.
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ \| 1 \ } | | | | \ ; | +----------------------------------------------------------------------+
##### 6.2.5.6.5 EC Packet Downlink Dummy Control Block -- DL EC-PACCH
The BSS may choose to send this EC-PACCH message as a filler block using
resources assigned for any downlink TBF.
+------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +------------------------------------------------------------------+
##### 6.2.5.6.6 EC Packet Power Control/Timing Advance -- DL EC-PACCH
This EC-PACCH message allows a BSS to transmit adjust power level/timing
advance if necessary during a TBF even though the potential for needing to do
so is expected to be low given the short duration of UL transmissions made by
CIoT devices (e.g. 100 octets). It can also be sent to a device during a DL
TBF if needed.
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ \| 1 \ } | | | | \ | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } ; | | | | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ ; | | | | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } ; | | | | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+
##### 6.2.5.6.7 EC Packet Downlink Assignment -- DL EC-PACCH
This EC-PACCH message is used for the case where header information within RLC
data blocks sent during an UL TBF indicates the device expects a DL response
(e.g. application layer ack) shortly after completion of UL transmission. The
BSS sends this message to establish the DL TBF within a limited time period
after sending the PUAN confirming that all RLC data blocks of the UL TBF have
been received or after receiving a Packet Control Ack message confirming
device reception of the corresponding PUAN.
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 -- updated TBF information provided | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | +----------------------------------------------------------------------+ | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | } ; | +----------------------------------------------------------------------+
##### 6.2.5.6.8 EC Packet Uplink Assignment -- DL EC-PACCH
This EC-PACCH message is used for the case where information within a PDAN
sent during a DL TBF indicates the device has uplink payload to send and an UL
TBF is therefore requested. The BSS sends this message to establish the UL TBF
within a limited time period after receiving the PDAN confirming that all RLC
data blocks of the DL TBF have been received.
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } * | | (val(**NUMBER_OF_UL_DATA _BLOCKS -- 1))** | | | | { 0 \| 1 -- updated TBF information provided | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | +----------------------------------------------------------------------+ | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | } ; | +----------------------------------------------------------------------+
#### 6.2.5.7 Fixed Uplink Allocation
Fixed Uplink Allocation (FUA) is used on the uplink of an EC-PDTCH by
providing a device with a fixed starting point to transmit each one of the set
of RLC data radio blocks required to send its buffered user plane payload, as
shown in Figure 6.2.5.7-1.
\- The key principle of FUA is that a device is pre-allocated (in an EC-AGCH
Resource Assignment message) a set of radio blocks over up to 4 timeslots
where it sends one or more RLC data blocks where each is repeated according to
value for N~TX,\ UL~ indicated by the assignment message.
\- The set of radio blocks are allocated so that all repetitions of a specific
RLC data block are sent contiguously but without requiring that each of the
RLC data blocks sent are sent contiguous to each other.
\- After the transmission of its allocated radio blocks the device waits for a
corresponding PUAN which occurs within a variable amount of time after it
transmits the last allocated radio block. The PUAN provides an Ack/Nack bitmap
and another set of pre-allocated uplink radio blocks (if necessary) to
continue its uplink transmission.
\- The sequence of signaling events shown in Figure 6.2.5.7-1 are those
associated with an IoT device with an uplink coverage class requiring N~TX,\
UL~ repetitions, a downlink coverage class requiring N~TX,\ DL~ repetitions
and requiring X MCS-1 coded RLC data blocks to send its user plane payload.
\- Due to the half-duplex nature of FUA no simultaneous downlink reception
will occur during the time of an uplink transmission.
The principles of Fixed Uplink Scheduling are summarized in Table 6.2.5.7-1.
Table 6.2.5.7-1: UL scheduling principles
+----------------------+---------------------+----------------------+ | Coverage of DL user\ | Coverage of UL user | UL based scheduling | | (receiver of data) | | principle | +----------------------+---------------------+----------------------+ | Normal | Normal | USF / Fixed UL | | | | allocation^1^ | +----------------------+---------------------+----------------------+ | Normal | Extended | Fixed UL allocation | +----------------------+---------------------+----------------------+ | Extended | Normal | USF / Fixed UL | | | | allocation^1^ | +----------------------+---------------------+----------------------+ | Extended | Extended | Fixed UL allocation | +----------------------+---------------------+----------------------+ | NOTE 1: In case the | | | | UL user is a non | | | | CIoT device, USF | | | | based scheduling is | | | | always used. | | | | | | | | NOTE 2 : In case the | | | | UL user is a CIoT | | | | device, fixed UL | | | | allocation is always | | | | used. | | | +----------------------+---------------------+----------------------+
{width="6.5in" height="3.8319444444444444in"}
Figure 6.2.5.7-1: Uplink Small Data Transmission
#### 6.2.5.8 EC-AGCH Fixed Uplink Allocation 1 message
The EC-AGCH Fixed Uplink Allocation 1 message is sent on the EC-AGCH of TS1 to
assign uplink resources to a device. The uplink resources consist of a fixed
uplink allocation.
The message is sent to a device in response to an access request on the EC-
RACH on TS1 using Access Burst (AB). The device is addressed with the
CIoT_REQUEST_REFERENCE.
Table 6.2.5.8-1: EC-AGCH Fixed Uplink Allocation 1 information elements
+----------------------------------------------------------------------+ | \ | | | | \ ::= | | | | \ | | | | \ | | | | \ \-- # repetitions | | used when transmitting this message | | | | \ | | | | \ | | | | \ | | | | \ \-- reference to frequency | | parameters in System Information | | | | \ > | | | | \; -- DL coverage | | class for PUAN | | | | \ ::= | | | | \ \-- indication | | of what TNs that are part of the allocation | | | | \ | | | | \ \-- to be used during the uplink | | transfer | | | | \ | | | | \ | | | | \ | | | | { 0 \ \-- | | relative to end of previous UL RLC Data block | | | | \| 1 } -- next UL radio block starts directly after end of previous | | UL radio block\ | | This part is repeated (NUMBER_OF_UL_ALLOCATED_RLC_DATA_BLOCKS | | -- 1) times | | | | { 0 -- MCS-1 to be used during the data transfer | | | | \| 1 \ } -- indicates what MCS to use, | | if different from MCS-1 (for devices in normal coverage) | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | **QUARTER_HYPERFRAME_INDICATOR** (2 bits)\ | | The Quarter Hyperframe Indicator IE indicates what quarter | | hyperframe the last part of the assignment message is received in. | | | | **USED_DL_COVERAGE_CLASS** (3 bits)\ | | The Used DL Coverage Class IE indicates the number of repetitions | | that are used when transmitting this specific message. The IE is | | intended for other devices, with a downlink coverage class that | | requires fewer repetitions, which are listening to the same EC-AGCH | | blocks. Those devices can use this IE to determine that they can | | stop listening to the channel for some time. | | | | **SI_FP_index** (3 bits)\ | | The SI_FP_index IE specifies what frequency parameters set, as | | defined in the System Information on the EC-BCCH, that applies for | | the assignment. | +----------------------------------------------------------------------+
#### 6.2.5.9 EC-AGCH Fixed Uplink Allocation 2 message
The EC-AGCH Fixed Uplink Allocation 2 message is sent on the EC-AGCH of TS1 to
assign uplink resources to a device. The uplink resources consist of a fixed
uplink allocation. The message is sent to a device in response to an access
request on the EC-RACH on TS1 using Normal Burst (NB). The device is addressed
with the last 17 bits of the MS_ID included in the access request.
Table 6.2.5.9-1: EC-AGCH Fixed Uplink Allocation 2 information elements
+----------------------------------------------------------------------+ | \ | | | | \ ::= | | | | \ | | | | \ | | | | \ \-- # repetitions | | used when transmitting this message | | | | \ \-- could e.g. be the last 17 bits of | | the TLLI | | | | \ | | | | \ \-- reference to frequency | | parameters in System Information | | | | \ > | | | | \; -- DL coverage | | class for PUAN | | | | \ ::= | | | | \ \-- indication | | of what TNs that are part of the allocation | | | | \ | | | | \ \-- to be used during the uplink | | transfer | | | | \ | | | | \ | | | | \ | | | | { 0 \ \-- | | relative to end of previous UL RLC Data block | | | | \| 1 } -- next UL radio block starts directly after end of previous | | UL radio block\ | | This part is repeated (NUMBER_OF_UL_ALLOCATED_RLC_DATA_BLOCKS | | -- 1) times | | | | { 0 -- MCS-1 to be used during the data transfer | | | | \| 1 \ } -- indicates what MCS to use, | | if different from MCS-1 (for devices in normal coverage) | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | **QUARTER_HYPERFRAME_INDICATOR** (2 bits)\ | | The Quarter Hyperframe Indicator IE indicates what quarter | | hyperframe the last part of the assignment message is received in. | | | | **USED_DL_COVERAGE_CLASS** (3 bits)\ | | The Used DL Coverage Class IE indicates the number of repetitions | | that are used when transmitting this specific message. The IE is | | intended for other devices, with a downlink coverage class that | | requires fewer repetitions, which are listening to the same EC-AGCH | | blocks. Those devices can use this IE to determine that they can | | stop listening to the channel for some time. | | | | **SI_FP_index** (3 bits)\ | | The SI_FP_index IE specifies what frequency parameters set, as | | defined in the System Information on the EC-BCCH, that applies for | | the assignment. | +----------------------------------------------------------------------+
#### 6.2.5.10 AGCH Fixed Uplink Allocation Assignment message
The AGCH Fixed Uplink Allocation Assignment message is sent on the AGCH of TS0
to assign uplink resources to a device. The uplink resources consist of a
fixed uplink allocation.
The message is sent to a device in response to an access request on the RACH
on TS0 using either Access Burst (AB), with a 11 bit format starting with
\'100\', or Normal Burst (NB). The device is addressed either with the
Request_reference and Request_FN_info, in case the access request was
performed using AB, or with the 30 last bits of the MS_ID included in the
access request, in case the access request was performed using NB.
Table 6.2.5.10-1: EC-AGCH Fixed Uplink Allocation 1 information elements
* * *
**IEI** **Information element** **Type / Reference** **Presence** **Format**
**length**
            L2 Pseudo Length                                  L2 Pseudo Length\         M              V            1
                                                              10.5.2.19
            RR management Protocol Discriminator              Protocol Discriminator\   M              V            1/2
                                                              10.2
            Skip Indicator                                    Skip Indicator\           M              V            1/2
                                                              10.3.1
            Fixed Uplink Allocation Assignment Message Type   Message Type\             M              V            1
                                                              10.4
            Page Mode                                         Page Mode\                M              V            1/2
                                                              10.5.2.26
            Feature Indicator                                 Feature Indicator\        M              V            1/2
                                                              10.5.2.76
            FUAA Rest Octets                                  FUAA Rest Octets\         M              V            19
                                                              10.5.2.xx
* * *
#### 6.2.5.11 EC-AGCH Assignment Reject message
The EC-AGCH Assignment Reject message is sent on the EC-AGCH of TS1 to up to
four devices to reject their access requests. The device(s) is/are addressed
with the CIoT_Request_Reference, in case the access request was performed
using Access Burst (AB), or with the last 17 bits of the MS_ID included in the
access request, in case the access request was performed using Normal Burst
(NB).
Table 6.2.5.11-1: EC-AGCH Assignment Reject information elements
+----------------------------------------------------------------------+ | \ | | | | \ ::= | | | | \ | | | | \ \-- # repetitions | | used when transmitting this message | | | | -- First rejected device | | | | { 0 \ \-- Identity | | for access request performed using AB | | | | \| 1 \ } -- Identity for access | | request performed using NB | | | | \ \-- waiting time for first | | device | | | | -- Second rejected device | | | | { 0 \ \-- Identity | | for access request performed using AB | | | | \| 1 \ } -- Identity for access | | request performed using NB | | | | \ \-- waiting time for second | | device | | | | -- Third rejected device | | | | { 0 \ \-- Identity | | for access request performed using AB | | | | \| 1 \ } -- Identity for access | | request performed using NB | | | | \ \-- waiting time for third | | device | | | | -- Fourth rejected device | | | | \ \-- Identity for | | access request performed using AB | | | | \ \-- waiting time for fourth | | device | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | **USED_DL_COVERAGE_CLASS** (3 bits)\ | | The Used DL Coverage Class IE indicates the number of repetitions | | that are used when transmitting this specific message. The IE is | | intended for other devices, with a downlink coverage class that | | requires fewer repetitions, which are listening to the same EC-AGCH | | blocks. Those devices can use this IE to determine that they can | | stop listening to the channel for some time. | | | | **WAIT_INDICATION** (5 bits)\ | | The Wait Indication IE provides the time the device will have to | | wait before attempting another request. | +----------------------------------------------------------------------+
#### 6.2.5.12 Flexible Downlink Allocation
Flexible Downlink Allocation (FDA) is used on the downlink of an EC-PDTCH by
sending a device a Downlink Assignment message that indicates the earliest
possible starting point at which the device is to start looking for the
possible arrival of downlink payload on its assigned DL EC-PDTCH resources as
shown in Figure 6.2.5.12-1.
\- The key principle of FDA is that a device is told to expect (in an EC-AGCH
Resource Assignment message) a variable number of DL RLC data blocks over up
to 4 timeslots where each RLC data block is repeated according to value for
N~TX,\ DL~ indicated by the assignment message.
\- The BSS sends all repetitions of a specific RLC data block contiguously but
may not send each of the RLC data blocks contiguous to each other. As such, a
device will not know the precise starting point of any of the RLC data blocks
after receiving the assignment message (other than knowing they will be sent
according to its N~TX,\ DL~) but will know that each will be sent by the BSS
using contiguous radio blocks.
\- The point at which a device stops attempting to receive RLC data blocks is
determined according to where it is polled to send a PDAN on the UL EC-PACCH.
In other words, the number of additional RLC data blocks it receives after
receiving the first one is variable but any additional RLC data blocks will
arrive prior to where it is polled to send a PDAN (i.e. it will not look for
additional DL RLC data blocks while completing the PDAN transmission).
\- When searching for the first radio block used to send any given RLC data
block a device examines fixed sets of EC-PDTCH blocks based on N~TX,\ DL~. For
example, a device using N~TX,\ DL~ = 2 (i.e. 2 blind repetitions) will only
look at fixed pairs of EC-PDTCH blocks in an attempt to receive an RLC data
block. As such, it will view each 52-multiframe on a monitored TS as
potentially containing 6 pairs of EC-PDTCH blocks, where any one of these
pairs may potentially contain an expected RLC data block.
{width="5.388194444444444in" height="3.959722222222222in"}
Figure 6.2.5.12-1: Downlink Small Data Transmission
#### 6.2.5.13 EC-AGCH Downlink Allocation message
The EC-AGCH Downlink Allocation message is sent on the EC-AGCH of TS1 to
assign downlink resources to a device. The device is addressed with the TLLI.
Table 6.2.5.13-1: EC-AGCH Downlink Allocation information elements
+----------------------------------------------------------------------+ | \ | | | | \ ::= | | | | \ | | | | \ | | | | \ \-- # repetitions | | used when transmitting this message | | | | \ | | | | \ | | | | \ \-- reference to frequency | | parameters in System Information | | | | \; -- DL Coverage | | Class used during TBF | | | | \ \-- indication | | of what TNs that are part of the allocation | | | | \ | | | | \ \-- indicates if the device | | can wait before starting to read the assigned PDTCH | | | | \ \-- to be used | | for subsequent UL signaling | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | **QUARTER_HYPERFRAME_INDICATOR** (2 bits)\ | | The Quarter Hyperframe Indicator IE indicates what quarter | | hyperframe the last part of the assignment message is received in. | | | | **USED_DL_COVERAGE_CLASS** (3 bits)\ | | The Used DL Coverage Class IE indicates the number of repetitions | | that are used when transmitting this specific message. The IE is | | intended for other devices, with a downlink coverage class that | | requires fewer repetitions, which are listening to the same EC-AGCH | | blocks. Those devices can use this IE to determine that they can | | stop listening to the channel for some time. | | | | **SI_FP_index** (3 bits)\ | | The SI_FP_index IE specifies what frequency parameters set, as | | defined in the System Information on the EC-BCCH, that applies for | | the assignment. | +----------------------------------------------------------------------+
#### 6.2.5.14 EC-PCH Paging Request message
The EC-PCH Paging Request message is sent on EC-PCH of TS1 and may identify up
to two mobile stations. It may be sent to a mobile station in packet idle mode
to transfer MM information (i.e. trigger of cell update procedure) or to
trigger mobile station in idle mode to trigger channel access. The mobile
station is identified by its IMSI or P-TMSI.
Table 6.2.5.14-1: EC-PCH Paging Request Information Elements
+----------------------------------------------------------------------+ | \ | | | | \ | | | | \ \-- # repetitions | | used when transmitting this message | | | | { 0 -- Single IMSI included | | | | \ | | | | \| 1 _\-- One or two P-TMSIs included_ | | | | \ | | | | { 0 \| 1 \ } | | | | } ; | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | **USED_DL_COVERAGE_CLASS** (3 bits)\ | | The Used DL Coverage Class IE is used to indicate the number of | | repetitions that are used when transmitting this specific message. | | The IE is intended for other devices, with a downlink coverage class | | that requires fewer repetitions, which are listening to the same | | EC-PCH blocks. Those devices can use this IE to determine that they | | can stop listening to the channel for some time. | | | | **Page Mode** (2 bits) | | | | Bits | | | | 2 1 | | | | 0 0 Normal paging. | | | | 0 1 Extended paging. | | | | 1 0 Paging reorganization. | | | | 1 1 Same as before. | | | | NOTE: The value \"same as before\" has been defined instead of | | \"reserved\" to allow the use of this coding with another meaning in | | an upwards compatible way in later phases of the GSM system. | +----------------------------------------------------------------------+
#### 6.2.5.15 EC-GSM Cell Selection and reselection
##### 6.2.5.15.1 Idle mode
##### 6.2.5.15.1.1 PLMN Selection {#plmn-selection .H6}
At power on the device will make use of the legacy procedure for PLMN
selection wherein the NAS layer will indicate to the lower layers what PLMN to
choose and the device will then start the cell selection procedure for that
PLMN.
##### 6.2.5.15.1.2 Initial cell selection {#initial-cell-selection .H6}
At power on the EC-GSM device will initiate cell selection based on the legacy
procedure for an initial band search to identify the strongest BCCH carrier,
and if suitable (not barred etc.) start camping on that cell. The method of
BCCH carrier evaluation will take coverage class into account i.e. this will
be different [from]{.underline} legacy.
##### 6.2.5.15.1.3 Cell selection and reselection {#cell-selection-and-
reselection .H6}
It is proposed that no serving nor neighbor cell measurements are performed
when a device is in a Power Saving State,(PSM or eDRX), i.e. the device
performs serving cell measurements in idle mode whenever leaving the Power
Saving State for periodic reporting / eDRX cycles. A device should first
assume that the same serving cell as previous used for transmission of a
report can be used when starting a short sync procedure and attempting to read
the FCCH/EC-SCH. Within this document a short sync refers to when the device
remain within the same coverage (or better) and camps on the same cell and
therefore will be able to sync by reading the FCCH /EC-SCH of the cell. If
short sync fails a long sync might be initiated meaning a rescan of all
frequencies or frequencies according to some list e.g. the BA last for EC-GSM
Devices. EC-GSM devices should only need to be attempted to cell reselection
to neighbor cells that are indicated as supporting EC-GSM (which might be a
subset of the GSM neighbor cells). The neighbor cells supporting EC-GSM would
then be the ones indicated in the SI broadcasted on EC-BCCH.
\- Short sync success
> If the short sync is successful and with no indication of changed coverage
> according to some carrier signal strength measurements, no neighbor cell
> measurements or cell reselection procedure will be initiated and, if there
> is a pending uplink transmission, the device will continue by sending the
> access request in the existing cell using the same coverage class as
> indicated during the last uplink transmission. It should be noted that how
> the carrier signal strength is measured is FFS. Due to fluctuations in the
> surroundings e.g. temporarily obstacles as trains, trucks etc., the initial
> cell selection procedure might result in that a device camps on a cell that
> is non-optimal in a coverage sense. To avoid that devices in extended
> coverage, i.e. devices in a coverage class other than coverage class one,
> camps on a cell using a coverage class that is higher than necessary (e.g.
> when the use of a better coverage class may be possible in the serving cell
> or in a neighbor cell at a later point in time), serving cell and neighbor
> cell measurements should be performed at a periodic interval (i.e. in
> addition to when the short synchronization procedure fails).
>
> If the synchronization to the serving cell is successful but the access
> attempt to the network fails for a given coverage class, i.e. if maximum
> allowed number of retries for a given access attempt is reached, the
> coverage class may be increased by 1 until a successful access attempt is
> experienced or neighbor cell measurements can be triggered, potentially
> resulting in cell reselection. When an increase of coverage class is made in
> the serving cell, serving and neighbor cell measurements may be initiated to
> make sure that the device is not using a to high coverage class and/or
> camping on a non-optimal cell.
\- Short sync failure
> If the short sync fails (e.g. if the carrier signal measurements indicates a
> decrease in strength) the device will need to do serving and neighbor cell
> measurements and a possible cell reselection.
>
> A new cell should only be selected if it is suitable from a carrier signal
> strength perspective and its estimated coverage class is lower than or equal
> to the coverage class of the serving cell.
>
> The EC-GSM cell selection and reselection procedure should be based on the
> legacy GSM procedure but with adaptations for extended coverage devices with
> respect of averaging intervals and other values optimized for legacy
> devices.
##### 6.2.5.15.2 Packet transfer mode
When the device enters packet transfer mode no measurements are performed by
the device, i.e. the device will not attempt to decode the full BCCH data of
the serving cell nor will it attempt to check the BSIC for each of the
strongest non serving cells at a periodic interval. It is assumed that the
number of blocks needed to transmit a periodic or exception report is fairly
small and thus potential measurements will result in no or very little gain to
improve the reliability of sending the report. Failure to transmit a report
due to entering worse coverage will result in TBF failure which will trigger a
cell reselection upon returning to idle mode. Once a suitable cell is
identified and a corresponding downlink coverage class is identified a new
attempt to transmit the report is performed.
##### 6.2.5.15.2.1 Ready state {#ready-state .H6}
When the device leaves the packet transfer mode and enters Ready State it
might need to do a short sync before reading the PCH/AGCH according to its DRX
cycle. If this sync fails and/or the carrier signal strength values are
decreased below some known threshold, serving cell and neighbor cell
measurements should be made to trigger a possible update of the cell and
coverage class.
#### 6.2.5.16 DL signal level and coverage class estimation
For purposes of cell selection/reselection and coverage class estimation, it
is necessary for an EC-GSM MS to measure the downlink signal level of the
broadcast carriers of the serving cell and neighbor cells. In extended
coverage, this poses a challenge since the received signal levels are
sometimes below the thermal noise. A straightforward signal strength
measurement will therefore give an overestimation of the actual received
signal level of the broadcast carrier.
Figure 6.2.5.16-1 illustrates the problem of measuring received signal level
in extended coverage. The figure shows the power spectral density of a normal
burst (red) and a frequency correction burst (green) in relation to the noise
floor (black) at the MCL level (corresponding to E~b~/N~0~ = -6.3 dB for EC-
GSM). Clearly, a straightforward signal strength measurement would measure the
noise level rather than the wanted signal level.
{width="4.96875in" height="3.3125in"}
Figure 6.2.5.16-1: PSDs of normal burst and FCCH burst compared to noise floor
Different ways to measure the signal level of the wanted signal (a BCCH
carrier) can be considered, for instance:
\- Detecting and measuring signal level of FCCH bursts (5 per 51-multiframe as
per legacy GSM)
\- Measuring the signal level of EC-SCH after coherently combining all
repeated bursts (7 per 51-multiframe according to the current EC-GSM design)
\- Measuring the signal level of EC-AGCH/EC-PCH blocks (all blocks are based
on a 1-burst design and at least repeated twice)
Combinations of the above mentioned methods can be used to improve accuracy.
##### 6.2.5.16.1 DL signal level measurements on FCCH
The network synchronization process of EC-GSM is described and evaluated in
subclause 6.2.2.2.1 and subclause 6.2.6.1. This process includes detecting the
FCCH to determine time and frequency synchronization. During this process, the
signal level of the FCCH bursts can also be determined. At extended coverage,
several FCCH bursts will typically have to be detected to get a reliable
synchronization. By averaging the estimated signal level of all detected FCCH
bursts, an estimate of the average signal level of the broadcast carrier can
be derived.
### 6.2.6 Concept evaluation
#### 6.2.6.1 Network synchronization
##### 6.2.6.1.1 Simulation methodology
In this clause the network synchronization performance is evaluated according
to the methodology specified in clause 5.6 and the simulation assumptions in
Annex C.
For more details on methodology and results, see GPC150437 [6.2-6].
In the simulator a continuous BCCH carrier signal is generated. Frequency
correction bursts (FB) are transmitted at the appropriate positions (i.e. on
TN=0, FN=0,10,20,30,40). EC-SCH bursts are transmitted either according to the
current or alternative EC-SCH design. All other bursts are normal bursts (NB).
The signal is randomly offset in time with a uniform distribution between 0
and 235.4 ms (one 51-multiframe).
##### 6.2.6.1.2 Receiver processing
The signal is first filtered with a regular RX filter (180 kHz) and down-
sampled to symbol rate. Next, the signal is de-rotated by
{width="0.3333333333333333in" height="0.16666666666666666in"} to shift the
nominal center frequency of the FB to 0 Hz. At this stage, the useful FCCH
signal energy may be either at -18 kHz or +18 kHz due to the frequency offset.
Signal energy outside this range is filtered out with a narrow filter.
The signal is then processed one 51-multiframe length at a time, searching for
FB using a hypothesis testing method. Coherent combining is not used but
detected energy peaks (potential FB) are compared in time and frequency to
discard false detections. Valid peaks are used to estimate the frequency
offset and the multiframe structure.
If the multiframe start point is detected, the receiver attempts receive and
decode the next occurrence of EC-SCH, using the frequency offset and time
offset estimates from FCCH. During the same multiframe, the device also
receives additional FCCH bursts to improve its frequency offset estimate (and
timing estimate) in case EC-SCH decoding fails. If EC-SCH decoding fails, the
EC-SCH bursts and FCCH bursts of one more multiframe are received, etc.
For reception of EC-SCH the receiver may use combination of coherent
accumulation of I/Q samples (before demodulation) and chase combining (after
demodulation).
If EC-SCH has not been successfully decoded after 12 multiframes, the
synchronization is considered unsuccessful (i.e. a missed detection has
occurred).
NOTE: The number of multiframes searched before considering synchronization
unsuccessful impacts the missed detection ratio and false detection ratio. It
also impacts the time before synchronized to the network in case a cell
reconfirmation attempt is unsuccessful (either due to a missed detection or
due to mobility during sleep) and the device consequently starts to search
other frequencies. The value 12 provides a reasonable trade-off between missed
detection ratio, false detection ratio, and synchronization time (see clause
6.2.6.1.4).
##### 6.2.6.1.3 Simulation assumptions
##### 6.2.6.1.3.1 Signal to noise ratio {#signal-to-noise-ratio .H6}
Results are presented at SNRs ranging from -6.3 dB to 3.7 dB, corresponding
(see [6.2-5]) to coupling losses ranging from 164 dB (MCL) to 154 dB (GPRS
reference level + 10 dB).
##### 6.2.6.1.3.2 EC-SCH {#ec-sch-1 .H6}
Whether a EC-SCH block is decoded or not is based on an embedded EC-SCH object
that correctly follows the channel propagation in time, and is simultaneously
collected with the FCCH.
For the original EC-SCH design, the receiver uses coherent accumulation of I/Q
samples of EC-SCH bursts within a 51-multiframe (i.e. of the EC-SCH bursts in
seven consecutive TDMA frames) and chase combining between 51-multiframes. For
the alternative EC-SCH design, the receiver uses only chase combining.
##### 6.2.6.1.4 Simulation results
One of the most important metrics of its performance is the time elapsed until
synchronized. This is investigated in clause 6.2.6.1.4.1.
Other important metrics (see clause 5.6) are the distribution of the residual
frequency offset, presented in clause 6.2.6.1.4.2, and the missed detection
ratio and false detection ratio, shown in clause 6.2.6.1.4.3 and 6.2.6.1.4.4.
##### 6.2.6.1.4.1 Synchronization time {#synchronization-time .H6}
Figure 6.2.6.1-2 shows CDFs of the synchronization time (i.e. from starting to
search for the FCCH until the EC-SCH is decoded), and the average
synchronization time versus SNR.
Synchronization times for both the original EC-SCH, see figure 6.2.4.2-1, and
the alternative EC-SCH design, see figure 6.2.4.2-1a have been simulated.
{width="3.2381944444444444in"
height="2.154861111111111in"}{width="3.2381944444444444in"
height="2.154861111111111in"}
{width="3.2381944444444444in"
height="2.154861111111111in"}{width="3.2381944444444444in"
height="2.154861111111111in"}
Figure 6.2.6.1-2: CDFs of synchronization time (left) and average
synchronization time (right) for 1.2 km/h (top) and 30 km/h (bottom)
It should be noted that the synchronization time at the low end of the
coupling loss range (i.e. at high SNR) can likely be reduced significantly by
decoding the legacy SCH in addition to the EC-SCH.
##### 6.2.6.1.4.2 Residual frequency offset after synchronization {#residual-
frequency-offset-after-synchronization .H6}
The residual frequency offset at MCL = 164 dB is safely modeled by a normal
distribution with mean 0 Hz and standard deviation of 10 Hz, see figure
6.2.6.1-2a.
{width="4.067361111111111in" height="2.714583333333333in"}
Figure 6.2.6.1-2a: Distribution of residual frequency offset
##### 6.2.6.1.4.2a Residual time offset after synchronization {#a-residual-
time-offset-after-synchronization .H6}
The distribution of the residual time offset at MCL = 164 dB for the case when
EC-SCH is decoded based on either the original EC-SCH design or the
alternative EC-SCH design is shown in Figure 6.2.6.1-3.
{width="4.528472222222222in" height="3.0229166666666667in"}
Figure 6.2.6.1-3: Distribution of residual time offset
The residual offset is within ±1 symbol 99.7 % of the time. Note that part of
this offset is due to the varying time dispersion of the TU channel.
##### 6.2.6.1.4.3 Missed detection ratio {#missed-detection-ratio .H6}
The missed detection ratio shown in table 6.2.6.1-1. Note that due to the
simulation length, lower ratios than 5*10^-5^ cannot be measured.
Table 6.2.6.1-1: Summary of missed detection ratio
* * *
Case 1.2 km/h 30 km/h GPRS+10 dB (original) 0 0 GPRS+10 dB (alternative) 0 0
GPRS+20 dB (original) 0.0019 0.0006 GPRS+20 dB (alternative) 0.0034 0.0008
* * *
##### 6.2.6.1.4.4 False detection ratio {#false-detection-ratio .H6}
In order to make a false detection (i.e. the device believes to have made a
successful synchronization attempt when there is no BCCH carrier received)
with the described RX algorithm, the device first (incorrectly) finds the
multiframe start point, and further decode the non-existent EC-SCH without a
CRC failure.
To measure the false detection ratio, the FCCH simulator was run with noise as
input signal.
In the simulations, seven and eight false detection were registered during
20000 synchronization attempts, for the original and alternative EC-SCH
designs, respectively.
##### 6.2.6.1.5 Conclusions
When performing cell re-confirmation at the MCL of 164 dB, the average
synchronization time is 521 ms and 577 ms for the original and alternative EC-
SCH design respectively. The residual frequency offset has a standard
deviation of (less than) 10 Hz. At a coupling loss of 154 dB, the average
synchronization time is reduced to around 300 ms. This value can be expected
to decrease if the legacy SCH bursts are utilized in addition to the EC-SCH
bursts.
The missed detection ratio was found to be less than 0.5 % at 164 dB coupling
loss and (close to) 0 at 154 dB coupling loss.
The false detection ratio was found to be approximately 0.05 %.
#### 6.2.6.2 EC-RACH
##### 6.2.6.2.1 Link level evaluations
##### 6.2.6.2.1.1 False detection {#false-detection .H6}
A high false detection of the random access will waste resources in the
network, and hence it is of interest to ensure that a low false detection
rate, as low as GSM can be kept also for EC-GSM.
The performance of the EC-RACH channel has thus been evaluated using thermal
noise as input to the receiver, and the falsely detected RACH bursts are
recorded. The simulation assumptions as described in GP-150155[6.2-7]. has
been followed with the addition of assumptions listed in table 6.2.6.2-1.
Table 6.2.6.2-1: Simulation assumptions for EC-RACH false detection and blind
TSC detection
+-------------------------+-------------------------------------------+ | Parameter | Setting | +-------------------------+-------------------------------------------+ | Logical channel | RACH NB, see subclause 6.2.3.2.1,\ | | | RACH AB 8 bit or\ | | | RACH AB 11 bit. | +-------------------------+-------------------------------------------+ | TSC | 1 NB TSCs and 3 AB TSCs for CC 1.\ | | | 1 NB and 1 AB for other coverage classes. | +-------------------------+-------------------------------------------+ | Number of unique bursts | 1e6 | | | | | | 2e4 for investigation in 6.2.6.2.1.2 | +-------------------------+-------------------------------------------+ | Blind TSC Detection | On | +-------------------------+-------------------------------------------+ | Overlaid CDMA | Not used | +-------------------------+-------------------------------------------+
In GSM today there is a false detection requirement on the RACH defined in
3GPP TS 45.005 (see [5]) of 0.02%.
> \"For a BTS on a RACH or PRACH with a random RF input, the overall reception
> performance will be such that less than 0,02 % of frames are assessed to be
> error free.\"
This target false detection rate is aimed for also in the case of EC-GSM.
Furthermore, it can be noted that the false detection rate is effectively
increased by the support of extended coverage classes since the BTS will have
to attempt to decode more than one coverage class (sometimes up to six) in
some of the received timeslots, see figure 6.2.4.2-5.
The false detection rate (FDR) per coverage class, as well as the total false
detection rate, is shown in table 6.2.6.2-2. As can be seen, the minimum
requirement on 0.02 % is met.
Table 6.2.6.2-2: False detection rate on EC-RACH.
* * *
Coverage Class (Number \"repetitions\") FDR [%] Coverage Class 1 (1) 0.001
Coverage Class 2 (2) 0.002 Coverage Class 3 (4) 0.001 Coverage Class 4 (8)
0.001 Coverage Class 5 (16) 0.001 Coverage Class 6 (32) 0.003 **Total**
**0.009**
* * *
##### 6.2.6.2.1.2 Blind TSC detection {#blind-tsc-detection .H6}
In current GSM systems a BTS need to detect between three different TSCs on
the RACH, an 8-bit access, and two different 11-bit accesses. With EC-GSM,
this increases to four TSCs on TS0 with the introduction of normal burst RACH,
while on TS1 three different TSCs are at most used (8-bit access not
supported), see subclause 6.2.4.6.6.
Simulations have been run to ensure the performance degradation due to the
additional blind TSC detection is within acceptable limits.
The simulation assumptions in subclause 6.2.6.2.1.1 have been followed, and
the results on blind TSC detection (BTD) are shown in table 6.2.6.2-3. As can
be seen, the negative impact on performance is limited to 0.2 dB for coverage
class 1, and 0.1 dB for other coverage classes.
Table 6.2.6.2-3: Blind TSC detection degradation.
* * *
Coverage Class (Number \"repetitions\") BTD [dB] Coverage Class 1 (1) 0.2
Coverage Class 2 (2) 0.1 Coverage Class 3 (4) 0.1 Coverage Class 4 (8) 0.1
Coverage Class 5 (16) 0.1 Coverage Class 6 (32) 0.1
* * *
##### 6.2.6.2.1.3 Timing Advance estimation {#timing-advance-estimation .H6}
The Timing Advance (TA) performance for EC-RACH in extended coverage has been
evaluated by means of simulation. Timing advance is evaluated in terms of time
synchronization performance. Synchronization has been evaluated according to
the settings in Table 6.2.6.2-4. Only demodulations for which the CRC passed
are considered. This would reflect the case when the BTS has received the
system access request, and hence can assign the device a timing advance value.
Table 6.2.6.2-4: Simulation assumptions for timing advance performance
evaluation
* * *
Parameter Setting
Logical channel EC-RACH, 11bit access burst
Propagation model Typical Urban
MS speed 1.2 km/h
Frequency hopping No
Receiver mode 2 Rx antennas, MRC
Repetition combining I/Q accumulation (within 51-multiframe) with frequency
offset compensation and chase combining (between 51-multiframes).
TSC RACH TSC 1
Number of repetitions 32
Number of unique bursts 10000\ (Given k repetitions, k x 10000 bursts are
transmitted)
SNR -14.3 dB (corresponding to MCL 164 dB)
Interfering bursts None
Frequency error Drawn from a normal distribution with mean 0 Hz and standard
deviation 10 Hz independent for carrier and all interferers. New realization
after each completed repetition interval. The frequency is drifting with 22.5
Hz/s during transmissions and 9 Hz/s when not transmitting.
* * *
The results of the EC-RACH synchronization simulation are shown in Figure
6.2.6.2-1. Figure 6.2.6.2-1 shows that 96.46% of the received EC-RACHs are
synchronized perfectly and 99.97% synchronized to within +/-1 symbol of the
true synchronization position. 87% of the received EC-RACHs passed CRC.
{width="6.694444444444445in" height="4.459027777777778in"}
Figure 6.2.6.2-1: EC-RACH synchronization performance
There is no explicit requirement in the specifications today (see 3GPP TS
45.010 [26] for time synchronization requirement) for the TA estimation. From
subclause 5.4 the behavior of the BTS is described as:
> \"When the BTS detects an access burst transmission on RACH or PRACH, it
> will measure the delay of this signal relative to the expected signal from
> an MS at zero distance under static channel conditions. This delay, called
> the timing advance, will be rounded to the nearest normal symbol period and
> included in a response from the BTS when applicable.\".
The simulations here have been run under a TU channel propagation condition,
and hence are more challenging than the static reference case required by the
standard. Still, the accuracy is seen to be close to 100% with a symbol offset
within 1 symbol period. Considering that the TU channel will introduce offsets
in the sync position due to a delay spread exceeding the symbol period in GSM,
these results are considered more than sufficient for EC-RACH TA performance
in extended coverage.
##### 6.2.6.2.2 System level evaluations
The evaluations presented in this subclause are a summary of the full
evaluation presented in [6.2-14].
##### 6.2.6.2.2.1 Aspects of the EC-RACH modelling {#aspects-of-the-ec-rach-
modelling .H6}
The EC-RACH is mapped onto TS1 of the BCCH carrier, and serves users both in
normal and extended coverage.
There are in total six coverage classes defined. These are also used by the
system level simulations. A lower number of coverage classes have also been
investigated where 1, 4 or 32 repetitions are used by a device when accessing
the system.
The receiver performs IQ accumulation of the received RACH repetitions with
interference compensation by weighting the received signal, with the inverse
energy of the signal.
To model the link performance, the methodology described in [6.2-15] has been
used.
No power control is applied on the EC-RACH channel or on the EC-AGCH channel.
The burst type used in the simulations is the Access Burst using the 11-bit
access format, or the Normal burst using a 40-bit format, see subclause
6.2.4.6.
No overlaid CDMA is assumed in the simulations.
The number of RACH requests (initial RACH request plus RACH request retries)
per system access attempt is assumed to be 6. This value is signaled in the
System Information and applicable to all devices in the system, see subclause
6.2.5.3.
The sleep time between two system access attempts is assumed to be [0.5, 0.5,
0.5, 0.5, 1.0, 2.0] seconds for the 6 coverage classes. It is defined as the
silent period between the last burst of a prior system access attempt and the
first burst of the next system access attempt.
No information between RACH requests is assumed to be stored by the network.
##### 6.2.6.2.2.1 Simulation settings and output {#simulation-settings-and-
output .H6}
The system level simulation assumptions in Annex D have been followed.
Other specific assumptions are shown in Table 6.2.6.2.2-1.
Table 6.2.6.2.2-1. Simulation assumptions, in addition to the ones in Annex D.
+----------------------------------+----------------------------------+ | Parameter | Value | +----------------------------------+----------------------------------+ | System size | 108 cells | +----------------------------------+----------------------------------+ | System access attempts simulated | \~ 1.6e5 | +----------------------------------+----------------------------------+ | Frequency re-use on BCCH layer | 12 | +----------------------------------+----------------------------------+ | #TRX/cell | 1 (BCCH) | +----------------------------------+----------------------------------+ | Arrival rate CIoT | 6.8 users/sec (see note) | +----------------------------------+----------------------------------+ | Max. RACH requests per system | 6 (denoted as N) | | access attempts | | +----------------------------------+----------------------------------+ | Sleep time between RACH requests | 0.5, 0.5, 0.5, 0.5, 1.0, 2.0 sec | | (per coverage class) | | +----------------------------------+----------------------------------+ | Power control | Off (EC-RACH) | | | | | | Off (EC-AGCH) | | | | | | On (CS users, UL) | | | | | | Off (CS users, DL (BCCH | | | carrier)) | +----------------------------------+----------------------------------+ | Device output power | 23 dBm (100%), or, | | | | | | 33 dBm (100%) | +----------------------------------+----------------------------------+ | CS output power | 33 dBm | +----------------------------------+----------------------------------+ | Building penetration loss | 1 and 2, see Annex D.1 | | scenario | | +----------------------------------+----------------------------------+ | Inter-site correlation | 0.5 and 0.75, see Table D.1 | | coefficient for building | | | penetration loss | | +----------------------------------+----------------------------------+ | Access type | Access Burst (11-bit) | | | | | | Normal Burst (40-bit), see | | | [6.2-16] | +----------------------------------+----------------------------------+ | NOTE: Derived from traffic model | | | in Annex E. | | +----------------------------------+----------------------------------+
The output is shown as:
\- Delay CDF, as the time from when the device application triggers a first
access request to successful reception of the access grant message by the
device.
\- For the normal burst access, used by the ASAP feature in EC-GSM, see
subclause 6.2.4.6, this represents the delay until contention has been
resolved from the perspective of the device, and hence would represent the
random access delay defined in subclause 5.3.5.
\- For the random access delay for access burst based access this does not
represent the full delay until contention has been resolved from the
perspective of the device, which is defined until the first PUAN with the
valid TLLI has been received, and hence the procedure is overlapping with the
packet data transfer. The random access delay for this procedure is shown in
subclause 6.2.6.13.
\- The average UL resources required per user per initiated system access
attempt, i.e. including both blind transmission and additional RACH requests,
if necessary.
\- The percentage of the initiated system access attempts that were not
successful after reaching the maximum number of RACH requests (initial RACH
request plus RACH request retries) and with no matching EC-AGCH response.
##### 6.2.6.2.2.2 Without interference from legacy users {#without-
interference-from-legacy-users .H6}
In this set of results the coverage class is estimated only based on the
signal strength experienced by the device. The estimation of the signal
strength is assumed to be based on the findings in subclause 6.2.6.8, where it
can be seen that the error in the signal strength estimation can be modeled by
a normal distribution with standard deviation of 4 dB. That is, some cells
will appear stronger or weaker than they actually are. The device always
selects what is believed to be the strongest cell. Effectively this increases
the interference levels in the network, as well as the resource utilization,
compared to the ideal signal strength estimation without any error.
The delay CDFs for the 23 dBm and 33 dBm output power classes are shown in
Figure 6.2.6.2.2-1.
As can be seen, the vast majority of users will experience a successful system
access attempt in their first RACH request.
{width="2.834722222222222in"
height="1.8881944444444445in"}{width="2.834722222222222in"
height="1.8881944444444445in"}
Figure 6.2.6.2.2-1: Delay CDF - non-ideal cell selection (AB -- left, NB \-
right).
The average resource utilization as well as the percentage of failed system
access attempts on the EC-RACH is shown in Table 6.2.6.2.2-2.
Table 6.2.6.2.2-2: Average resource utilization/system access attempt, without
interference from legacy users
* * *
Output\ BPL Resource utilization UL\  
power\ [Av. # bursts]  
[dBm]
                                     AB                         NB
23 Scenario 1, corr. 0.50 1.7 1.7
33 1.1 1.1
23 Scenario 2, corr. 0.50 2.1 2.1
33 1.2 1.1
23 Scenario 1, corr. 0.75 2.1 2.1
33 1.2 1.1
23 Scenario 2, corr. 0.75 2.7 2.6
33 1.3 1.3
* * *
As can be seen, the average resource utilization is similar for both Access
burst based access and Normal burst based access, which would be expected due
to the very similar link level performance, as shown in [6.2-16]. The factor
that makes normal burst in some cases use slightly less resources is the fact
that a significantly shorter synchronization window is used due to the reduced
guard period that allows a more efficient interference suppression to be used.
In a sensitivity limited scenario, no differences would be expected.
Also, there is a clear impact by using a lower output power class by increased
resource utilization. Nevertheless, the absolute level of the average resource
utilization is low. I.e. with a 23 dBm output power class, a user on average
will transmit 1.7-2.7 RACH bursts taking both blind transmissions and the
different number of RACH requests needed into account. This is due to the fact
that the vast majority of the users are in coverage class 1.
The percentage of the system access attempts that were not successful after
reaching the maximum number of RACH requests, i.e. failed system access
attempts, are very small (\ | | | | | 120kB | | +----------------+----------------+----------------+----------------+
##### 6.2.6.12.3 SoC Silicon Area and Technology Node
No major change is expected in the RF transceiver since its main functions
stays the same. However, some reduction is foreseen when only single band
support is considered as also stated in 6.2. 12.1.5.
DSP core function is unchanged compared the GRPS reference but the memory
requirements listed in the Table 6.2.6.12-2 could be reduced.
The peripheral super-block in EC-GSM is going to be much smaller than baseline
GPRS SoC. Controller super-block is going to be smaller than baseline GPRS
implementation due to smaller core and smaller memory size requirement.
The area reduction of up to 20% is possible in the EC-GSM implementation due
to the simplifications in \"Core functions\" (RF Transceiver, CPU, Modem,
associated RAM, etc.). Another important aspect is that current legacy GPRS
SoC solutions are already optimized in terms of architecture and
implementation, EC-GSM therefore is going to be based on a very stable and
optimized implementation.
Table 6.2.6.12-6: Silicon area reduction estimates
* * *
Function Estimated reduction Modem 15-20% Note: RF transceiver complexity
reduction (as part of SoC or as an external component) has not been quantified
* * *
Technology node to be used for EC-GSM device depends on the roadmap of the
manufacturer.
##### 6.2.6.12.4 Power Amplifier
##### 6.2.6.12.4.1 External PA {#external-pa .H6}
EC-GSM device using the +33 dBm output power class is going to require an
external PA.
Since number of bands supported by EC-GSM may be less than legacy GPRS
devices, only one external PA may be needed, which allows for a complexity
reduction compared to commercially available multi-band GPRS devices.
External PA has the benefit of avoiding heat up in SoC since it is mounted on
a PCB. It improves the cross talk resilience in SoC as well. Another advantage
is to be able to choose different PA\'s from different vendors for optimum
performance.
##### 6.2.6.12.4.2 Integrated PA {#integrated-pa .H6}
For a device that makes use of the new 23 dBm output power class, PA
integration onto the chip can be achieved.
This integration does not differ between different candidate solutions, and
hence the analysis provided in [6.2-17] applies to EC-GSM as well.
##### 6.2.6.12.5 External Components apart from PA
##### 6.2.6.12.5.1 General {#general-13 .H6}
Figure 6.2.6.12-1 shows some external components needed for EC-GSM devices.
Most of them are common to all CIoT candidate technologies.
##### 6.2.6.12.5.2 Crystal {#crystal .H6}
Two crystals are used in the proposed EC-GSM implementation, which are 32 kHz
for RTU and 26 MHz for system clock.
##### 6.2.6.12.5.3 External Memory {#external-memory .H6}
As shown Figure 6.2.6.12-1, external memory is needed in a EC-GSM device to
store all mobile device specific content. This can also be used for software
update.
##### 6.2.6.12.6 Conclusion
An estimate of the complexity reduction from EC-GSM is provided, relatively a
pure GPRS implementation.
The complexity reduction estimates from the analysis are provided in table
6.2.6.12-5 for the \"Core functions\" (RF Transceiver, CPU, Modem, associated
RAM, etc.) according the complexity analysis defined in 5.5.
Table 6.2.6.12-7: Reduction estimates according to clause 5.5
* * *
Function Estimated reduction Modem silicon 15-20% Note: RF transceiver
complexity reduction (as part of SoC or as an external component) has not been
quantified and would lead to additional reduction.
* * *
The protocol stack memory and the dynamic and static memory reduction for EC-
GSM is shown in Table 6.2.6.12-3 to be around 35-40%. This saving is to a
large extent dependent on the assumed memory required for the whole product,
including the application layer and could be seen, in many cases, as marginal
when the application embedded in the final product is requiring a lot of
memory. This is not EC-GSM specific but would apply to all candidate solutions
in the technical report.
Furthermore, enabling EC-GSM technology implies changes mainly to lower layers
whereas upper layers remain unaffected. As a result, EC-GSM technology can
significantly benefit from the reuse of an already available software
solution.
RF optimization due to single band use, either in term of SoC die reduction or
in term of complete RF transceiver change (as an external component), is not
done in this study but will also trigger a potential, not marginal, complexity
reduction.
The use of internal PA for some devices categories (23 dBm output power class)
can also provide a significant complexity reduction.
#### 6.2.6.13 System simulations for capacity and latency evaluation
This subclause presents capacity and latency evaluation results for MS
generated user data, as defined in subclause 5.2.2, 5.3.2, 5.3.3 and 5.3.5,
based on system-level simulations.
The traffic model from Annex E and the evaluation methodology from subclause
5.2 and 5.3 are followed.
##### 6.2.6.13.1 System parameters
System simulator settings are summarized in table 6.2.6.13-1. For more
details, see reference [6.2-18].
Table 6.2.6.13-1: Simulation assumptions
+----------------------------------+----------------------------------+ | Parameter | Value | +----------------------------------+----------------------------------+ | General | | +----------------------------------+----------------------------------+ | Simulation time | 100 s | +----------------------------------+----------------------------------+ | System size | 192 cells | +----------------------------------+----------------------------------+ | Direction | UL and DL | +----------------------------------+----------------------------------+ | Frequency band | 900 MHz | +----------------------------------+----------------------------------+ | Layer | BCCH | +----------------------------------+----------------------------------+ | Frequency re-use | 12 | +----------------------------------+----------------------------------+ | BTS antenna diversity | MRC | +----------------------------------+----------------------------------+ | BTS output power | 43 dBm | +----------------------------------+----------------------------------+ | CIoT parameters | | +----------------------------------+----------------------------------+ | EC-PDTCH timeslots per cell | 4^1^ | +----------------------------------+----------------------------------+ | CIoT arrival rate per cell and | 1, 5, 6.8^2^, 9 | | second | | +----------------------------------+----------------------------------+ | Chase combining | On^4^ | +----------------------------------+----------------------------------+ | Incremental Redundancy | Off | +----------------------------------+----------------------------------+ | Power control | Off | +----------------------------------+----------------------------------+ | IP header compression | Off/On | +----------------------------------+----------------------------------+ | Device output power | 23/33 dBm | +----------------------------------+----------------------------------+ | BPL model | 100 % CIoT devices subject to | | | BPL | +----------------------------------+----------------------------------+ | BPL scenario and inter-site | Scenario 1, correlation 0.50 | | correlation | | | | Scenario 1, correlation 0.75 | | | | | | Scenario 2, correlation 0.50 | | | | | | Scenario 2, correlation 0.75 | +----------------------------------+----------------------------------+ | Device timeout | 40 seconds | +----------------------------------+----------------------------------+ | CS parameters | | +----------------------------------+----------------------------------+ | CS timeslots per cell | 4 dedicated^1,3^ | +----------------------------------+----------------------------------+ | CS load | 4 E per cell | +----------------------------------+----------------------------------+ | CS output power | 43 dBm in DL, max 33 dBm in UL | +----------------------------------+----------------------------------+ | CS power control | Off in DL, on in UL | +----------------------------------+----------------------------------+ | DTX | Off in DL, on in UL | +----------------------------------+----------------------------------+ | BPL model | CS devices are not subject to | | | BPL | +----------------------------------+----------------------------------+ | NOTE 1: The allocation of the CS | | | and IoT timeslots in the TDMA | | | frame are randomly offset per | | | cell to model an unsynchronized | | | network. | | | | | | NOTE 2: 6.8 reports/commands per | | | cell and second corresponds to | | | the targeted number of devices | | | per sector in the study. | | | | | | NOTE 3: CS are put on timeslots | | | 0 -- 1 to model BCCH and RACH. | | | | | | NOTE 4: Impact to chase | | | combining from header error and | | | Stealing Flag error modeled as | | | described in subclause 5.6, for | | | EC-GSM using approach 2. If | | | there are no relevant errors | | | preventing chase combining, | | | chase combining is modelled with | | | addition of linear SINR. | | +----------------------------------+----------------------------------+
##### 6.2.6.13.2 Coverage classes
Table 6.2.6.13-2 gives the details of the coverage classes.
Table 6.2.6.13-2/ MCS and number of blind transmissions per coverage class
* * *
Coverage Class Number of blind transmissions for PDTCH and PACCH MCS for PDTCH
CC1 1 MCS-4 CC2 1 MCS-1 CC3 2 MCS-1 CC4 4 MCS-1 CC5 8 MCS-1 CC6 16 MCS-1
* * *
##### 6.2.6.13.3 Cell selection and coverage class estimation
Based on the findings in subclause 6.2.6.8 the error in the signal strength
estimation can be modeled by a normal distribution with standard deviation of
4 dB. This is modelled by applying an independent estimation error, according
to N(0,4 dB), to each base station. This implies that some users will not
select the optimum serving cell, and also not the most appropriate coverage
class (the one that minimizes resource utilization). That is, some cells will
appear stronger or weaker than they actually are. The device always selects
what is believed to be the strongest cell. Effectively this increases the
interference levels in the network, as well as the resource utilization.
##### 6.2.6.13.4 Control signaling
Packet uplink ACK/NACK (PUAN) is sent on EC-PACCH/D to (negatively)
acknowledge data sent in the UL and assign fixed allocations to the MS. In the
simulations its performance is pessimistically modeled with MCS-1 using the
same number of blind transmissions as EC-PDTCH/D (but without HARQ
retransmissions). If a PUAN with a fixed UL allocation assignment is
unsuccessfully received the corresponding fixed UL allocation will be silent,
i.e. the allocated MS will not transmit anything, but the radio block
resources are consumed.
Packet downlink ACK/NACK (PDAN) is sent on EC-PACCH/U to (negatively)
acknowledge data sent in the DL. In the simulations its performance is
pessimistically modeled with MCS-1 using the same number of blind
transmissions as EC-PDTCH/D (but without HARQ retransmissions).
##### 6.2.6.13.5 Circuit switched users
The CS users are used as interferers on the remaining 4 TS on the used UL and
DL carrier. In UL, power control and DTX are used, according to common
assumptions, see [4]. The maximum UL output power for CS users is 33 dBm in
all scenarios. For DL, power control and DTX are not used since the BCCH layer
is modelled.
No BPL is applied to the CS users.
##### 6.2.6.13.6 Simulated scenarios
Table 6.2.6.13-3 summarizes the simulated scenarios and clarifies the legends
in the figures presented in clause 6.2.6.13.8.
Table 6.2.6.13-3: Simulated scenarios
+--------------+---------+--------------+--------------+--------------+ | Legend text | CIoT\ | IP Header | BPL scenario | BPL | | | output\ | Compr. | | inter-site | | | power | | | correlation | | | | | | coefficient | | | [dBm] | | | | +--------------+---------+--------------+--------------+--------------+ | 33 dBm BPL | 33 | Off | 1 | 0.5 | | scenario | | | | | | 1/0.5 | | | | | +--------------+---------+--------------+--------------+--------------+ | 33 dBm BPL | 33 | Off | 1 | 0.75 | | scenario | | | | | | 1/0.75 | | | | | +--------------+---------+--------------+--------------+--------------+ | 33 dBm BPL | 33 | Off | 2 | 0.5 | | scenario | | | | | | 2/0.5 | | | | | +--------------+---------+--------------+--------------+--------------+ | 33 dBm BPL | 33 | Off | 2 | 0.75 | | scenario | | | | | | 2/0.75 | | | | | +--------------+---------+--------------+--------------+--------------+ | 33 dBm BPL | 33 | On | 1 | 0.5 | | scenario | | | | | | 1/0.5 IPc | | | | | +--------------+---------+--------------+--------------+--------------+ | 33 dBm BPL | 33 | On | 1 | 0.75 | | scenario | | | | | | 1/0.75 IPc | | | | | +--------------+---------+--------------+--------------+--------------+ | 33 dBm BPL | 33 | On | 2 | 0.5 | | scenario | | | | | | 2/0.5 IPc | | | | | +--------------+---------+--------------+--------------+--------------+ | 33 dBm BPL | 33 | On | 2 | 0.75 | | scenario | | | | | | 2/0.75 IPc | | | | | +--------------+---------+--------------+--------------+--------------+ | 23 dBm BPL | 23 | Off | 1 | 0.5 | | scenario | | | | | | 1/0.5 | | | | | +--------------+---------+--------------+--------------+--------------+ | 23 dBm BPL | 23 | Off | 1 | 0.75 | | scenario | | | | | | 1/0.75 | | | | | +--------------+---------+--------------+--------------+--------------+ | 23 dBm BPL | 23 | Off | 2 | 0.5 | | scenario | | | | | | 2/0.5 | | | | | +--------------+---------+--------------+--------------+--------------+ | 23 dBm BPL | 23 | Off | 2 | 0.75 | | scenario | | | | | | 2/0.75 | | | | | +--------------+---------+--------------+--------------+--------------+ | 23 dBm BPL | 23 | On | 1 | 0.5 | | scenario | | | | | | 1/0.5 IPc | | | | | +--------------+---------+--------------+--------------+--------------+ | 23 dBm BPL | 23 | On | 1 | 0.75 | | scenario | | | | | | 1/0.75 IPc | | | | | +--------------+---------+--------------+--------------+--------------+ | 23 dBm BPL | 23 | On | 2 | 0.5 | | scenario | | | | | | 2/0.5 IPc | | | | | +--------------+---------+--------------+--------------+--------------+ | 23 dBm BPL | 23 | On | 2 | 0.75 | | scenario | | | | | | 2/0.75 IPc | | | | | +--------------+---------+--------------+--------------+--------------+
##### 6.2.6.13.7 Failed attempts
A timeout function is implemented in the simulator that cancels a transfer if
it last for more than 40 seconds. In this case, the attempt to transfer the
report is considered to have failed.
##### 6.2.6.13.8 Results
The results presented are:
\- Latency of MAR periodic reports
\- The latency includes time to synchronize to the network, time for random
access and time to transfer the message.
\- Network synchronization and random access are evaluated in separate
simulations where both the EC-CCCH on the DL and the EC-CCCH on the UL (EC-
RACH) are modeled, see subclause 6.2.6.1 and 6.2.6.2.2. Delays from these are
based on latency CDFs per coverage class for network synchronization time and
random access time, respectively. For the random access delay, use of Access
Bursts has been assumed. An example of the CDF curves used is provided in
figure 6.2.6.13-1. For the RACH delay, the example is provided for BPL
scenario 2 and inter-siter correlation coefficient 0.5 using 33 dBm output
power.
{width="2.8125in" height="2.1041666666666665in"}{width="3.25in"
height="1.9895833333333333in"}
Figure 6.2.6.13-1: Sync delay CDF (left) and RACH delay CDF (right) for
different coverage classes
\- The results are presented as CDFs of the delay at the target traffic load
(6.8 reports per cell and second), see figure 6.2.6.13-2.
\- Failed attempts are not included in the statistics (following the agreed
methodology).
\- Latency of DL application Ack
\- Latency is measured from the time an application layer DL ACK is received
at the base station till the time when the device has successfully received
the application layer DL ACK
\- The results are presented as CDFs of the delay at the target traffic load
(6.8 users per cell and second), see figure 6.2.6.13-3.
\- Random access delay for one phase access
\- According to subclause 5.3.5, random access delay is measured until the
point in time where contention is resolved from the perspective of the device.
In case an Access Burst is used on EC-RACH (i.e. one phase access), contention
is resolved when the first PUAN containing a valid TLLI is received by the MS,
which for EC-GSM will typically happen after the first fixed allocation has
ended. In other words, the random access delay includes both time for the
actual random access procedure and part of the data transfer. For the
corresponding random access delay for Normal Burst access, see subclause
6.2.6.2.2.
\- Random access delay including only the time of the random access procedure
for Access Burst is evaluated in subclause 6.2.6.2.2. Random access delay and
data transfer delay until the first PUAN are added in post-processing based on
latency CDFs per coverage class.
\- CDFs of the random access delay in case of one-phase access are presented
in figure 6.2.6.13-4.
\- Resource utilization
\- This represents the average amount of EC-PDTCH UL and DL resources required
per cell in the system, at the target traffic load (6.8 reports per cell and
second).
\- Failed attempts
\- This represents the percentage of the attempts that were not successful,
i.e. did not manage to get the report through during 40 seconds.
\- Capacity
\- Measured as spectral efficiency in number of delivered reports/sector/200
kHz/hour, at the target traffic load (6.8 reports per cell and second). The
metric is calculated as\ \ (#sent reports per sector per hour)*(1 - failed
attempts)/ 12,
where 12 is the frequency re-use, see table 6.2.6.13-1.\ It should be noted
that only a fraction of the timeslots are actually utilized by CIoT on
average, while the rest will be available for multiplexed legacy PS and CS
services, so the reported capacity will be an underestimation.
{width="3.1875in" height="2.3854166666666665in"}{width="3.1875in"
height="2.3958333333333335in"}
Figure 6.2.6.13-2: CDF of latency for MAR periodic reports with 6.8 users per
cell-second. Left: 33 dBm CIoT MS output power. Right: 23 dBm CIoT MS output
power
{width="3.1875in" height="2.3958333333333335in"}{width="3.1875in"
height="2.3958333333333335in"}
Figure 6.2.6.13-3: CDF of latency for DL Application Ack with 6.8 users per
cell-second. Left: 33 dBm CIoT MS output power. Right: 23 dBm CIoT MS output
power.
{width="3.1875in" height="2.3958333333333335in"}{width="3.1875in"
height="2.3958333333333335in"}
Figure 6.2.6.13-4: CDF of random access delay for one phase access with 6.8
users per cell-second. Left: 33 dBm CIoT MS output power. Right: 23 dBm CIoT
MS output power
The simulation results are summarized in Table 6.2.6.13-4.
Table 6.2.6.13-4: Summary of results
+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | CIoT\ | IP | BPL | 9 | 9 | 9 | Av | Av | Cap | | ou | H | scena | 5^th^ | 5^th^ | 5^th^ | erage | erage | acity | | tput\ | eader | rio/\ | | | | | | \ | | power | C | inter | perce | perce | perce | Res | Res | [#re | | | ompr. | -site | ntile | ntile | ntile | ource | ource | ports | | [ | | c | | | | | | per | | dBm] | | orrel | la | la | r | U | U | s | | | | ation | tency | tency | andom | tiliz | tiliz | ector | | | | c | | | a | ation | ation | per | | | | oeffi | MAR | DL | ccess | | | 200 | | | | cient | Peri | App | d | UL | DL | kHz | | | | | odic\ | Ack\ | elay\ | \ | \ | per | | | | | [s] | [s] | [s] | [TS] | [TS] | h | | | | | | | | | | our] | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | Off | 1/0.5 | 1.1 | 0.37 | 0.31 | 0.7 | 0.5 | 2.0∙ | | | | | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | Off | 1 | 1.2 | 0.32 | 0.38 | 0.8 | 0.5 | 2.0∙ | | | | /0.75 | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | Off | 2/0.5 | 1.3 | 0.38 | 0.47 | 0.8 | 0.5 | 2.0∙ | | | | | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | Off | 2 | 1.5 | 0.37 | 0.62 | 0.9 | 0.5 | 2.0∙ | | | | /0.75 | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | On | 1/0.5 | 1.0 | 0.39 | 0.28 | 0.5 | 0.3 | 2.0∙ | | | | | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | On | 1 | 1.1 | 0.29 | 0.34 | 0.5 | 0.3 | 2.0∙ | | | | /0.75 | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | On | 2/0.5 | 1.1 | 0.35 | 0.38 | 0.6 | 0.4 | 2.0∙ | | | | | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | On | 2 | 1.3 | 0.29 | 0.48 | 0.6 | 0.4 | 2.0∙ | | | | /0.75 | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | Off | 1/0.5 | 1.3 | 0.36 | 0.52 | 0.9 | 0.5 | 2.0∙ | | | | | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | Off | 1 | 1.7 | 0.34 | 0.84 | 1.1 | 0.5 | 2.0∙ | | | | /0.75 | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | Off | 2/0.5 | 2.0 | 0.44 | 1.1 | 1.2 | 0.5 | 2.0∙ | | | | | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | Off | 2 | 4.3 | 0.70 | 2.5 | 1.7 | 0.6 | 2.0∙ | | | | /0.75 | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | On | 1/0.5 | 1.1 | 0.36 | 0.38 | 0.6 | 0.4 | 2.0∙ | | | | | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | On | 1 | 1.3 | 0.25 | 0.54 | 0.8 | 0.4 | 2.0∙ | | | | /0.75 | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | On | 2/0.5 | 1.5 | 0.29 | 0.70 | 0.9 | 0.4 | 2.0∙ | | | | | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | On | 2 | 2.8 | 0.19 | 1.4 | 1.2 | 0.4 | 2.0∙ | | | | /0.75 | | | | | | 10^3^ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+
#### 6.2.6.14 System capacity evaluation for software update/reconfiguration
traffic
##### 6.2.6.14.1 Simulation assumptions
The capacity performance of software update/reconfiguration is evaluated
according to the methodology specified in subclause 5.2.3, the simulation
assumptions in Annex D, and the traffic model in Annex E.2.4. The simulation
assumptions are the same as in subclause 6.2.6.13.1 with exception for the
parameters in table 6.2.6.14-1.
Table 6.2.6.14-1: Simulation assumptions
* * *
Parameter Value Simulation length > 62000 finished software
update/reconfigurations per scenario CIoT arrival rate per cell and second
0.0034^1^ Legacy CS traffic Not modelled NOTE: This corresponds to 52547
devices in each cell, accessing on average every 180 days. For simulation
technical reasons, a 500 times higher arrival rate was actually simulated, and
the resource utilization downscaled by the same factor in post-processing.
* * *
##### 6.2.6.14.2 Results
TS utilization represents the average amount of EC-PDTCH/EC-PACCH UL and DL
resources (timeslots) required per cell in the system. I.e. this represents
the average number of TS over time expected to be utilized per cell on the
BCCH carrier in the simulations.
Failed attempts represent the percentage of the attempts that were not
successful, i.e. did not manage to get the report through within 40 seconds.
Considering the number of reports simulated (62000, see table 6.2.6.14-1) a
lowest representable percentage of failed attempts of 0.1% has been assumed
(representing around 60 error events).
The results are summarized in table 6.2.6.14-2.
Table 6.2.6.14-2: TS utilization and failed attempts.
* * *
CIoT MS\ IP header compr. BPL\ BPL\ TS\ TS\ Failed attempts\ output\ Scenario
inter-site\ utilization\ utilization\ [%] power\ correlation\ UL DL  
[dBm] coefficient
33 Off 1 0.50 0.0002 0.0012 ≤ 0.1%
33 Off 2 0.50 0.0002 0.0013 ≤ 0.1%
33 Off 1 0.75 0.0002 0.0012 ≤ 0.1%
33 Off 2 0.75 0.0003 0.0013 ≤ 0.1%
33 On 1 0.50 0.0002 0.0012 ≤ 0.1%
33 On 2 0.50 0.0002 0.0013 ≤ 0.1%
33 On 1 0.75 0.0002 0.0011 ≤ 0.1%
33 On 2 0.75 0.0003 0.0012 ≤ 0.1%
23 Off 1 0.50 0.0002 0.0012 ≤ 0.1%
23 Off 2 0.50 0.0003 0.0013 ≤ 0.1%
23 Off 1 0.75 0.0002 0.0012 ≤ 0.1%
23 Off 2 0.75 0.0003 0.0013 ≤ 0.1%
23 On 1 0.50 0.0002 0.0012 ≤ 0.1%
23 On 2 0.50 0.0003 0.0012 ≤ 0.1%
23 On 1 0.75 0.0002 0.0011 ≤ 0.1%
23 On 2 0.75 0.0003 0.0012 ≤ 0.1%
* * *
##### 6.2.6.14.3 Conclusions
The impact on system capacity when running software upgrade/reconfiguration
traffic has been evaluated following the agreed evaluation framework and
traffic model. The resource utilization is found to be 0.0011-0.0013 downlink
timeslots and 0.0002-0.0003 uplink timeslots.
Expressed as a proportion of the total available resource per cell (i.e. four
EC-PDTCH timeslots), this corresponds to approximately 0.03 % of the downlink
resources and less than 0.01 % of the uplink resources.
#### 6.2.6.15 System Simulations for Capacity and Latency Evaluation (source
2)
In this section, we evaluate the proposed building penetration loss provided
in Annex E. In addition, the downlink and uplink system level performance
results for the candidate EC-GSM solution are provided.
##### 6.2.6.15.1 Building Penetration Loss
In this section, we evaluate the building penetration loss of Annex E. In
particular, we consider scenarios 1 and 2 with different correlation
coefficients, i.e. corr=0.5 and corr=0.75. The penetration loss values were
generated for 5000 uniformly distributed devices within the hexagonal cell
area to obtain sufficient statistics for penetration loss distribution. In
Figure 6.2.6.15.1-1 we present the CDFs of the two BPL scenarios of [2] with
the two correlation coefficients. From this figure, it can be seen that the
penetration loss varies between 5 and 35 dB with a median value of 19.8 dB for
Scenario 1 with 0.5 correlation. On the contrary, for Scenario 2 with 0.75
correlation, the median value is around 22 dB.
{width="5.270138888888889in" height="3.529166666666667in"}
Figure 6.2.6.15.1-1: CDF of the building penetration loss for the two
correlation scenarios with different correlation factors
##### 6.2.6.15.2 Traffic Models Discussion
In this clause, we discuss the implementation of the traffic model described
in Annex E for system capacity evaluations. In this traffic model, it is
assumed that the UL traffic model will consist of 80% MAR periodic reporting
traffic, whereas the remaining traffic will come from the network command (NC)
traffic model, i.e. the remaining 20%. For such UL traffic, **the payload size
follows a Pareto distribution with minimum and maximum payload sizes of 20 and
200 bytes, respectively. Note that, for each payload there is a 65 bytes
header overhead at the SNDCP layer as well as 15 bytes SNDCP to MAC overhead,
i.e. each payload has an overhead of approximately 80 bytes at the MAC
layer.** Note that for MAR periodic reporting, **approximately 6.81 reports
per second per sector on average correspond to 52547 UEs per sector
[6.2-20].**
On the other hand, the corresponding downlink traffic model should be slightly
different since the system is assumed to be uplink centric. To illustrate, we
note that as mentioned in Annex E only 50% of the MAR periodic reporting
traffic will require ACK in the downlink and only 50% of the DL NC traffic
will result in a response in the UL. Subsequently, this concludes that the DL
traffic model will consist of two categories: 1) 50% of the reports will be
network command, whereas the remaining 50% will be generated as an
acknowledgement to the UL MAR periodic reporting traffic. In addition,
according to the Annex E traffic model, each transmitted report includes 65
bytes header overhead before the SNDCP layer as well as a 15 bytes SNDCP to
MAC overhead. Since the ACK payload is assumed to be zero, this means that the
ACK DL report size will be equal to 80 bytes. Similarly, the size of the NC
traffic report with the overhead in the DL will be equal to 100 bytes since
the payload size is fixed to 20 bytes. Note that since both, the **MAR
exception reporting and the NC, have the same periodicity, it follows that
approximately 5.448 reports per second per sector in the DL corresponds to an
average of 52547 UEs per sector, i.e. 6.81*0.8 reports per second per sector.
Based on these traffic model remarks, in the following section, the DL and UL
performance of the EC-GSM will be evaluated.**
##### 6.2.6.15.3 Downlink System Level Performance
##### **6.2.6.15.3.1** System performance for MAR periodic reporting and
Network Command traffic models {#system-performance-for-mar-periodic-
reporting-and-network-command-traffic-models .H6}
In this clause, the DL performance of the EC-GSM with respect to the traffic
model of Annex E is evaluated. In the presented system simulations, frequency
reuse factor of 4/12 and proportional fair scheduling are considered. In
addition, the effect of the BPL according to scenario 1 with 0.5 correlation
is applied. The DL offered traffic versus the carried traffic and the packet
delay CDFs of this traffic model are presented in Figures 6.2.6.15.3.2-1 and
6.2.6.15.3.2-2, respectively. When evaluating the packet delays, we included
both the random access delay, i.e. the delay associated with requesting the UL
resources from the base station, as well as the synchronization delays, i.e.
the delay associated with detecting and decoding the PSCH. However, we note
that the random access delay is applied only to the NC traffic since the MAR
periodic reporting traffic is only an acknowledgment which implies that the
devices are already in the ready state. In addition, when evaluating the
random access delays, it is assumed that each device can perform up to a
maximum of 6 random access attempts and that a collision between two or more
devices would result in the base station not being able to decode the access
requests and subsequently a back off delay for the colliding devices according
to their class [6.2-20]. In particular, classes 1-6 are considered to apply
back-off times of [0.5 0.5 0.5 0.5 1.5 2] seconds, respectively. Note that,
the probability of having a collision increases with the device class due to
the access burst repetitions. Furthermore, in this work, the synchronization
delay is lower and upper bounded by the time required to acquire the
synchronization by accumulating from 1 up to 28 SCH burst repetitions,
respectively. In addition, all sectors are assumed to have the same average
device load. For example, when the system performance is evaluated for a 64K
device load at the center cell, it is assumed that each of the remaining 56
sectors has 64K devices. A linear relationship between the offered traffic and
the carried traffic up to 250K users per sector can be seen. This relationship
indicates that all the offered traffic can be transmitted without increasing
the buffer size. Furthermore, up to 240K users per sector, around 98% of the
reports are delivered in less than 2 seconds (thus meeting the maximum 10
seconds delay requirement). Note that, to obtain the reports arrival rate per
second, the number of devices per sector can be multiplied by 5.448/52547 as
illustrated in the previous section.
{width="6.69375in" height="4.841666666666667in"}
Figure 6.2.6.15.3.1-1: The number of UEs per sector versus carried traffic in
the traffic model simulation with frequency reuse 4/12 and 43 dBm TX power
{width="5.559027777777778in" height="4.104861111111111in"}
Figure 6.2.6.15.3.1-2: Report delay CDFs in traffic model simulations with
frequency reuse 4/12 and 43 dBm TX power
##### 6.2.6.15.4 Uplink System Level Performance
##### **6.2.6.15.4.1** System performance for MAR periodic reporting and
Network Command traffic models {#system-performance-for-mar-periodic-
reporting-and-network-command-traffic-models-1 .H6}
In this section, the uplink performance of the EC-GSM with respect to the
traffic model discussed in the previous section is evaluated. The delivered
reports/hour/200kHz versus the offered traffic and the reports\' delay CDF for
the traffic model of Annex E, are presented in Figures 6.2.6.15.4.1-1 and
6.2.6.15.4.1-2, respectively. When evaluating the packet delays, both the
random access delay, i.e. the delay associated with requesting the UL
resources from the base station, as well as the synchronization delays, i.e.
the delay associated with detecting and decoding the PSCH are included.
However, note that the random access delay is applied only to the MAR periodic
reporting traffic. This is because, for the NC traffic, it is assumed that the
device is already in the ready state due to the fact that it already received
the DL network command report and thus it does not need to do random access.
In addition, when evaluating the random access delays, it is assumed that each
device can perform up to a maximum of 6 random access attempts and that a
collision between two or more devices would result in the base station not
being able to decode the access requests and subsequently a back off delay for
the colliding devices according to their class [6.2-20]. In particular,
classes 1 to 6 are considered to implement back-off times of [0.5 0.5 0.5 0.5
1.5 2] seconds, respectively. Note that, the probability of having a collision
increases with the device class due to the access burst repetitions.
Furthermore, in this work, the synchronization delay is lower and upper
bounded by the time required to acquire the synchronization by accumulating
from 1 up to 28 SCH burst repetitions, respectively.
In the presented simulation results below, 4/12 frequency reuse factor and
proportional fair scheduling are considered. In addition, all the sectors are
assumed to have the same average device load. For example, when the system
performance is evaluated for a 64K device load at the center cell, it is
assumed that each of the remaining sectors has 64K devices. **In addition, we
considered the effect of the BPL according to scenario 1 with 0.5
correlation.** A power control protocol was implemented to reduce the
interference incurred by the devices. According to this model, the power
transmitted by each device is equal to min ({width="0.28125in"
height="0.16666666666666666in"}, _P_ \+ α *PL), where {width="0.28125in"
height="0.16666666666666666in"}= 33dBm, _P_ = -73.64 dBm, α = 0.8 and PL is
the pathloss between the BS and the device. Note that, the value of _P_ was
selected based on the received signal strength CDF such that, on average, only
20% of the devices are transmitting at full power.
From **Figure 6.2.6.15.4.1-1** , it can be clearly seen that there exists a
linear relationship between the offered traffic and carried traffic, which
indicates that all the offered traffic was transmitted without causing a
significant increase in the buffer size. Note that the slight decrease in the
slope of the carried traffic is directly related to the collisions occurring
at the random access channel. This is because in the uplink, the devices are
assumed to utilize high numbers of blind repetitions and thus they are
expected to experience some collisions even at low loading scenarios. However,
this approximately linear relationship indicates that the system is capable of
handling the traffic without having a significant impact on the packet delays
as shown in Figure **6.2.6.15.4.1-1**. Note that, to obtain the reports
arrival rate per second, the number of devices per sector can be multiplied by
6.81/52547 as illustrated in the previous section. From the packets\' delay
perspective, in **Figure 6.2.6.15.4.1-2** , it can be seen that the EC-GSM
system is capable of transmitting all the packets with significantly low
delays. In particular, even for a load of 194K users per sector, almost 99% of
the packets can be delivered in less than 4 seconds. Note that in this figure,
the cross over between the 193K and the 63K curves is basically due to the
fact that the UEs performing large numbers of repetitions have a higher
probability of failure at the RACH channel as the system load increases.
Subsequently, this reduces the number of users experiencing large delays since
they will not be admitted to the system.
{width="6.69375in" height="4.841666666666667in"}
Figure 6.2.6.15.4.1-1: The number of UEs per sector versus carried traffic
with frequency reuse 4/12 and 33 dBm TX power.
{width="5.7340277777777775in" height="4.243055555555555in"}
Figure 6.2.6.15.4.1-2: Reports\' delay CDFs of the traffic model with
frequency reuse 4/12 and 33 dBm TX power
#### 6.2.6.16 Co-existence simulations with GSM aggressor EC-GSM victim
##### 6.2.6.16.1 Simulation assumptions
Table 6.2.6.16.1-1 shows the four simulated cases. The 4/12 frequency reuse is
intended to capture a BCCH layer, while the 3/9 reuse is intended to capture a
TCH traffic layer. Both the GSM aggressor, and EC-GSM victim is assumed to use
same frequency reuse.
Table 6.2.6.16.1-1. Simulation cases.
* * *
Cases Aggressor Victim Link direction EC-GSM frequency reuse 1 GSM EC-GSM
Downlink 4/12 2 GSM EC-GSM Uplink 4/12 3 GSM EC-GSM Downlink 3/9 4 GSM EC-GSM
Uplink 3/9
* * *
In general, the agreed assumptions in Annex G.1 have been followed. Table
6.2.6.16.1-2 highlights some of the most important agreed parameters, as well
as presents a few new parameters specific for the case of GSM and EC-GSM
coexistence.
Table 6.2.6.16.1-2: Simulation assumptions for EC-GSM UE
+---------------------------+-----------------------------------------+ | Parameter | Setting | +---------------------------+-----------------------------------------+ | BS maximum transmit power | GSM: 43 dBm | | | | | | EC-GSM: 43 dBm | +---------------------------+-----------------------------------------+ | BS Minimum transmit power | GSM: 24 dBm (only applicable to TCH | | | layer) | | | | | | EC-GSM: Not applicable since no power | | | control was applied | +---------------------------+-----------------------------------------+ | MS maximum transmit power | GSM: 33 dBm | | | | | | EC-GSM: 23 dBm | +---------------------------+-----------------------------------------+ | MS minimum transmit power | GSM: 5 dBm | | | | | | EC-GSM: 5 dBm | +---------------------------+-----------------------------------------+ | MS antenna gain | GSM: 0 dBi | | | | | | EC-GSM: -4 dBi | +---------------------------+-----------------------------------------+ | Frequency reuse | GSM: 4/12: BCCH layer or 3/9: TCH layer | | | | | | EC-GSM: Same as for GSM. | +---------------------------+-----------------------------------------+ | Frequency deployment | GSM: 1 carrier per cell, both in case | | | of 4/12 and 3/9 reuse. | | | | | | EC-GSM: Same as for GSM. | +---------------------------+-----------------------------------------+ | DL Power Control | GSM: Active in 3/9 reuse, inactive in | | | 4/12 reuse. | | | | | | EC-GSM: Same as for GSM. | +---------------------------+-----------------------------------------+ | UL Power Control | GSM: Active in 3/9 and in 4/12 reuse. | | | | | | EC-GSM: Inactive. | +---------------------------+-----------------------------------------+ | Building Penetration Loss | GSM: None | | | | | | EC-GSM: Scenario 1 with inter-site | | | correlation coefficient 0.5 | +---------------------------+-----------------------------------------+ | System load | GSM: Fully loaded system, i.e. all TS | | | occupied. | | | | | | EC-GSM: | | | | | | Alt 1: Fully loaded system, i.e. all TS | | | occupied. | | | | | | Alt2: Lightly loaded system, only | | | on**e** TS occupied. | +---------------------------+-----------------------------------------+ | ACLRadj | ACLR for GSM & EC-GSM BS and MS are | | | derived from 3GPP TS 45.005 [5] | | | | | | ACLR for the base station includes | | | wideband noise emissions as well as IM | | | products. | +---------------------------+-----------------------------------------+ | ACSadj-x | ACSadj-1 = 18 dB | | | | | | ACSadj-2 = 50 dB | | | | | | ACSadj-x = 58 dB, (x≥3) | | | | | | ACS for GSM & EC-GSM BS and MS are | | | derived from 3GPP TS 45.005 [4]. | +---------------------------+-----------------------------------------+ | Frequency deployment | GSM and EC-GSM independent deployments | | | adjacent to each other with a single | | | 200 kHz channel guard band. | +---------------------------+-----------------------------------------+
It can be noted that a pessimistic modelling of intermodulation products (IM)
is taken based on the IM3 requirements in TS 45.005 [4]. The ACRL is never
allowed to go beyond 60 dB. The minimum BS transmit power is also increased
from the agreed 10 dBm to 24 dBm, meaning that the IM emissions will never be
modelled at a level lower than -36 dBm. This pessimistic approach was only
assumed to minimize the implementation effort in the co-existence simulator.
Two types of load in the victim EC-GSM system have been assumed. In the first
step, a fully loaded system is assumed to provoke maximum absolute outage. In
the second step the scenarios displaying maximum outage, have been re-
simulated with a low load, i.e. only one TS occupied by EC-GSM. This will
reduce the total absolute outage level but instead provoke maximum increase in
relative outage increase when activating the GSM aggressor system.
##### 6.2.6.16.2 Results
Table 6.2.6.16.2-3 and Table 6.2.6.16.2-4 summarize the results from the
uncoordinated and coordinated deployment scenarios, respectively. The relative
performance degradation, i.e. increase in outage, of EC-GSM performance when
exposed to an uncoordinated GSM aggressor is at most 0.3 percentage points for
the UL when EC-GSM is fully loaded. Negligible degradation for the DL is
observed. When the EC-GSM load is reduced to a single TS the relative outage
degradation increases, but the levels never go above 1 percent-unit.
The absolute outage levels are low for the DL, but are as expected somewhat
impacted in the UL due to the reduction in MS output power to 23 dBm. In
absolute terms at most 2.7% outage is observed in the performed set of
simulations.
Table 6.2.6.16.2-3: Summary of EC-GSM performance loss due to interference
from a GSM aggressor in case of uncoordinated deployment
* * *
Cases Aggressor Victim Link direction EC-GSM frequency reuse EC-GSM system
load Outage [%] Relative outage degradation\ [%-points]
1 GSM EC-GSM Downlink 4/12 8TS 0.2 0.1
2 GSM EC-GSM Uplink 4/12 8TS 2.7 0.3
2\' GSM EC-GSM Uplink 4/12 1TS 2.4 0.9
3 GSM EC-GSM Downlink 3/9 8TS 0.1 0
4 GSM EC-GSM Uplink 3/9 8TS 2.7 0.1
4\' GSM EC-GSM Uplink 3/9 1TS 2.4 0.4
* * *
Table 6.2.6.16.2-4: Summary of EC-GSM performance loss due to interference
from a GSM aggressor in case of coordinated deployment
* * *
Cases Aggressor Victim Link direction EC-GSM frequency reuse EC-GSM system
load Outage [%] Relative outage degradation\ [%-points]
1 GSM EC-GSM Downlink 4/12 8TS 0.1 0
2 GSM EC-GSM Uplink 4/12 8TS 2.6 0.3
3 GSM EC-GSM Downlink 3/9 8TS 0.1 0
4 GSM EC-GSM Uplink 3/9 8TS 2.6 0.1
* * *
##### 6.2.6.16.3 Conclusions
This contribution presents the impact on EC-GSM system capacity from an
adjacent GSM deployment, assuming one channel guard band. The results indicate
that the impact from the aggressor on EC-GSM ranges between 0.1 and 0.9
percentage points in outage.
Based on this observation it can be concluded that the impact from GSM onto
EC-GSM can be considered minimal.
For more details on the investigation and the results, see [6.2-13]
#### 6.2.6.17 Co-existence simulations with UTRA/E-UTRA aggressor EC-GSM
victim
##### 6.2.6.17.1 Simulation assumptions
Table 6.2.6.16-1 shows the four simulated cases. The 4/12 frequency reuse is
intended to capture a BCCH layer, while the 3/9 reuse is intended to capture a
TCH traffic layer.
Table 6.2.6.17-1 Simulation cases.
* * *
Cases Aggressor Victim Link direction EC-GSM frequency reuse 1 UTRA EC-GSM
Downlink 4/12 2 UTRA EC-GSM Uplink 4/12 3 UTRA EC-GSM Downlink 3/9 4 UTRA EC-
GSM Uplink 3/9 5 E-UTRA EC-GSM Downlink 4/12 6 E-UTRA EC-GSM Uplink 4/12 7
E-UTRA EC-GSM Downlink 3/9 8 E-UTRA EC-GSM Uplink 3/9
* * *
In general, the agreed assumptions in Annex G.2 have been followed. Table
6.2.6.17-2 highlights some of the most important agreed parameters, as well as
presents a few new parameters specific for EC-GSM system. In addition to the
ISD of 750 meters, the results with an ISD of 1732 meters are also provided.
Table 6.2.6.17-2 Simulation assumptions for EC-GSM
+----------------------------------+----------------------------------+ | Parameter | Setting | +----------------------------------+----------------------------------+ | BS maximum transmit power | 43 dBm | +----------------------------------+----------------------------------+ | BS Minimum transmit power | Not applicable, since no power | | | control was active for the | | | EC-GSM victim. | +----------------------------------+----------------------------------+ | MS maximum transmit power | 23 dBm | +----------------------------------+----------------------------------+ | MS minimum transmit power | Not applicable, since no power | | | control was active for the | | | EC-GSM victim. | +----------------------------------+----------------------------------+ | MS antenna gain | -4 dBi | +----------------------------------+----------------------------------+ | Frequency reuse | 4/12: BCCH layer or 3/9: TCH | | | layer | +----------------------------------+----------------------------------+ | Frequency deployment | 1 carrier per cell, both in case | | | of 4/12 and 3/9 reuse. | +----------------------------------+----------------------------------+ | Building Penetration Loss | Scenario 1 with inter-site | | | correlation coefficient 0.5 | +----------------------------------+----------------------------------+ | System load | Alt 1: Fully loaded system, i.e. | | | all TS occupied. | | | | | | Alt 2: Lightly loaded system, | | | only on TS occupied. | +----------------------------------+----------------------------------+ | ACS | 58 dB | | | | | | Based on the bandwidth of the | | | guard band, ACS for EC-GSM BS | | | and MS are derived from 3GPP TS | | | 45.005 (subclause 6.3.1) | | | reference interference levels at | | | the third adjacent channe**l**. | +----------------------------------+----------------------------------+ | ACLR^1^ | UTRA: 45 dB for BS and 33 dB for | | | UE | | | | | | E-UTRA: 45 dB for BS and 30 dB | | | for UE | +----------------------------------+----------------------------------+ | Gap between center frequency of | EC-GSM and UTRA: 2.8 MHz^2^ | | EC-GSM and UTRA or E-UTRA | | | | EC-GSM and E-UTRA: 5.2 MHz^2^ | +----------------------------------+----------------------------------+ | Note 1: Bandwidth conversion is | | | done according to [6.2-21]. | | | | | | Note 2: The gap is based on | | | F~offset,RAT~ and the allowed | | | channel raster for each RAT, see | | | clauses 4.5.2 & 4.6.1 [29]. | | +----------------------------------+----------------------------------+
Two types of load in the victim EC-GSM system have been assumed. In the first
step, a fully loaded system is assumed to provoke maximum absolute outage. In
the second step, the scenarios displaying maximum outage, have been re-
simulated with a low load, i.e. only one TS occupied by EC-GSM. In such a
setup, we can establish a baseline of the observed total outage before
introducing the UTRA or E-UTRA aggressors to the system, which can be used to
reflect the maximum outage increase after activating the UTRA or E-UTRA
aggressors.
##### 6.2.6.17.2 Results
Table 6.2.6.17-3 to Table 6.2.6.17-6 summarizes the results from the UTRA or
ETURA as the aggressor, respectively. The relative performance degradation,
i.e. increase in outage, of EC-GSM performance when exposed to an
uncoordinated UTRA or E-UTRA aggressor is at most 0.6 percentage points for
the UL when EC-GSM is fully loaded. Negligible degradation for the DL is
observed. When the EC-GSM load is reduced to a single TS the relative outage
degradation increases, but the levels never go above 1 percent-unit.
The absolute outage levels are low for the DL, but are as expected somewhat
impacted in the UL due to the reduction in MS output power to 23 dBm. In
absolute terms at most 3.2% outage is observed in the performed set of
simulations.
Table 6.2.6.17-3: Summary of EC-GSM performance loss due to interference from
a UTRA aggressor, ISD 1732 meters
* * *
Cases Aggressor Victim Link direction EC-GSM frequency reuse EC-GSM system
load Outage [%] Relative outage degradation\ [%-points]
1 UTRA EC-GSM Downlink 4/12 8TS 0.2% 0.0
2 UTRA EC-GSM Uplink 4/12 8TS 3.0% 0.6
2\' UTRA EC-GSM Uplink 4/12 1TS 2.5% 1.0
3 UTRA EC-GSM Downlink 3/9 8TS 0.2% 0.1
4 UTRA EC-GSM Uplink 3/9 8TS 3.2% 0.6
4\' UTRA EC-GSM Uplink 3/9 1TS 2.6% 0.6
* * *
Table 6.2.6.17-4: Summary of EC-GSM performance loss due to interference from
a UTRA aggressor, ISD 750 meters
* * *
Cases Aggressor Victim Link direction EC-GSM frequency reuse EC-GSM system
load Outage [%] Relative outage degradation\ [%-points]
1 UTRA EC-GSM Downlink 4/12 8TS 0.1% 0.1
2 UTRA EC-GSM Uplink 4/12 8TS 0.4% 0.0
3 UTRA EC-GSM Downlink 3/9 8TS 0.1% 0.1
4 UTRA EC-GSM Uplink 3/9 8TS 0.6% 0.1
* * *
Table 6.2.6.17-5: Summary of EC-GSM performance loss due to interference from
a E-UTRA aggressor, ISD 1732 meters
* * *
Cases Aggressor Victim Link direction EC-GSM frequency reuse EC-GSM system
load Outage [%] Relative outage degradation\ [%-points]
1 E-UTRA EC-GSM Downlink 4/12 8TS 0.2% 0.0
2 E-UTRA EC-GSM Uplink 4/12 8TS 2.7% 0.3
2\' E-UTRA EC-GSM Uplink 4/12 1TS 2.3% 0.8
3 E-UTRA EC-GSM Downlink 3/9 8TS 0.1% 0.0
4 E-UTRA EC-GSM Uplink 3/9 8TS 2.9% 0.3
4\' E-UTRA EC-GSM Uplink 3/9 1TS 2.5% 0.5
* * *
Table 6.2.6.17-6: Summary of EC-GSM performance loss due to interference from
a E-UTRA aggressor, ISD 750 meters
* * *
Cases Aggressor Victim Link direction EC-GSM frequency reuse EC-GSM system
load Outage [%] Relative outage degradation\ [%-points]
1 E-UTRA EC-GSM Downlink 4/12 8TS 0.0% 0
2 E-UTRA EC-GSM Uplink 4/12 8TS 0.4% 0
3 E-UTRA EC-GSM Downlink 3/9 8TS 0.0% 0
4 E-UTRA EC-GSM Uplink 3/9 8TS 0.5% 0
* * *
##### 6.2.6.17.3 Conclusions
This contribution presents the impact on EC-GSM system capacity from an
adjacent UTRA or E-UTRA deployment. The results indicate that the impact from
the aggressor on EC-GSM ranges between 0 and 1 percent units in outage. Based
on this observation it can be concluded that the impact from UTRA or E-UTRA
onto EC-GSM can be considered minimal.
For more details on the investigation and the results, see [6.2-19].
## 6.3 Narrowband GSM (N-GSM)
### 6.3.1 General
N-GSM identifies an evolution of GSM to support low rate data devices. It adds
some functions like pre-coding for GMSK and adaptive chase combining to
provide extended coverage with added complexity to GPRS and reduced complexity
versus EGPRS. N-GSM relies on existing GPRS for normal coverage, selected by
the CIoT device before channel access based on the received signal level.
#### 6.3.1.1 Key Concepts
The N-GSM concept introduces combined precoding and hybrid modulation where
the data bits are mapped to predefined GMSK symbol sequences. This precoding
in effect achieves a waveform which occupies only a fraction of bandwidth
compared to that for normal symbol rate. It is noted that the term
\"Narrowband GSM\" relates to the fractional instantaneous bandwidth occupied
during transmission of data symbols and not to the support of a channel split
in frequency domain creating micro-channels as part of the GSM radio frequency
channel. The precoding also results in extending the TTI for RLC blocks thus
additional benefit from time diversity is obtained. Extended coverage is
targeted by adding repetition combined with adaptive chase combining in order
to allow for a more efficient resource utilization compared to blind
repetitions.
#### 6.3.1.2 Co-existence with GSM
The N-GSM concept supports resource multiplexing of legacy GPRS and EGPRS
devices and CIoT devices in the same PDTCH timeslot. No USF multiplexing on
RLC layer with legacy GPRS/EGPRS devices in the same PDCH is foreseen.
As minimum resource allocation it needs one dedicated timeslot for new cell
broadcast and common control channel in timeslot 1 on the BCCH carrier as well
as dedicated resources for data transfer belonging to one PDCH, thus it is
lean to introduce into existing BSS deployments.
#### 6.3.1.3 Additional Benefits
The coverage enhancement introduced by the N-GSM concept is targeted for TU1.2
radio channel conditions as per the Study Item objective. In addition the
concept is targeted for serving mobility scenarios with other radio channel
conditions than TU1.2. The additional benefit would enable N-GSM to support a
wider set of use-cases, e.g. vehicle tracking or package tracking during
transport in challenging radio conditions.
### 6.3.2 Downlink Physical layer design
#### 6.3.2.1 Narrowing signal bandwidth with pre-coding
The transmission scheme for N-GSM introduces an additional pre-coding step for
GSM which is located between channel coding and modulator as depicted in
Figure 6.3.2.1-1.
{width="6.489583333333333in" height="0.5729166666666666in"}
Figure 6.3.2.1-1: Pre-coding functionality in between channel encoding and
modulator
The pre-coding function maps two encoded bits to one of four GMSK symbol
sequences each with length of 8 symbols as depicted in Table 6.3.2.1-1. The
GMSK symbol sequences are defined such that those form a hybrid of 2-FSK and
BPSK modulations, where the instantaneous bandwidth of each symbol sequence is
a fraction (1/8) of the bandwidth for normal symbol rate.
Table 6.3.2.1-1: Data bits mapped to pre-coded bit sequences and resulting
BPSK and 2FSK
+---------------+----------------+----------------+----------------+ | **Data bits** | **Pre-coded |** Resulting | **Resulting | | | bit sequence** | BPSK phase**| 2FSK tone** | | | | | | | | **(GMSK symbol | | | | | sequence)** | | | +---------------+----------------+----------------+----------------+ | 00 | 00000000 | +1 | +1/(4T~S~) = | | | | | +68 kHz | +---------------+----------------+----------------+----------------+ | 01 | 11111111 | -1 | +1/(4T~S~) = | | | | | +68 kHz | +---------------+----------------+----------------+----------------+ | 10 | 10101010 | +1 | -1/(4T~S~) = | | | | | -68 kHz | +---------------+----------------+----------------+----------------+ | 11 | 01010101 | -1 | -1/(4T~S~) = | | | | | -68 kHz | +---------------+----------------+----------------+----------------+
#### 6.3.2.2 Logical channels for N-GSM
Logical channels for N-GSM are grouped as broadcast channels (BCH), common
control channels (CCCH) and packet dedicated channels (PDCH) listed in Figure
6.3.2.2-1.
{width="4.239583333333333in" height="1.9895833333333333in"}
Figure 6.3.2.2-1: Logical channels for N-GSM in downlink
#### 6.3.2.3 Burst formats
##### 6.3.2.3.1 General
New burst formats are defined reusing existing burst types and adapting them
to the transmission of GMSK symbol sequences of 8 symbols in the data payload.
##### 6.3.2.3.2 Burst format for Narrowband Normal Burst (N-NB)
The N-NB burst carries 14 GMSK symbol sequences located to both sides of the
training sequence resulting in 28 bits per burst in total. The burst structure
for the N-NB normal burst is given in Table 6.3.2.3-1. This burst format is
applied for both downlink and uplink. The mapping of logical channels to
encoded symbols is described in clause 6.3.2.5.
Table 6.3.2.3-1: Burst format for N-NB
* * *
**Burst Content** **Length in symbol periods** **Length in symbol sequences**
**Bit number** **GMSK symbol sequence number** Tail symbols 3 0 -- 2  
Payload symbols 56 7 3 - 58 0 - 6 Training sequence 30 59 - 88  
Payload symbols 56 7 89 -144 7 - 13 Tail symbols 3 145 - 147  
Guard period 8.25 148 - 156
* * *
##### 6.3.2.3.3 Burst format for Narrowband Synchronization Burst (N-SB)
The burst structure of the downlink N-SB synchronization burst is given in
Table 6.3.2.3-2.
Table 6.3.2.3-2: Burst format for N-SB
* * *
**Burst Content** **Length in symbol periods** **Length in symbol sequences**
**Bit number** **GMSK symbol sequence number** Tail symbols 3 0 - 2  
Payload symbols 40 5 3 - 42 0 - 4 Training sequence 62 43 - 104  
Payload symbols 40 5 105 - 144 5 - 9 Tail symbols 3 145 - 147  
Guard period 8.25 148 - 156
* * *
#### 6.3.2.4 Training sequences
The training sequences belonging to TSC Set 2 (see 3GPP TS 45.002) are used as
basis for the design of the training sequences for the N-NB normal burst, such
that they are prolonged by two symbols on either side in order to provide a
length of 30 bits. By this design low cross correlation with corresponding
training sequences of TSC Set 1 is targeted in order to mitigate that legacy
devices will decode the new training sequence in order to attempt USF reading.
Note: Further investigation on the TSC autocorrelation and cross-correlation
properties is needed.
The TSC Set for N-NB is given in Table 6.3.2.4-1.
Table 6.3.2.4-1: TSC Set for N-NB.
+---------+---------------------------------------------------------------+ | **TSC** | **Training sequence bits** | | | | | | (bit 0 ... bit 29) | +---------+---------------------------------------------------------------+ | 0 | (0,0,0,1,1,0,0,0,1,0,0,0,1,0,0,1,0,0,1,1,1,1,0,1,0,1,1,1,1,1) | +---------+---------------------------------------------------------------+ | 1 | (0,1,0,1,0,1,1,1,1,0,1,0,0,1,1,0,1,1,1,0,1,1,1,0,0,0,0,1,1,0) | +---------+---------------------------------------------------------------+ | 2 | (1,0,0,1,0,0,0,0,0,1,0,1,1,0,0,0,1,1,1,0,1,1,1,0,1,1,0,0,0,1) | +---------+---------------------------------------------------------------+ | 3 | (1,1,0,0,1,0,1,1,0,1,1,1,0,1,1,1,0,0,1,1,1,1,0,1,0,0,0,0,0,0) | +---------+---------------------------------------------------------------+ | 4 | (0,0,0,1,1,1,0,1,0,0,1,1,1,1,0,1,0,0,1,1,1,0,1,1,1,1,1,0,1,1) | +---------+---------------------------------------------------------------+ | 5 | (0,1,0,1,0,0,0,0,0,1,0,0,1,1,0,1,0,1,0,0,1,1,1,1,0,0,1,1,1,0) | +---------+---------------------------------------------------------------+ | 6 | (1,0,0,0,0,1,0,0,0,0,1,1,0,1,0,0,0,0,1,1,0,1,1,1,0,1,0,1,0,1) | +---------+---------------------------------------------------------------+ | 7 | (1,1,0,1,0,0,0,1,0,1,1,1,0,0,1,1,1,1,1,1,0,0,1,0,1,0,0,1,0,0) | +---------+---------------------------------------------------------------+
For the N-SB training sequence, having a length of 62 bits, it is derived from
the legacy SCH training sequence (64 bits, see 3GPP TS 45.002) by cutting a
bit from both ends with reversed order of bits, so that misdetection of legacy
SCH is avoided.
#### 6.3.2.5 Channel encoding
The N-GSM coding schemes are represented in Table 6.3.2.5-1. Used convolution
polynomials (G) are defined in Annex B of 3GPP TS 45.003.
Table 6.3.2.5-1: Encoding parameters for logical channels in downlink
**Channel** | **Input bits** **(u)** | **Convolution coding** | **Rate matching** | **Encoded bits** **(c)** | **Interleaving** |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---|---  
| **Data bits (d)** | **Tail bits** | **k** | **r** | **Poly** **nomials** **(G)** | **Punctured bits** | **Repeated bits** |  | **Bursts** **(B)** | **Burst Type** | **Type** |   
| **Information bits** | **Parity** **Bits** |  |  |  |  |  |  |  |  |  |   
N-SCH | 24 | 10 | 6 | 7 | 1/2 | G4, G7 | 0 | 0 | 80 | 4 | N-SB | Rect.  
N-BCCH | 200 | 18 | 6 | 7 | 1/2 | G4, G7 | 0 | 0 | 448 | 16 | N-NB | Rect.  
N-PCH | 74 | 18 | 4 | 5 | 1/2 | G0, G1 | 0 | 0 | 384 | 8 | N-NB | TBD  
N-AGCH | 90 | 18 | 6 | 7 | 1/2 | G4, G7 | 4 | 0 | 448 | 16 | N-NB | TBD  
N-PDTCH | 168 | 18 | 6 | 7 | 1/2 | G4, G7 | 0 | 0 | 384 | 16 | N-NB | Rect.  
N-PACCH | 80 | 18 | 6 | 7 | 1/4 | G4,G5, G6,G7 | 32 | 0 | 384 | 16 | N-NB | Rect.  
N-MAC/D | 8 | 1 | 4 | 5 | 1/5 | G0,G1, G2,G2, G3 | 1 | 0 | 64 | 16 | N-NB | Rect.  
N-PCH Header | 2 | 1 | 4 | 5 | 1/5 | G0,G1, G2,G2, G3 | 3 | 0 | 32 | 8 | N-NB | Rect.  
##### 6.3.2.5.1 N-SCH
FFS
##### 6.3.2.5.2 N-BCCH
Four N-BCCH blocks with payload size of 19 bytes for each provide sufficient
capacity to broadcast all the required system information messages required
for CIoT as described above. Encoding details for the BCCH data block are
listed in Table 6.3.2.5-2:
Table 6.3.2.5-2: Data block encoding for N-BCCH
* * *
N-BCCH Coding parameters Size [bits] Payload 152 CRC 18 Tail bits 6 Input bits
for channel coding 176 Convolutional coding 1/3 Encoded Bits 528 Puncturing 80
Constraint Length 7
* * *
The interleaving and burst mapping for N-BCCH is different from CS1 because
the bits need to be mapped on the radio block over 16 bursts compared to 4
bursts for CS1 encoding.
**Tail bits:**
Six tail bits equal to 0 are added to the 170 information bits, the result
being a block of 176 bits {u(0),u(1),...,u(175)}:
u(k) = d(k) for k = 0,1,...,169
u(k) = 0 for k = 170, ..,175 (tail bits)
**Convolutional encoder:**
This block of 176 bits {u(0),u(1),...,u(175)} is encoded with the 1/3 rate
convolutional mother code defined by the polynomials:
G4 = 1 + D^2^ + D^3^ + D^5^ + D^6^
G5 = 1 + D + D^4^ + D^6^
G6 = 1 + D + D^2^ + D^3^ + D^4^ + D^6^
This results in a block of 528 coded bits: {C(0),C(1),...,C(527)} defined by:
C(3k) = u(k) + u(k‑2) + u(k‑3) + u(k‑5) + u(k‑6)
C(3k+1) = u(k) + u(k‑1) + u(k‑4) + u(k‑6)
C(3k+2) = u(k) + u(k‑1) + u(k‑2) + u(k‑3) + u(k‑4) + u(k‑6) for k =
0,1,...,175
u(k) = 0 for k \ _FN = (51 x 26 x T1) + (2 x 51 x T2\' + 51 x T2\'\') + T3\'\', where_
>
> _T2\'\' is derived from N-SCH multiplexing and defined as_
>
> _T2\'\'= 0, for even 51-multiframes,_
>
> _T2\'\'= 1, for odd 51-multiframes._
>
> _T3\'\' is derived from 51-multiframe borders during the FCCH acquisition on
> TS0._
##### 6.3.2.6.1.2 Information bits in N-SCH {#information-bits-in-n-sch .H6}
For N-SCH, the T3\' parameter, transmitted in legacy SCH using 3 bits, is
derived from the 51-multiframe structure. The signalled reduced frame number
information in N-SCH refers to the start of the 51-multiframe pair, see Figure
6.3.4.1-1. The reduced payload of 21 bits for the N-SCH is depicted in Table
6.3.2.6-1:
Table 6.3.2.6-1: Information bits in N-SCH
* * *
**Content** **Definition** **Range** **Number of bits** BSIC Base transceiver
station identity code 0 to 63 6 T1 FN div (26 x 51) 0 to 2047 11 T2\' (FN
--T1*26*51) div 102 0 to 12 4
* * *
Further information (3 bits) is dedicated to the signalling of the N-BCCH
change mark indication, sent on N-SCH.
##### 6.3.2.6.1.3 Procedure in MS {#procedure-in-ms .H6}
If Cellular IoT capable device after reception of FCCH on TN 0 is not able to
decode followed SCH at the same slot TN 0 due to low signal level, it tries to
decode the more robust N-SCH sent in TN 1. The trigger to start decoding the
N-SCH in TN 1 and the feasibility of concurrent decoding of SCH and N-SCH
bursts for faster synchronization in better coverage conditions are FFS.
Timing information is derived from signalled T1 and T2\' referring to the
first TDMA frame of the 51-multiframe pair and the Cellular IoT capable device
then calculates frame numbers for other TDMA frames accordingly.
Acquisition of the N-SCH information block for the CIoT device, after
synchronization to 51-multiframe structure by synchronization to FCCH, is
based on decoding attempts of N-SCH as follows.
\- CIoT device first attempts to decode N-SCH from the first 4 N-SCH bursts
received from the 51-multiframe boundary. Decoding is tried with two
interleaving patterns possible within the N-SCH bursts. Based on the
interleaving pattern for which the decoding is successful, if the
51-multiframe is odd/even is also identified. If the decoding is not
successful, MS will chase combine next 4 N-SCH bursts and continue the
decoding attempt as mentioned above.
\- The device in MCL=164 dB coverage condition will attempt to chase combine 5
N-SCH blocks from 2 adjacent 51-multiframes. If the decoding attempt fails,
new decoding is attempted with 10 N-SCH bursts from next 51 multiframe and
oldest 10 N-SCH bursts are discarded.
\- When the device attempts to chase combine the N-SCH blocks across 2
adjacent 51-multiframes which are not part of the same pair, then the decoding
will fail as the contents of N-SCH blocks is different across these 51-
multiframes. In this case the decoding will be successful, when MS attempts
decoding using next 10 N-SCH bursts from next 51-multiframe. In such case, the
decoding will be successful after 3 adjacent 51-multiframes.
As per the above procedure for cell synchronization, it is possible to decode
N-SCH within 11 TDMA frames from the detection of 51 multiframe boundary (best
case). For instance if the MS starts the N-SCH synchronization at 40^th^ TDMA
frame of earlier 51-multiframe, then N-SCH decoding will be successful by
11^th^ TDMA frame of next 51-multiframe. In this case synchronization time for
N-SCH is 22 TDMA frames (equals 101.5 ms).
##### 6.3.2.6.2 Link Adaptation
The network selects the use of single or concatenated PDTCH block transmission
mode for DL transmission and the number of initial repetitions according to
the observed path loss. Further retransmissions are adapted based on RLC/MAC
HARQ, being enabled in PDCH channels by means of the N-MAC header. N-MAC is
introduced for linking blocks with the same content to enable chase combining.
##### 6.3.2.6.3 Power Control
Power Control for DL channels is FFS.
##### 6.3.2.6.4 Physical layer measurements
Physical layer measurements for DL channels are FFS.
### 6.3.3 Uplink Physical layer design
#### 6.3.3.1 Narrowing signal bandwidth with pre-coding
In uplink the pre-coding technique is applied as in downlink.
#### 6.3.3.2 Logical channels for N-GSM
In uplink, logical channels for N-GSM are grouped as common control channels
(CCCH) and packet dedicated channels (PDCH), listed in Figure 6.3.3.2-1.
{width="4.239583333333333in" height="1.9895833333333333in"}
Figure 6.3.3.2-1: Logical channels for N-GSM in uplink
#### 6.3.3.3 Burst formats
##### 6.3.3.3.0 General
New burst formats are defined reusing existing burst types and adapting them
to the transmission of GMSK symbol sequences of 8 symbols in the data payload.
For the access burst a new burst type is defined.
##### 6.3.3.3.1 Burst format for Narrowband Normal Burst (N-NB)
In uplink the same N-NB burst format as in downlink is applied.
##### 6.3.3.3.2 Burst format for Narrowband Access Burst (N-AB)
The N-AB burst is transmitted in two slots TS0 and TS1 on the BCCH carrier.
Its burst structure is given in Table 6.3.3.3-1.
Table 6.3.3.3-1: Burst format for N-AB
+-------------+-------------+-------------+-------------+-------------+ | **Burst |** Length in | **Length in |** Bit | **GMSK | | Content** | symbol | GMSK symbol | number**| symbol | | | periods** | sequences**| | sequence | | | | | | number** | +-------------+-------------+-------------+-------------+-------------+ | Tail | 8 | | 0 -- 7 | | | symbols | | | | | +-------------+-------------+-------------+-------------+-------------+ | Training | 89 | | 8 -- 96 | | | sequence | | | | | +-------------+-------------+-------------+-------------+-------------+ | Payload | 144 | 18 | 97 -- 240 | 0 - 17 | | bits | | | | | +-------------+-------------+-------------+-------------+-------------+ | Tail | 3 | | 241 -- 243 | | | symbols | | | | | +-------------+-------------+-------------+-------------+-------------+ | Guard | 68.5 | | 244. -- 312 | | | period | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 6.3.3.4 Training Sequences
In uplink the training sequences for N-NB burst are the same as used in
downlink.
The training sequences for N-AB are given in Table 6.3.3.4-1.
Table 6.3.3.4-1 Definition of TSC\'s for N-RACH
* * *
**TSC** **Training Sequence bits** TS1 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0,
0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1,
1, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1,
1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0 TS2
Bits are defined as in TS1, but bit order is reversed.
* * *
Transmissions on N-RACH will use two training sequences of 89 bit length, from
which TS2 is used in case of paging response and else TS1. These new training
sequences are based on shortened 91 bit sequence in [6.3-1] and are subjects
to further optimization. The auto-correlation and cross-correlation properties
are depicted in clause 6.3.8.1.2.
#### 6.3.3.5 Channel encoding
##### 6.3.3.5.0 General
The N-GSM coding schemes are represented in Table 6.3.3.5-1. Used convolution
polynomials (G) are defined in Annex B of 3GPP TS 45.003.
Table 6.3.3.5-1: Encoding parameters for uplink logical channels
**Channel** | **Input bits** **(u)** | **Convolution coding** | **Rate matching** | **Encoded bits** **(c)** | **Interleaving** |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---|---  
| **Data bits (d)** | **Tail bits** | **k** | **r** | **Polynomials** **(G)** | **Punctured bits** | **Repeated bits** |  | **Bursts** **(B)** | **Burst Type** | **Type** |   
| **Information bits** | **Parity** **Bits** |  |  |  |  |  |  |  |  |  |   
N-RACH | 11 | 6 | 4 | 5 | 1/2 | G0, G1 | 6 | 0 | 36 | 1(2) | N-AB | -  
N-PDTCH | 168 | 18 | 6 | 7 | 1/2 | G4, G7 | 0 | 0 | 384 | 16 | N-NB | Rect.  
N-PACCH | 60 | 18 | 6 | 7 | 1/5 | G4,G5,G6,G7 | 56 | 0 | 384 | 16 | N-NB | Rect.  
N-MAC/U | 4 | 0 | 4 | 5 | 1/4 | G0,G1, G2,G3 | 0 | 32 | 64 | 16 | N-NB | Rect.  
##### 6.3.3.5.1 N-RACH
FFS
##### 6.3.3.5.2 N-PDTCH
The encoding and interleaving details are the same as for N-PDTCH in downlink,
see clause 6.3.2.5.5.
##### 6.3.3.5.3 N-PACCH
FFS
##### 6.3.3.5.4 N-MAC/U
In uplink the N-MAC header has a payload size of 4 bits, since it contains
merely information about the block sequence number (NBSN), see clause 6.3.5.
Table 6.3.3.5-4 provides a summary of the block structure and encoding used
for uplink N-MAC.
Table 6.3.3.5-4: Block Structure for N-MAC/U header
* * *
**UL N-MAC header part** **Value** Payload bits 4 bits Tail bits 4 bits Check
sum 1/4 Convolutional coding Repetition of convolutional encoded bits (32)
Puncturing 4 bits Final Encoded Bits 64 bits
* * *
Details of channel encoding for N-MAC/U are FFS.
**Interleaving:**
Interleaving and burst mapping details are the same as for N-MAC/D, see clause
6.3.2.5.7.
##### 6.3.3.5.5 Summary of Uplink Coding Schemes
The N-GSM coding schemes are represented in Table 6.3.3.5-5. Used convolution
polynomials (G) are defined in Annex B of 3GPP TS 45.003.
Table 6.3.3.5-5: Encoding parameters for uplink logical channels
**Channel** | **Input bits** **(u)** | **Convolution coding** | **Rate matching** | **Encoded bits** **(c)** | **Interleaving** |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---|---  
| **Data bits (d)** | **Tail bits** | **k** | **r** | **Polynomials** **(G)** | **Punctured bits** | **Repeated bits** |  | **Bursts** **(B)** | **Burst Type** | **Type** |   
| **Information bits** | **Parity** **Bits** |  |  |  |  |  |  |  |  |  |   
N-RACH | 11 | 6 | 4 | 5 | 1/2 | G0, G1 | 6 | 0 | 36 | 1(2) | N-AB | -  
N-PDTCH | 168 | 18 | 6 | 7 | 1/2 | G4, G7 | 0 | 0 | 384 | 16 | N-NB | Rect.  
N-PACCH | 60 | 18 | 6 | 7 | 1/5 | G4,G5,G6,G7 | 56 | 0 | 384 | 16 | N-NB | Rect.  
N-MAC/U | 4 | 0 | 4 | 5 | 1/4 | G0,G1, G2,G3 | 0 | 32 | 64 | 16 | N-NB | Rect.  
#### 6.3.3.6 Physical Layer procedures
##### 6.3.3.6.1 Random Access
##### 6.3.3.6.1.1 Selection of random access burst type {#selection-of-random-
access-burst-type .H6}
When the coverage condition is below RxlevAccessMin, the N-AB burst format
with pre-coding of data bits will be used. N-AB burst uses different TSC code,
so it can be distinguished from normal RACH accesses using AB burst format.
For allowing chase combining for up to 16 N-RACH bursts, the timing of N-RACH
re-transmissions is predetermined based on the observed path loss.
##### 6.3.3.6.1.2 Selection of Number of repetitions for N-RACH {#selection-
of-number-of-repetitions-for-n-rach .H6}
Transmission of N-RACH is stopped when immediate assignment is received or
when the amount of repetitions has reached a path loss based count. This
latter mechanism is meant to limit unnecessary repetitions at better radio
conditions, by signalling NRXLevAccessMin and N-ACCESS-PATHLOSS-DIVIDER [3, 4,
5 or 6] dB in N-BCCH. Number of N-RACH repetitions is be defined as:
Table 6.3.3.6-1 provides an example with RXLevAccessMin =-111dBm,
MaxNumRTX=16, NRXLevAccesMin =-131 dBm for possible N-ACCESS-PATHLOSS-DIVIDER
values.
Table 6.3.3.6-1: Example for number of N-RACH repetitions
* * *
**RX levels vs. N-ACCESS-PATHLOSS-DIVIDER** **Number of N-RACH repetitions**  
**3** **4** **5** **6**  
>-131 dBm >-131 dBm >-131 dBm >-131 dBm 16 >-128 dBm >-127 dBm >-126 dBm >-125
dBm 8 >-125 dBm >-123 dBm >-121 dBm >-119 dBm 4 >-122 dBm >-119 dBm >-116 dBm
>-113 dBm 2 >-119 dBm >-115 dBm >-111dBm(see note) >-107 dBm (see note) 1
>-111 dBm >-111 dBm >-111 dBm >-111 dBm Normal RACH NOTE: Normal RACH with AB
burst format is selected.
* * *
The parameter N-ACCESS-PATHLOSS-DIVIDER and MaxNumRTX are used to control the
number of repetitions, e.g. according to network load.
##### 6.3.3.6.2 Spacing between repetitions
The spacing NSPACE between retransmissions is derived from the number of
determined N-RACH repetitions and NTIN, signalled in N-BCCH, which defines the
exact delay between repetitions, as exemplarily depicted in Table 6.3.3.6-2
below. The purpose of differentiated spacing is to avoid collisions between
chase combining processes and also to enable estimating the used number of
repetitions in the network as an indication of path loss seen by the CIoT
device. Parameterization allows wider spreading of repetitions, e.g. at higher
load to obtain better diversity but at the cost of additional delay.
Table 6.3.3.6-2: Example for spacing of N-RACH repetitions
+----------+----------------------------------------+-------+-------+-------+--------+ | **NTIN** | **N-RACH Spacing value NSPACE** | | | | | | | | | | | | | | **vs. Number of N-RACH transmissions** | | | | | +----------+----------------------------------------+-------+-------+-------+--------+ | | **1** | **2** | **4** | **8** | **16** | +----------+----------------------------------------+-------+-------+-------+--------+ | 1 | N.A. | 33 | 15 | 7 | 4 | +----------+----------------------------------------+-------+-------+-------+--------+ | 2 | N.A. | 68 | 31 | 13 | 7 | +----------+----------------------------------------+-------+-------+-------+--------+ | 3 | N.A. | 100 | 41 | 22 | 12 | +----------+----------------------------------------+-------+-------+-------+--------+ | 4 | N.A. | 157 | 59 | 27 | 14 | +----------+----------------------------------------+-------+-------+-------+--------+
Selection of N-RACH spacing values aims for minimizing collisions between two
CIoT devices. Access re-attempts e.g. due to collisions for up to N-MAX-
RETRANS with a set of new re-transmissions may occur at earliest NTIN*2
51-multframes after the last N-RACH repetition and with T3 being selected
again randomly.
##### 6.3.3.6.3 Link Adaptation
Link adaptation using either adaptive or fixed chase combining is applied for
uplink data traffic channel.
##### 6.3.3.6.3.1 Adaptive chase combining {#adaptive-chase-combining .H6}
For adaptive chase combining, the network selects the use of the single
N-PDTCH block transmission mode for UL transmission and the maximum number of
retransmissions at packet traffic channel assignment. Fixed allocation is used
for uplink data transfer allocating more resource than required to transmit
the requested number of RLC blocks such that the CIoT device continues to
retransmit blocks until it receives the PUAN. Further retransmissions are
adapted based on RLC/MAC HARQ being enabled for N-PDTCH, by means of the
N-MAC/U header being introduced for linking blocks with the same content to
enable adaptive chase combining.
Single N-PDTCH block transmission mode is used with extended TTI of 80 ms (16
bursts).
##### 6.3.3.6.3.2 Fixed chase combining {#fixed-chase-combining .H6}
For fixed chase combining, the network selects the use of the concatenated
N-PDTCH block transmission mode for UL transmission including the number of
immediate repetitions according to the observed path loss and the maximum
number of retransmissions at packet traffic channel assignment. Fixed
allocation is used for uplink data transfer allocating the resource for the
requested number of RLC blocks such that each RLC block is transmitted only
once in the determined concatenated PDTCH block mode. Further retransmissions
are carried out based on RLC/MAC HARQ by receiving the PUAN. Due to the
knowledge of the RLC block positions at the receiver side, chase combining
with the previous RLC block can be performed. In this mode N-MAC header is not
used.
Concatenated N-PDTCH block transmission mode is used with extended TTI of 160
ms or 240 ms (i.e. 2 or 3 successive transmissions of the 80 ms N-PDTCH block
spanning over 32 bursts or 48 bursts, respectively).
In order to reduce the overall latency of concatenated N-PDTCH block
transmission mode for extreme coverage conditions, block repetition in dual
time slot mode is configured. In this mode 16 bursts of a single N-PDTCH block
are mapped into 2 consecutive time slots per TDMA frame in 8 subsequent TDMA
frames. In this mode single transmission of one N-PDTCH block fits into the
extended TTI of 40 ms. The concatenated N-PDTCH block transmission mode with 3
successive transmissions thus results in the extended TTI of 120 ms. It is
noted that the dual time slot transmission mode does not increase the bit
energy, instead it is used to reduce the TTI, so that the required latency and
throughput performance is achieved.
##### 6.3.3.6.3.3 Maximum retransmissions {#maximum-retransmissions .H6}
Maximum number of retransmissions at link layer to provide required coverage
performance for target MCL depends also on core network throughput efficiency.
With the use of e.g. IP header compression at SNDCP layer it is possible to
increase the number of retransmissions to a higher value without impacting
throughput at layers above SNDCP. Further detail on the configured maximum
transmissions will be provided.
##### 6.3.3.6.4 Timing Advance
The timing advance control for UL channels is FFS.
##### 6.3.3.6.5 Physical Layer Measurements
Physical layer measurements for UL channels are FFS.
##### 6.3.3.6.6 Power Control
Power Control for UL channels is FFS.
##### 6.3.3.6.7 Uplink scheduling
Scheduling for UL channels is FFS.
### 6.3.4 Logical channel mapping
The detailed mapping of logical channels onto physical channels is defined in
the following sections.
#### 6.3.4.1 N-SCH
The encoded N-SCH block is transmitted 5 times in two 51 multiframes on TS1 of
the BCCH carrier with alternating burst interleaving scheme that enables
detection of even and odd 51 multi frames as depicted in Table 6.3.4.1-1 and
Figure 6.3.4.1-1 where N-SB bursts with same content are indicated by using
the same color.
{width="6.75in" height="1.2604166666666667in"}
Figure 6.3.4.1-1: Mapping of N-SCH in two 51 multiframes
Table 6.3.4.1-1: N-SB bursts mapped to two 51 multiframes repeated 4 times and
alternated interleaving for N-SCH block
* * *
**Burst number** **Frames in even MF51** **Frames in odd MF51** 0 0, 20, 40
10, 30 1 1, 21, 41 11, 31 2 10, 30 0, 20, 40 3 11, 31 1, 21, 41
* * *
#### 6.3.4.2 N-BCCH
N-BCCH uses the BCCHext allocation in the 51 multiframe, but in TS1 of the
BCCH carrier. System information is transmitted in 4 N-BCCH radio blocks with
each interleaved over 16 bursts. Each block is mapped to 8 successive
51-multiframe periods as shown in Figure 6.3.4.2-1.
{width="6.677083333333333in" height="3.03125in"}
**Figure 6.3.4.2-1: Mapping of four N-BCCH blocks with 16 N-NB bursts each
over 8 successive 51-multi frames**
One N-BCCH block carries 19 bytes data payload, thus total capacity for
broadcasted system information is 76 bytes. Multiple CCCH configurations can
also be supported, where number of N-CCCH timeslots is configurable. Channel
encoding for N-BCCH is described in clause 6.3.2.5.1, System Information in
clause 6.3.6.1 and System Information acquisition is evaluated in clause
6.3.8.3.
#### 6.3.4.3 N-PCH
The logical channel mapping and message sequence flows for N-PCH are FFS.
#### 6.3.4.4 N-AGCH
The logical channel mapping and message sequence flows for N-AGCH are FFS.
#### 6.3.4.5 N-RACH
The Access Burst of N-GSM (N-AB) uses two consecutive timeslots to transmit a
burst with GMSK symbol sequences used for the payload (encoded bits). N-RACH
burst and its possible repetitions and re-attempts are mapped to both TS0 and
TS1 of the BCCH carrier. The spacing between repetitions of the N-RACH burst
depends on the number of repetitions as described in clause 6.3.3.6.1.3.
Mapping of RACH transmissions for 2, 4 and 8 repetitions across 2 51-
multiframes for NTIN=1 is illustrated in Figure 6.3.4.5-1. The spacing for
different number of repetitions is done so that repetitions are assigned in
non overlapping manner to mitigate collisions.
{width="5.416666666666667in" height="2.2604166666666665in"}
Figure 6.3.4.5-1: Mapping of N-RACH bursts over 2 51-multiframes for NTIN=1
and repetitions of 2, 4, 8
The message sequence flows for N-RACH are FFS.
#### N-PDTCH
N-PDTCH supports single transmission and concatenated transmission of N-PDTCH
blocks. The concatenated transmission mode, N-PDTCH(3), uses successive
repetition with fixed M = 3 transmissions (initial and 2 repetitions).
#### N-PACCH
The logical channel mapping for N-PACCH follows the mapping for N-PDTCH.
#### Mapping table
The summary for mapping logical channels of N-GSM onto physical channels is
reproduced in Table 6.3.4.8-1.
Table 6.3.4.8-1: Mapping of logical channels
+---------+------+---------+---------+--------+---------+---------+ | Channel | Dir. | All | All | Burst\ | Repeat | Inte | | desi | | owable\ | owable\ | type | length\ | rleaved | | gnation | | ti | RF ch.\ | | TDMA | block\ | | | | meslot\ | ass. | | frames | TDMA | | | | ass. | | | | frame | | | | | | | | mapping | +---------+------+---------+---------+--------+---------+---------+ | FCCH | D | 0 | C0 | FB | 51 | B0(0) | | | | | | | | ,B0(10) | | | | | | | | ,B0(20) | | | | | | | | ,B0(30) | | | | | | | | ,B0(40) | +---------+------+---------+---------+--------+---------+---------+ | N-SCH | D | 1 | C0 | N-SB | 102 | B0(0,1 | | | | | | | | ,10,11) | | | | | | | | , | | | | | | | | B0( | | | | | | | | 20,21,3 | | | | | | | | 0,31),B | | | | | | | | 0(40,41 | | | | | | | | ,51,52) | | | | | | | | | | | | | | | | B0 | | | | | | | | (61,62, | | | | | | | | 71,72), | | | | | | | | B | | | | | | | | 0(81,82 | | | | | | | | ,91,92) | +---------+------+---------+---------+--------+---------+---------+ | N-BCCH | D | 1,3,5,7 | C0 | N-NB | 8x51 | B0(0, | | | | | | | | 1,51,52 | | | | | | | | ,102,10 | | | | | | | | 3,153,1 | | | | | | | | 54,204, | | | | | | | | 205,255 | | | | | | | | ,256,30 | | | | | | | | 6,307,3 | | | | | | | | 57,358) | | | | | | | | | | | | | | | | B1(2, | | | | | | | | 3,53,54 | | | | | | | | ,104,10 | | | | | | | | 5,155,1 | | | | | | | | 56,206, | | | | | | | | 207,257 | | | | | | | | ,258,30 | | | | | | | | 8,309,3 | | | | | | | | 59,360) | | | | | | | | | | | | | | | | B2(4, | | | | | | | | 5,55,56 | | | | | | | | ,106,10 | | | | | | | | 7,157,1 | | | | | | | | 58,208, | | | | | | | | 209,259 | | | | | | | | ,260,31 | | | | | | | | 0,311,3 | | | | | | | | 61,362) | | | | | | | | | | | | | | | | B3(6, | | | | | | | | 7,57,58 | | | | | | | | ,108,10 | | | | | | | | 9,159,1 | | | | | | | | 60,210, | | | | | | | | 211,261 | | | | | | | | ,262,31 | | | | | | | | 2,313,3 | | | | | | | | 63,364) | +---------+------+---------+---------+--------+---------+---------+ | N-AGCH | D | 1,3,5,7 | C0 | N-NB | | TBD | +---------+------+---------+---------+--------+---------+---------+ | N-PCH | D | 1,3,5,7 | C0 | N-NB | | TBD | +---------+------+---------+---------+--------+---------+---------+ | N-RACH | U | 0,1 or | C0 | N-AB | 51 | B0(0), | | | | | | | | B1(1).. | | | | 2,3 or | | | | B50(50) | | | | | | | | | | | | 4,5 or | | | | For | | | | | | | | repe | | | | 6,7 | | | | titions | | | | | | | | see | | | | | | | | 6.3.3 | | | | | | | | .6.1.3. | +---------+------+---------+---------+--------+---------+---------+ | N-PACCH | U/D | 0...7 | C0...Cn | N-NB | 52 | B0(0. | | | | | | | | ..11,13 | | | | | | | | ...16), | | | | | | | | B1(17. | | | | | | | | ..24,26 | | | | | | | | ...33), | | | | | | | | B2( | | | | | | | | 34..37, | | | | | | | | 39..50) | +---------+------+---------+---------+--------+---------+---------+ | N-P | U/D | 0...7 | C0...Cn | N-NB | 52 | B0(0. | | ACCH(3) | | | | | | ..11,13 | | | | | | | | ...16), | | | | | | | | B0(17. | | | | | | | | ..24,26 | | | | | | | | ...33), | | | | | | | | B0( | | | | | | | | 34..37, | | | | | | | | 39..50) | +---------+------+---------+---------+--------+---------+---------+ | N-PDTCH | U/D | 0...7 | C0...Cn | N-NB | 52 | B0(0. | | | | | | | | ..11,13 | | | | | | | | ...16), | | | | | | | | B1(17. | | | | | | | | ..24,26 | | | | | | | | ...33), | | | | | | | | B2( | | | | | | | | 34..37, | | | | | | | | 39..50) | +---------+------+---------+---------+--------+---------+---------+ | N-P | U/D | 0...7 | C0...Cn | N-NB | 52 | B0(0. | | DTCH(3) | | | | | | ..11,13 | | | | | | | | ...16), | | | | | | | | B0(17. | | | | | | | | ..24,26 | | | | | | | | ...33), | | | | | | | | B0( | | | | | | | | 34..37, | | | | | | | | 39..50) | +---------+------+---------+---------+--------+---------+---------+
### 6.3.5 Link layer aspects
#### 6.3.5.1 Multiplexing and Demultiplexing Principles
This is FFS.
#### 6.3.5.2 Adaptive Repetitions
This is FFS.
#### 6.3.5.3 Paging Channel Operation
This is FFS.
#### 6.3.5.4 Random Access Procedure
##### 6.3.5.4.1 General
The N-GSM device uses new extended access burst for random access operation
when the coverage condition is below normal GPRS coverage. In normal coverage
conditions access burst format of GPRS is used. The device decides on the
required number of repetitions per access attempt based on the path loss
estimation. Number of repetitions required for given coverage condition is
also controlled by the path-loss step size (parameter N-ACCESS-PATHLOSS-
DIVIDER) indicated in the system information.
The repetition positions are derived in such a way that there is no collision
across repetition positions across different number of repetitions. The
derivation of the repetition positions is also controlled by the parameter
(NTIN) broadcast in the system information.
Retransmission of N-RACH access bursts after the repetitions describe above
should follow the existing procedures in GPRS.
##### 6.3.5.4.2 Content of RACH and N-RACH Bursts for UL Data Transfer
The N-GSM device uses normal access bursts in TN0 if it is in normal coverage
condition. Else if the coverage condition is worse than normal coverage
condition, the N-GSM device uses N-AB burst format for access bursts which
will be transmitted in TN0 and TN1.
If the N-GSM device transmits the normal random access burst using the RACH
message on TN0, the 8 bit access burst is used containing:
\- Random bits (3 bits) -- used as today to resolve contention in the access
\- Priority indication (1 bit) -- used to indicate if the access is of alarm
type or not
\- Block count indication (4 bits) - based on MCS-1
Else if the device transmits the extended access burst with the N-AB burst
format, the N-RACH message (i.e. the N-Channel-Request message) contains below
parameters. N-RACH message reuses the 11 bit RACH message format. N-RACH
message content is given in Table 6.3.5.4-1 below.
Table 6.3.5.4-1: Information elements of the N-Channel-Request message carried
on N-RACH burst
+-----------------------+--------------------+-----------------------+ | **Information |** Length in bits**|** Definition**| | element** | | | +-----------------------+--------------------+-----------------------+ | Random bits | 4 | randomized sequence | | | | (used for contention | | | | resolution) | +-----------------------+--------------------+-----------------------+ | Access Priority | 1 | 0: normal priority | | | | | | | | 1: alarm priority | +-----------------------+--------------------+-----------------------+ | Block Count | 4 | number of RLC blocks | | | | to be sent with 20 B | | | | payload each. | | | | | | | | 1,...,15: 20 | | | | B,...,300 B | | | | | | | | 16: > 300 B | +-----------------------+--------------------+-----------------------+ | DL Radio Quality | 2 | 0: 0 dB ≦ SINR | | | | | | | | 1: -3 dB ≦ SINR \ 21 bytes.
\- SI2: Neighbour Cell Description, 6 ARFCNs, 10 bits each; NCC permitted 1
byte => 9 bytes.
\- SI3: Cell Identity, 2 bytes; Location Area Identification, 5 bytes; Control
Channel Description, 1 byte; Cell Selection Parameters, 2 bytes; SI3 Rest
Octets, 2 bytes => 12 bytes.
\- SI13: Routing Area Code, 1 byte; GPRS Cell Options, 4 bytes; GPRS Power
Control Parameters, 3 bytes => 8 bytes.
\- SI21: EAB Authorization Mask, 10 bits; EAB Subcategory, 2 bits; Common PLMN
+ 4 Additional PLMNs => 10 bytes.
\- SI22: Common_PLMN_PS_ACC, 2 bytes; NCC Permitted, 1 byte + PS ACC, 2 bytes,
4 Additional PLMNs => 14 bytes.
\- SI (N-GSM): N-RACH control parameters (i.e. N-ACCESS-PATHLOSS-DIVIDER (2
bits) , N-MAX-RETRANS (3 bits), NTIN (2 bits), see [3]) => 2 bytes.
Regarding the neighbour cell description in SI2, it is assumed that a reduced
number of neighbour cells is signalled on N-BCCH due to relaxed mobility
requirements for Cellular IoT devices.
### 6.3.7 Compatibility aspects
This section will treat compatibility to legacy GSM users and impact to legacy
devices and networks due to N-GSM introduction.
#### 6.3.7.1 Performance Impact to / from legacy GPRS users
This section investigates the performance impact to legacy GPRS users from
transmissions of N-GSM users. First the simulation assumptions are listed and
then the impact is analysed for two scenarios (1: N-GSM as interferer to GPRS
user, 2: GPRS as interferer to N-GSM user).
##### 6.3.7.1.1 Simulation Assumptions
Simulation assumptions for the investigated scenarios are summarized in Table
6.3.7.1-1.
Table 6.3.7.1-1: Simulation assumptions for the performance impact study
+---------------------------------+-----------------------------------+ | **Parameter** | **Value** | +---------------------------------+-----------------------------------+ | Frequency bands | 900 MHz | +---------------------------------+-----------------------------------+ | Simulated link | Downlink, Uplink | +---------------------------------+-----------------------------------+ | Interference profiles | - single co-channel interferer | | | | | | - single adjacent channel | | | > interferer | +---------------------------------+-----------------------------------+ | Radio channel profiles | - TU 1.2 km/h, id FH | | | | | | - TU 1.2 km/h, no FH | +---------------------------------+-----------------------------------+ | Input | CCI, ACI | +---------------------------------+-----------------------------------+ | BTS RF impairments | Typical | +---------------------------------+-----------------------------------+ | MS RF impairments | Typical | +---------------------------------+-----------------------------------+ | Frequency error model | > DL: 40 Hz, fixed | | | > | | | > UL: model used described in | | | > section 2.1 of [6.3-1] | +---------------------------------+-----------------------------------+ | GPRS receiver model | Receiver complying to DARP | | | performance requirements | | | (downlink) | | | | | | IRC type of receiver (uplink) | +---------------------------------+-----------------------------------+ | Antenna configuration | DL: BTS: 1Tx, MS: 1Rx | | | | | | UL: MS: 1Tx, BTS: 2Rx | +---------------------------------+-----------------------------------+ | Logical channel (wanted signal) | CS1 for GPRS, | | | | | | N-PDTCH with 80 ms for N-GSM | +---------------------------------+-----------------------------------+ | TSC of wanted signal | TSC 0 | +---------------------------------+-----------------------------------+ | Interferer modulation | - GMSK (in case of legacy | | | > interferer) | | | | | | - 2-FSK+BPSK with precoded GMSK | | | > (in case of N-GSM | | | > interferer) | +---------------------------------+-----------------------------------+ | Interferer time synchronization | Synchronous to wanted signal | +---------------------------------+-----------------------------------+ | TSC of interferer | TSC 5 | +---------------------------------+-----------------------------------+ | Simulated bursts per point | 40 000 | +---------------------------------+-----------------------------------+
Both co-channel and adjacent channel interference scenarios are considered
relevant for determining the performance impact. First the impact of co-
channel interference has been studied. This corresponds to cell deployments
around national borders in case of multiple operators or to intra-system
interference in case of one operator. Second the impact of adjacent channel
interference has been studied. This corresponds to cell deployments in the
same geographic area in case of multiple operators or to intra-system
interference in case of one operator.
##### 6.3.7.1.2 Impact to GPRS user from N-GSM interferer
In this section the impact of the N-GSM interferer towards a legacy GPRS user
is evaluated in terms of co-channel interference (CCI) and adjacent channel
interference (ACI).
##### 6.3.7.1.2.1 Downlink, CCI, Hopping radio channel profile {#downlink-cci-
hopping-radio-channel-profile .H6}
CCI performance for Downlink and TU1.2idFH is depicted in Figure 6.3.7.1-1.
{width="6.220833333333333in" height="3.027083333333333in"}
Figure 6.3.7.1-1: Comparison of CCI performance in DL for a GPRS user when
interfered by a GMSK or N-GSM signal (TU1.2idFH). Note major units are in dB,
x-axis has range of 14 dB
##### 6.3.7.1.2.2 Downlink, CCI, Non-hopping radio channel profile {#downlink-
cci-non-hopping-radio-channel-profile .H6}
CCI performance for Downlink and TU1.2noFH is depicted in Figure 6.3.7.1-2.
{width="6.247222222222222in" height="2.640277777777778in"}
Figure 6.3.7.1-2: Comparison of CCI performance in DL for a GPRS user when
interfered by a GMSK or N-GSM signal (TU1.2noFH). Note major units are in dB,
x-axis has range of 14 dB
##### 6.3.7.1.2.3 Downlink, ACI, Hopping radio channel profile {#downlink-aci-
hopping-radio-channel-profile .H6}
ACI performance for Downlink and TU1.2idFH is depicted in Figure 6.3.7.1-3.
{width="6.340277777777778in" height="3.3201388888888888in"}
Figure 6.3.7.1-3: Comparison of ACI performance in DL for a GPRS user when
interfered by a GMSK or N-GSM signal (TU1.2idFH). Note major units are in dB,
x-axis has range of 20 dB
##### 6.3.7.1.2.4 Downlink, ACI, Non-hopping radio channel profile {#downlink-
aci-non-hopping-radio-channel-profile .H6}
ACI performance for Downlink and TU1.2noFH is depicted in Figure 6.3.7.1-4.
{width="6.520833333333333in" height="3.3270833333333334in"}
Figure 6.3.7.1-4: Comparison of ACI performance in DL for a GPRS user when
interfered by a GMSK or N-GSM signal (TU1.2noFH). Note major units are in dB,
x-axis has range of 20 dB
##### 6.3.7.1.2.5 Uplink, CCI, Hopping radio channel profile {#uplink-cci-
hopping-radio-channel-profile .H6}
CCI performance for Uplink and TU1.2idFH is depicted in Figure 6.3.7.1-5.
{width="5.747222222222222in" height="3.0069444444444446in"}
Figure 6.3.7.1-5: Comparison of CCI performance in UL for a GPRS user when
interfered by a GMSK or N-GSM signal (TU1.2idFH). Note major units are in dB,
x-axis has range of 18 dB
##### 6.3.7.1.2.6 Uplink, CCI, Non-hopping radio channel profile {#uplink-cci-
non-hopping-radio-channel-profile .H6}
CCI performance for Uplink and TU1.2noFH is depicted in Figure 6.3.7.1-6.
{width="5.747222222222222in" height="3.0069444444444446in"}
Figure 6.3.7.1-6: Comparison of CCI performance in UL for a GPRS user when
interfered by a GMSK or N-GSM signal (TU1.2noFH). Note major units are in dB,
x-axis has range of 20 dB
##### 6.3.7.1.2.7 Uplink, ACI, Hopping radio channel profile {#uplink-aci-
hopping-radio-channel-profile .H6}
ACI performance for Uplink and TU1.2idFH is depicted in Figure 6.3.7.1-7.
{width="5.553472222222222in" height="3.0069444444444446in"}
Figure 6.3.7.1-7: Comparison of ACI performance in UL for a GPRS user when
interfered by a GMSK or N-GSM signal (TU1.2idFH). Note major units are in dB,
x-axis has range of 26 dB
##### 6.3.7.1.2.8 Uplink, ACI, Non-hopping radio channel profile {#uplink-aci-
non-hopping-radio-channel-profile .H6}
ACI performance for Uplink and TU1.2noFH is depicted in Figure 6.3.7.1-8.
{width="5.573611111111111in" height="3.0069444444444446in"}
Figure 6.3.7.1-8: Comparison of ACI performance in UL for a GPRS user when
interfered by a GMSK or N-GSM signal (TU1.2noFH). Note major units are in dB,
x-axis has range of 26 dB
##### 6.3.7.1.3 Impact to N-GSM user from GPRS interferer
This is FFS.
#### 6.3.7.2 Spectral Properties
This section investigates spectral properties due to the transmission of the
N-GSM signal. It contains a relative comparison versus the GMSK reference due
to changed modulation spectrum and TX intermodulation spectrum.
##### 6.3.7.2.1 Modulation Spectrum
This section depicts the modulation spectrum of the N-GSM signal using the
precoding scheme depicted in Table 6.3.2.1-1. Figure 6.3.7.2-1 shows the
estimated modulation spectrum for N-GSM compared against legacy GMSK, averaged
over 1000 bursts per TSC and all TSC\'s from TSC set 1, cyclically extended to
30 bits, being used. It is noted that this does not take into account the TSC
set proposed for N-NB normal burst in table 6.3.2.4-1, the changes however are
considered to be insignificant.
{width="4.438888888888889in" height="3.3243055555555556in"}
Figure 6.3.7.2-1: Comparison of modulation spectra, N-GSM (red) and GMSK
reference (blue)
It is noted that this represents a simulated non-gated measurement over the
complete burst including the TSC (averaging over all TSC\'s was done) and
normalized to the entire burst energy. It is observed that the narrowband
symbol sequences can be identified in the frequency range around +/- 68 kHz
from the centre frequency. In simulations, as shown in clause 6.3.7.1, DARP
receivers seem able to cancel also this type of interference, and even
slightly better performance is achieved compared to GMSK for co-channel
interference, whilst there is no change observed for adjacent channel
interference, since the modulation spectrum has a similar spectral power
distribution compared to GMSK.
##### 6.3.7.2.2 TX Intermodulation Spectrum
This section treats impacts to the TX intermodulation spectrum for N-GSM using
the precoding scheme depicted in Table 6.3.2.1-1. Figures 6.3.7.2-2 to
6.3.7.2-4 show the comparison of simulated TX intermodulation spectra for a
3rd order IM product
\- for the case that an N GSM carrier at Fc1 intermodulates with an N-GSM
carrier at Fc2
\- compared against the reference case of intermodulation between two GMSK
carriers with the same power as the N GSM carriers.
The intermodulation power spectrum density is averaged over 1000 bursts per
TSC and all TSC\'s from TSC set 1, cyclically extended to 30 bits, are used.
It is noted that this does not take into account the TSC set proposed for N-NB
normal burst in table 6.3.2.4-1, the changes however are considered to be
insignificant.
The impact is considered for different applied measurement bandwidths (MBW):
\- 30 kHz, for IM products located at frequency offsets below 1.8 MHz (Figure
6.3.7.2-2)
\- 100 kHz, for IM products located at frequency offsets between 1.8 MHz and 6
MHz (Figure 6.3.7.2-3)
\- 300 kHz, for IM products located at frequency offsets above 6 MHz (Figure
6.3.7.2-4)
measured from the outermost carrier as prescribed in TS 45.005. According to
TS 45.005 the 3^rd^ order TX intermodulation requirement is valid in the 600
kHz range around the carrier centre frequency for all frequency offset ranges
(dashed grey window in figures).
{width="4.469444444444444in" height="3.3569444444444443in"}
Figure 6.3.7.2-2: Comparison of 3rd order TX intermodulation spectra, N-GSM
(red) and GMSK reference (blue), MBW=30 kHz
For this measurement bandwidth the maximum difference in measured IM power
from the reference is about 7.5 dB at ± 200 kHz from the IM3 centre frequency.
For the maximum IM power in the 600 kHz window around the centre frequency,
for which the IM attenuation requirement is valid, an increase of 1.6 dB at ±
67 kHz versus the reference is observed.
{width="4.489583333333333in" height="3.571527777777778in"}
Figure 6.3.7.2-3: Comparison of 3rd order TX intermodulation spectra, N-GSM
(red) and GMSK reference (blue), MBW=100 kHz.
For this measurement bandwidth the maximum difference in measured IM power
from the reference is about 6 dB around ± 250 kHz from the IM3 centre
frequency. The maximum IM power in the 600 kHz window around the centre
frequency is however not increased.
{width="4.456944444444445in" height="3.5319444444444446in"}
Figure 6.3.7.2-2: Comparison of 3rd order TX intermodulation spectra, N-GSM
(red) and GMSK reference (blue), MBW=300 kHz.
For this measurement bandwidth the maximum difference in measured IM power
from the reference is about 6 dB around ± 340 kHz from the IM3 centre
frequency. The maximum IM power in the 600 kHz window around the centre
frequency is however decreased by 0.5 dB against the reference.
It is noted that the IM3 power for N-GSM falls below the GMSK reference in the
outer range between 300 and 600 kHz from the IM centre frequency. Also the
fact that intermodulation between an N-GSM and a legacy GSM carrier will be
more typical than between two N-GSM carriers in the same Tx path will make the
intermodulation spectrum more flat.
##### 6.3.7.2.3 Summary
The impact from the N-GSM signal in terms of changes to the modulation
spectrum and to 3rd order intermodulation products versus the GMSK reference
is considered to be small and is not expected to result in major issues in
case of good PA linearity preserving the good spectral properties of GSM. This
is confirmed by equally good co-channel interference performance and adjacent
channel interference performance for a legacy GPRS user as evaluated in clause
6.3.7.1.
### 6.3.8 Concept evaluation
This section will include performance evaluations for the N-GSM concept.
#### 6.3.8.1 Training Sequence Design
In this section the TSC design for the new burst formats is evaluated.
##### 6.3.8.1.1 N-SCH
This is FFS.
##### 6.3.8.1.2 N-RACH
The auto-correlation and cross-correlation properties for N-RACH TS1 with
legacy training sequences used for RACH and PRACH are depicted in Figure
6.3.8.1-1 as absolute values.
{width="4.979166666666667in" height="3.7395833333333335in"}
Figure 6.3.8.1-1: Absolute values for autocorrelation of N-RACH (top) and
cross-correlations with other RACH types (bottom).
#### 6.3.8.2 Network Synchronization
This section depicts the coverage performance of channels used for network
synchronization, namely the FCCH used for frequency synchronization and the
N-SCH used for time synchronization.
##### 6.3.8.2.1 Evaluation Methodology
The network synchronization performance is evaluated according to the
methodology specified in clause 5.6 and the simulation assumptions in Annex C.
##### 6.3.8.2.2 Simulation Assumptions
Simulation assumptions for evaluating N-SCH performance are depicted in table
6.3.8.2-1 below.
Table 6.3.8.2-1: Simulation Assumptions for N-SCH performance evaluation
* * *
Parameter Value Logical Channel N-SCH Channel profile TU Mobile speed 1.2 km/h
Band GSM 900 Number of repetitions 5 Frequency error offset N(0,45 Hz) for
MCL=154 dB and MCL=164 dB Time error offset N(0,3.5 sym) for MCL=154 dB and
MCL=164 dB Number of N-SCH Blocks 40000
* * *
NOTE: Frequency error offset and time error offset refer to the instant when
N-SCH decoding is started after FCCH synchronization as per [6.3-2].
##### 6.3.8.2.3 Sensitivity
For the FCCH channel, coupling loss scenarios up to the target MCL of 164 dB
are reported in clause 6.2.5 to be satisfied (i.e. the PSD of the FB at MCL is
at least 10 dB increased versus the noise floor). Thus the consideration is
limited here to the coverage performance for the N-SCH channel.
Figure 6.3.8.2-1 depicts the sensitivity performance for N-SCH. N-SCH is
observed to achieve 10% BLER at 164 dB MCL for TU1.2nFH, corresponding to
Es/No=-6.3 dB with a negative margin of only 0.5 dB. Nevertheless it is
expected that N-SCH allows for fast enough synchronization for coverage
constrained CIoT devices.
{width="4.291666666666667in" height="2.625in"}
Figure 6.3.8.2-1: N-SCH coverage performance for TU1.2nFH (BLER vs Es/No)
In addition to the above reported result, it is also observed that N-SCH
coverage performance is significantly better in other legacy GSM radio
propagation conditions (TU50, RA250 and HT100) compared to TU1.2noFH.
##### 6.3.8.2.4 Synchronization Time
As per Study Item objective network synchronization is defined as the
equivalent of acquisition of FCCH+SCH for GSM. Network synchronization is
evaluated with one (equivalent of) BCCH carrier for initial cell search and
cell re-confirmation. The timing of the broadcast carrier is assumed to be
unknown, and uniformly distributed for initial cell search. For N-GSM network
synchronization is performed via FCCH + N-SCH reception.
##### 6.3.8.2.4.1 Frequency Synchronization using FCCH {#frequency-
synchronization-using-fcch .H6}
The FCCH is mapped to TN 0 on the BCCH carrier and is received every 10^th^ or
11^th^ TDMA frame, hence 5 instances are sent in one 51-multiframe. Sufficient
frequency synchronization is achieved by receiving 10 FCCH bursts, sent in two
51-multiframes, see table 6.3.8.2-1. Thus the overall delay for frequency
synchronization is 470.8 ms.
##### 6.3.8.2.4.2 Time Synchronization using N-SCH {#time-synchronization-
using-n-sch .H6}
The synchronization time for N-SCH is evaluated for various coupling loss
scenarios in this section. The time taken to acquire the 10 FCCH bursts is not
included in the simulation results in this section.
Following assumptions are taken in the simulation for achieving
synchronization on N-SCH:
\- The TDMA frame number at which MS starts to detect frame boundary is
randomly chosen between [0...51]. Depending on the starting TDMA frame number,
time taken to detect the frame boundary for N-SCH Block decoding is noted as
T1.
\- If the N-SCH decoding is successful based on single N-SCH block, the
synchronization time needed for this N-SCH block is calculated as T1 +11 TDMA
frames.
\- If N-SCH decoding required more than one N-SCH block, the synchronization
time needed is calculated as T1+11 + (M-1)*20 TDMA frames where M is number of
N-SCH blocks required for successful decoding.
\- If the N-SCH decoding requires chase combining of more than one
51-multiframe contents, the synchronization time is increased by one
additional 51-multiframe if the starting 51-multiframe is odd frame. The
starting 51-multiframe in simulation is randomly selected between odd/even for
each block.
Figure 6.3.8.2-2 and figure 6.3.8.2-3 below reproduce the CDF function for the
N-SCH synchronization time in TDMA frames for MCL=164 dB and MCL=154 dB.
{width="5.08125in" height="2.3743055555555554in"}
Figure 6.3.8.2-2: N-SCH Decoding Time (in TDMA frames) CDF for MCL=164 dB.
{width="5.103472222222222in" height="2.3493055555555555in"}
Figure 6.3.8.2-3: N-SCH Decoding Time CDF (in TDMA frames) for MCL=154 dB.
It is observed that at target MCL conditions the N-SCH synchronization time
corresponding to 95% percentile is 923 ms (Figure 6.3.8.2-2). For MCL=154 dB
condition the N-SCH synchronization time reduces to 350 ms (Figure 6.3.8.2-3).
Figure 6.3.8.2-4 provides the average N-SCH synchronization time for various
MCL values in the range from MCL=154 dB to MCL=164 dB.
{width="5.135416666666667in" height="2.6145833333333335in"}
Figure 6.3.8.2-4: Average N-SCH synchronization time (TDMA frames) for MCL
range [154...164 dB]
In the above simulation for MCL=164 dB coverage condition: in 86% of the cases
N-SCH detection is possible within 2*51 multiframes. For the remaining 14%
blocks the successful decoding will be possible within one or more additional
51 multiframes. The probability of missing N-SCH decoding after
4*51-multiframes is found to be negligible (\ See subclause 7.1.2 and subclause 7.1.3.
\- Transport channels
> The transport channels are listed in Table 7.1.4.3-1. Each transport channel
> type defines how, and with which characteristics, data is transferred on the
> radio interface.
Table 7.1.4.3-1: Transport channels
* * *
Transport channel name Acronym Downlink Uplink Description Broadcast Channel
BCH X Carry basic system information Extend Broadcast Channel E-BCH X Carry
other system information Downlink Shared Channel DL-SCH X Carry downlink data
and control messages Paging Channel PCH X Carry paging messages Uplink Shared
Channel UL-SCH X Carry uplink data and control messages Random Access Channel
RACH X Carry random access request messages
* * *
##### 7.1.4.3.2 Channel mapping for the S1-based architecture
As the S1 interface is connection oriented, data and signalling are terminated
in the radio interface. The PDCP and RRC protocols are maintained to avoid
changes on the S1 interface and modifications to the MME. Data and signalling
are carried on logical channels between the PDCP/RRC layer and the MAC layer
as shown in Figure 7.1.4.3-2. The channel mapping between logical channels and
transport channels is performed by the MAC layer. The channel mapping between
transport channels and physical channels is performed by the physical layer.
The uplink mapping is shown with red lines, and the downlink mapping with blue
lines. The shared transport channels, UL-SCH and DL-SCH, are used by the
logical channels to carry data and signalling from the upper layers; the
common transport channels are terminated in the MAC layer.
Figure 7.1.4.3-2: Channel mapping for the S1-based architecture
The definitions of transport channels and physical channels are the same as in
subclause 7.1.4.3.1.
\- Logical channels
> The MAC layer provides data transfer services on logical channels. Each
> logical channel type is defined by the type of information that is
> transferred.
>
> The logical channels are listed in Table 7.1.4.3-2.
Table 7.1.4.3-2: Logical channels
* * *
Logical channel name Acronym Control channel Traffic channel Description
Dedicated Control Channel DCCH X Carry RRC signalling ( see subclause 7.1.5.4)
Dedicated Traffic Channel DTCH X Carry user data
* * *
#### 7.1.4.4 Scheduling
##### 7.1.4.4.1 General
Base stations transmit System Information (SI) on dedicated channels that are
reserved for this purpose (PBSCH and EPBCH). This enables the MS to find the
base station. The SI contains the super frame number.
The SI contains identification information for the base station and network as
well as timing and channel information for the Downlink Control Information
(DCI). Figure 7.1.4.4-1 shows the relationship between SIBs and DCIs.
Figure 7.1.4.4-1: SI/DCI Relationship
DCIs are periodically transmitted on a PDSCH channel and contain scheduling
information. The interval between the DCIs is configured in the SI. DCIs
provide uplink and downlink allocations, acknowledge uplink messages, and
configure the random access resources. An allocation is a physical resource on
the PBSCH or PUSCH channels. A downlink or uplink allocation description in a
DCI defines the start time, length, MCS, and the physical channel for the
resource. MSs receive DCIs on a particular PDSCH channel when they are not
otherwise transmitting or receiving. Uplink and downlink transmissions on
other physical channels can overlap with DCIs in time.
Figure 7.1.4.4.2 is an example of scheduling for a MS.
Figure 7.1.4.4-2: Example Scheduling
In Figure 7.1.4.4-2, a MS receives the SI. The SI provides details of a DCI
for the MS (1). The MS then receives the DCI, which provides the timing and
channel for a downlink (DL1 (2)) and an uplink (UL1 (3)) allocations. The MS
then receives DL1 and transmits UL1. UL1 contains the acknowledgement
information for the burst received in DL1.
The MS then receives DCI3. DCI3 provides acknowledgement information for the
burst transmitted by the MS in UL1. It also provides timing and channel
information for DL2 (4) and UL2 (5). The MS will then transmit a burst in UL2.
This transmission includes acknowledgement information for the burst received
in DL2.
MSs are able to request resource from a base station by sending a resource
request on the random access channel (RACH). The details of the RACH (its
physical channel and timing information) are carried in the DCIs. Once a MS
has requested resource via the RACH, the base station will attempt to allocate
resources in a subsequent DCI.
##### 7.1.4.4.2 DCI Burst Packet Format
The DCI burst packet format consists payload, padding and CRC. Figure
7.1.4.4-3 shows the DCI packet format.
{width="5.357638888888889in" height="1.3868055555555556in"}
Figure 7.1.4.4-3: DCI Packet Format
The DCI burst packet format does not include a length field since the length
is indicated by the burst preamble sequence.
The DCI payload is variable length and contains retransmission scheme
processing information, downlink allocations, uplink allocations, and RACH
allocations. The information elements of the DCI payload are shown in
subclause 7.1.4.8.1.
Padding is added after the DCI payload and before the CRC. So the complete
packet, including CRC, matches the length indicated by the burst preamble
sequence. The CRC is the last 24 bits of the packet.
The start indicator in the DCI defines the timing of the start of the physical
resource for an allocation. The start indicator is the number of slots from
the first slot of the DCI to the slot in which the MS is expected to transmit
or receive.
The time into the future that the DCI can schedule uplink and downlink
allocations is limited in order to constrain the size of the start indicator
field in the DCI.
The DCI cannot schedule allocations which start before the end of the same
DCI. An overview of when an allocation can start is shown in Figure 7.1.4.4-4.
Figure 7.1.4.4-4: DCI Start Allocation Range Overview
When MSs are grouped by link budget, different MCSs for the DCIs on different
PDSCH channels can be used. For MSs in poorer link conditions, the DCI used to
communicate with them will often use MCSs which include spreading and
repetition factors. In this case, the DCI will take more time to be
transmitted and also the interval between DCIs will typically be longer. As
the interval between DCIs is longer, the start indicator will also need to
have larger values. To keep the length of the start indicator as short as
possible, a scaling factor is applied to the start indicator which is
determined from the MCS of the DCI which contained the allocation.
A _slot offset_ value is calculated as follows:
_Slot offset_ = Start Indicator * DCI MCS Spreading Factor * DCI MCS
Repetition Factor
The _slot offset_ is then used to calculate the start slot of the allocation.
For uplink allocations, the start slot is calculated as follows:
Uplink Start Slot = DCI Start Slot + (_Slot Offset_ * 4)
A downlink allocation start slot is calculated as follows:
Downlink Start Slot = DCI Start Slot + _Slot Offset_
##### 7.1.4.4.3 Allocated Burst Packet Format
The packet format for an uplink or downlink allocated burst is shown in Figure
7.1.4.4-5.
Figure 7.1.4.4-5: Allocation Format
The allocation packet format does not include a length, since the length is
defined in the downlink allocation or uplink allocation in the DCI that
defined the allocation.
The allocation format does not need to define the octet length of the PDU
payload. The format of the PDU payload allows the receiver to determine the
length of the MAC headers and elements. Padding is then added after the PDU
payload and before the CRC so that the complete packet, including CRC, matches
the size of a code block. The CRC is always the last 24 bits of the packet.
#### 7.1.4.5 Random access procedure
##### 7.1.4.5.1 RACH configuration
RACH resources are scheduled dynamically using DCI scheduling and statically
using system information broadcast. Different RACH resources are allocated for
each coverage class. The MS selects dynamic or statically allocated RACH
according to its access cause. The MS chooses a RACH allocation based on
network indication, configuration, or desired coverage class. RACH is mapped
onto PUSCH.
The parameters of the RACH configuration in a DCI are described in subclause
7.1.4.8.1.
The parameters of the RACH configuration in the system information are shown
in Table 7.1.4.5-1.
Table 7.1.4.5-1: RACH configuration in system information
+------------+--------------------------------------------------------+ | Field | Description | +------------+--------------------------------------------------------+ | MCS | MCS that the MS will use when transmitting in the RACH | | | allocation. | +------------+--------------------------------------------------------+ | Channel ID | Uplink physical channel identity. | +------------+--------------------------------------------------------+ | RACH index | Number of RACH resources in one super frame | | | | | | (the RACH resources are equally distributed in a super | | | frame, and each RACH resource uses one RACH Allocation | | | Unit). | +------------+--------------------------------------------------------+
##### 7.1.4.5.2 Random access procedure with random number
When the MS is not connected to the Base Station, the MS can initiate a random
access procedure with random number. This procedure establishes a radio
connection between the MS and the base station, and assigns a connection
identifier C-RNTI to be used for the transfer of data between the MS and the
base station. An overview of the procedure is shown in Figure 7.1.4.5-1.
Figure 7.1.4.5-1: Random access procedure with Random Number
\- Step 0: the MS chooses a coverage class and RACH resource.
> Based on the received signal quality of the PBSCH, the MS is able to decide
> which coverage class and RACH resource to use.
\- Step 1: the MS transmits a Random Access Request message.
> The MS selects a Random Number (e.g. 20 bits) which is transmitted in the
> _Random Access Request_ message and is used to resolve contention ina \"one
> phase\" procedure. The access cause and the BSR provide information for the
> base station to schedule the required uplink resources for the MS.
>
> The main fields of the _Random Access Request_ message are given in
> subclause 7.1.4.8.4.
\- Step 2: the base station schedules a RACH response allocation
> After receiving the _Random Access Request_ message, the base station uses a
> DCI to schedule a downlink radio resource allocation for the RA-RNTI. This
> downlink resource will be used for the transmission of the _Random Access
> Response_ message. There is a one-to-one mapping between the RA-RNTI value
> and the physical channel used for the RACH resource. Therefore, all MSs
> transmitting a _Random Access Request_ message in the same physical channel
> will use the same RA-RNTI value. The base station can also include a radio
> resource allocation for the assigned C-RNTI within the same DCI.
\- Step 3: the MS receives the _Random Access Response_ message
> The _Random Access Response_ message assigns C-RNTI values to the MSs. The
> _Random Access Response_ message contains a list of Random Numbers from the
> _Random Access Request_ messages transmitted by the MSs and a C-RNTI value
> for each Random Number. The _Random Access Response_ also includes a Start
> Indicator with each C-RNTI assignment that identifies the RACH allocation
> the request was received in. The Start Indicator has the same meaning as in
> RACH configuration scheduled by DCI or can be calculated by RACH
> configuration broadcast in system information.
>
> The MS receives the _Random Access Response_ message in the allocation
> defined in the DCI, locates the Start Indicator of the RACH resource it used
> and its Random Number, and then stores the C-RNTI value associated with its
> Random Number. The C-RNTI values are used by the base station for scheduling
> uplink and downlink resources for the MSs. The MS monitors DCIs for
> allocations associated with the assigned C-RNTI, including the DCI that
> allocated the Random Access Response message.
>
> The main fields of the _Random Access Response_ message are given in
> subclause 7.1.4.8.4.
>
> The T~wait_RAR~ timer defines the maximum time the MS waits for the _Random
> Access Response_ message after the MS transmitted the _Random Access
> Request_ message. The timer is started after the _Random Access Request_
> message is transmitted.
##### 7.1.4.5.3 Random access procedure with C-RNTI
The MS uses this procedure when it is connected to the base station and has
been assigned a C-RNTI. An overview of the procedure is shown in Figure
7.1.4.5-2.
Figure 7.1.4.5-2: Random access procedure with C-RNTI
\- Step 0: the MS choose a coverage class and RACH resource.
> The MS chooses a RACH resource according to its current coverage class and
> uses the transmit power of the last transmitted _Random Access Request_
> message.
\- Step 1: the MS transmits a Random Access Request message.
> The MS transmits a Random Access Request message including its C-RNTI. The
> access cause and BSR provide information for the base station to schedule
> the required uplink resources for the MS. The C-RNTI is a unique MS
> identifier in the cell, and, therefore the base station can directly
> schedule an uplink resource allocation for the MS using the C-RNTI.
>
> The main fields of the _Random Access Request_ message are given in
> subclause 7.1.4.8.4.
##### 7.1.4.5.4 No response to Random Access Request
If the base station fails to decode a _Random Access Request_ message or an
access collision occurs, then the base station is unable to provide a response
for the MS.
If the MS does not a receive response to the _Random Access Request_ message
before the timer T~wait_RAR~ expires, then the MS considers that the random
access procedure has failed and waits for a random period of time between 0 to
T~wait_resend~ before transmitting another _Random Access Request_. The
T~wait_RAR~ and T~wait_resend~ timer values can be statically configured or
broadcast by the base station in the system information.
The same behaviour applies for a _Random Access Request_ message with C-RNTI
if the MS does not receive a DCI with an uplink resource allocation within
timer T~wait_RAR~.
The procedure is shown in Figure 7.1.4.5-3.
Figure 7.1.4.5-3: Random Access Procedure with no response
When the MS transmits a new _Random Access Request_ message, the MS may
increase the transmit power or switch to a different coverage class.
The maximum number of Random Access Request attempts that a MS may perform in
a random access procedure is limited. The counter N~trans_max~ is initialized
on the first transmission of the _Random Access Request_ message and
incremented for each subsequent transmission. If the counter reaches a maximum
value then the MS may select another cell. The maximum value of the counter
can be statically configured or broadcast by the base station in the system
information.
##### 7.1.4.5.5 Random Access Reject
In case of an overload situation, the base station can send a _Random Access
Reject_ message to MSs within a given coverage class to stop _Random Access
Requests_ re-attempts and so help alleviate the network congestion. The main
fields of the _Random Access Reject_ message are given in subclause 7.1.4.8.4.
If the MS receives a _Random Access Reject_ message it will wait for at least
\"Wait Time\" before retransmitting a _Random Access Request_ message. After
\"Wait Time\", the MS resends _Random Access Request_ according to
\"retransmission time\" _which can be determined based on information carried
for example via system information or Random Access Reject message._ When the
MS retransmits a _Random Access Request_ message it can use the coverage class
and transmit power of the last transmitted _Random Access Request_ message.
If the maximum number of transmissions (N~trans_max~ counter) is reached then
the MS may select another cell.
During a Random access procedure with C-RNTI, the base station can send a MAC
control message to release the radio connection in an overload situation. The
MS will perform a random access procedure with random number to re-access the
network.
The procedure is shown in Figure 7.1.4.5-4.
Figure 7.1.4.5-4: Random Access Procedure with Random Access Reject
#### 7.1.4.6 Data transfer procedure
##### 7.1.4.6.1 General
The data transfer procedure applies to MSs in Connected Mode, as described in
subclause 7.1.4.2.
Connected Mode has 2 sub-modes:
\- All DCI Reception (ADR); and
\- Reduced DCI Reception (RDR).
The relationship between Connected Mode, sleep modes, and the sub-modes of
Connected Mode is shown in Figure 7.1.4.6-1.
Figure 7.1.4.6-1: Connected Mode DCI Monitoring
When the MS enters Connected Mode it uses ADR. Once data transfer and
signalling is complete the MS enters RDR. In RDR the MS receives a subset of
the DCIs transmitted by the base station. RDR allows the MS to be addressed by
the base station, while saving power in the MS, should there be additional
data transfer, for example application acknowledgements to uplink messages.
It is crucial that the point in time where the MS enters RDR is unambiguous
both at the MS and the base station.
The successful completion of an uplink data transfer is signalled by the base
station via a feedback indication in the DCI following the uplink data
transmission.
The successful completion of a downlink data transfer is signaled by the MS
via the transmission of a MAC Control Element which, in turn, is acknowledged
by the base station in the next DCI as per the mechanism used for uplink MAC
transfer.
Thus, the base station acknowledgment of the last uplink data transfer is an
unambiguous trigger to enter RDR.
The MS should only enter RDR when there is no more data pending for transfer
(uplink or downlink). The MS can inform the base station when it transmits the
last uplink data packet. If downlink data is pending, the base station should
schedule a resource allocation for it.
If the MS is in Connected Mode and new uplink data is to be sent but the base
station is not providing scheduled resources for the MS, for example because
the base station has provided all the resources indicated by the last BSR
report from the MS, then the MS may use the RACH with C-RNTI procedure to
request additional uplink resources.
While in RDR mode the DCIs which the MS receives are called Anchor DCIs. The
anchor DCIs serve a similar purpose to the paging occasions in Idle Mode, i.e.
they define a point in time where the MS can be contacted by the base station.
Anchor DCIs are defined by a RDR cycle (e.g. power of 2 number of frames) and
the use of MS specific information (e.g. MS C-RNTI or time of the DCI carrying
the feedback information) to prevent all MSs from attempting to use the same
DCI as an anchor.
The RDR cycle used in the RDR sub-mode does not have any associated MS
specific latency requirements. It defines the frequency of opportunities the
base station has for addressing the MSs in Connected Mode and should be short
enough so as not to substantially impact the MS battery consumption (over
time) or have an impact on the legacy core network (e.g. NAS retransmission
timers), typically in the range of a few seconds. The length of the RDR cycle
is common to all MSs and can be broadcast in the system information.
When activity has not taken place for some time, the MS moves from Connected
Mode into one of the sleep modes for better battery savings using a Connected
Mode Release timer. The Connected Mode Release timer value is either the same
as the READY timer in the Gb architecture or broadcast in system information
in the S1 architecture.
##### 7.1.4.6.2 Segmentation and re-assembly
The segmentation function is responsible for segmenting upper layer (PDCP or
LLC) PDUs into MAC Data Elements and concatenating them into a MAC PDU before
transmission. The reassembly function reassembles the upper layer PDUs in the
proper order at the receiving end.
The general overview of this function is shown in Figure 7.1.4.6-2.
Figure 7.1.4.6-2: Segmentation and re-assembly overview
**Segmentation**
Segmentation allows transmitting an upper layer PDU over multiple MAC PDUs,
whereas concatenation allows transmitting multiple upper layer PDUs or
segments of upper layer PDUs within one MAC PDU. The upper layer PDUs, or
segments of upper layer PDUs, are placed in the MAC PDUs in the same order as
received from the upper layers. Segmentation information is included in the
data sub-header as described in subclause 7.1.4.8.3.
**Re-assembly**
MAC PDUs are collected at the receiver side until all segments of an upper
layer PDU have been received. The MAC headers are removed, and the MAC data
elements re-assembled into an upper layer PDU.
The received upper layer PDUs are delivered to the upper layer in the order
they were originally transmitted. This is guaranteed by the single process
retransmission mechanism.
**Impact on upper layer**
No impact on LLC/SNDCP protocols is foreseen in the Gb-based architecture.
Some PDCP timers (e.g. timer discardTimer) may need to be revisited in the
S1-based architecture.
##### 7.1.4.6.3 Data transmission and retransmission
##### 7.1.4.6.3.1 Principle for single process retransmission {#principle-for-
single-process-retransmission .H6}
A single process retransmission is proposed to reduce the buffer size while
guaranteeing the reliability of data transmission.
In single process retransmission, a new MAC PDU can be sent only when the
previous MAC PDU has been acknowledged. Such a mechanism can be achieved by
the following procedure.
\- Each MAC endpoint transmitter will have an associated send state variable
V(S).
V(S) denotes the sequence number of the next in‑sequence MAC PDU to be
transmitted. V(S) can take on the value 0 or 1. The value of V(S) will be
incremented by 1 after transmission of the MAC PDU with V(S) = V(R). V(R) is
defined below.
\- Each MAC endpoint receiver will have an associated receive state variable
V(R).The receive state variable denotes the sequence number of the MAC PDU
which is expected by the receiver. V(R) can take on the value 0 or 1, and the
value of V(R) will be informed to the transmitter. The value of V(R) will be
incremented by 1 after a MAC PDU has been received correctly.
As showed in Figure 7.1.4.6-3, since the value of V(S) can either be 0 or 1,
the window size of the transmitter is two which is shown by the red block. The
MAC PDUs in the transmitting window are indexed as either 0 or 1. The value of
V(S) is always set as the index of the MAC PDU on the right side of the
transmitting window. The receiver informs the expected index of the MAC PDU
according to V(R). The transmitter will select he MAC PDU indexed by value of
V(R) in the transmitting window to transmit next.
Figure 7.1.4.6-3: Data transmission and Retransmission
##### 7.1.4.6.3.2 Feedback mechanism and processing {#feedback-mechanism-and-
processing .H6}
As shown in Figure 7.1.4.6-3, when the receiver receives the corresponding
signals according to the base station scheduling, the receiver will try to
combine the signal with that of the previous transmission if this is a
retransmission of the MAC PDU. Then the receiver will demodulate and decode
the combined signal. If the MAC PDU is decoded successfully, the receiver will
increase the sequence number of V(R) by 1 (for 1-bit V(R), this is equivalent
to inverting V(R)), and then send the updated V(R) to the transmitter.
Otherwise if the PDU is not decoded successfully, the sequence of V(R) will be
kept the same and be sent back to the transmitter.
The transmitter will check the value of V(R) from the feedback information.
From the received V(R), the expected MAC PDU from the receiver can be
identified by the transmitter.
\- If the received V(R) is different from the V(S) sent in the latest PDU
transmission, this means the previous PDU has been decoded successfully by the
receiver side.
\- Otherwise, it means a decoding failure by the receiver.
According to the received V(R), the transmitter can choose the expected MAC
PDU and the redundancy version to be sent in the next scheduled allocation.
**Downlink Feedback Mechanism**
After the base station has scheduled a downlink allocation it needs to
schedule an uplink allocation for the MS to provide feedback. The MS sends the
updated V(R) value in the uplink MAC PDU. The MS is only required to provide
feedback if there is a change in the V(R) value.
The MS uses a MAC Control Element, see subclause 7.1.4.8.3, to provide
feedback to the base station. The V(R) value is carried in the MAC Control
Element.
The MS can fail to receive the DCI which provided the downlink allocation, or
it can fail to receive the downlink MAC PDU. If the MS did not receive the DCI
correctly then it will not know when to receive the downlink MAC PDU and
therefore will not provide feedback in the next uplink allocation. If the MS
received the DCI, but failed to receive the MAC PDU then it can choose to
transmit the current V(R) value in the next uplink allocation, indicating a
retransmission is required.
When the base station schedules an uplink allocation after a downlink
allocation and does not receive a MAC Control Element carrying the V(R) value
then the base station assumes that the MS did not receive the downlink
transmission successfully and will retransmit the downlink MAC PDU. If the MS
transmitted a V(R) value then the base station uses the value to determine
whether the downlink MAC PDU was successfully received or not.
**Uplink Transmission Feedback Mechanism**
The base station provides V(R) values to the MS using a bitmap ACK field in
the DCI that follows an uplink allocation. The successful reception of the
last uplink MAC PDU is used to trigger entry of RDR from ADR in Connected
Mode, see subclause 7.1.4.6.1, therefore high reliability for the feedback is
required. To achieve the high reliability of the feedback the bitmap ACK field
is repeated in the next DCI.
Figure 7.1.4.6-4: Uplink Transmission Acknowledgement scheme
As shown in Figure 7.1.4.6-4, the uplink allocation field in a DCI, in
addition to the channel, timing, MCS and duration information, provides an
index that indicates the position of the ACK/NACK in the bitmap ACK field of
the DCI after the transmission of uplink MAC PDU. The bitmap ACK field will be
repeated in the next DCI.
The bitmap ACK index is used by the MS to locate the V(R) value for the next
uplink transmission. If the base station requests the transmission of the next
MAC PDU, the MS can discard the previous MAC PDU, freeing buffer space.
When the base station indicated successful reception of the last uplink MAC
PDU, the MS enters RDR, see subclause 7.1.4.6.1.
Table 7.1.4.6-1 defines the actions taken by the MS and the base station,
depending upon which DCIs the MS has received, whether the last uplink MAC PDU
has been transmitted and whether the bitmap ACK field indicates successful
reception of the uplink MAC PDU.
Table 7.1.4.6-1: Actions after UL Transmission and Feedback Reception
+----------------+----------------+----------------+----------------+ | Last Uplink | DCIs received | ACK or NACK of | Action | | MAC PDU | after uplink | UL | | | transmitted | transmission | transmission | | +----------------+----------------+----------------+----------------+ | Yes | First or | ACK | Enter RDR. If | | | second DCI | | feedback is | | | received | | received in | | | successfully | | the first DCI | | | | | the MS does | | | | | not need to | | | | | receive the | | | | | second DCI. | +----------------+----------------+----------------+----------------+ | No | First or | ACK or NACK | The MS stays | | | second DCI | | in ADR as the | | | received | | last UL MAC | | | successfully | | PDU has not | | | | | been | | | | | transmitted | | | | | and keeps | | | | | receiving DCIs | | | | | for subsequent | | | | | allocations | | | | | for UL | | | | | transmissions | +----------------+----------------+----------------+----------------+ | Yes or No | First or | NACK | The MS stays | | | second DCI | | in ADR and | | | received | | keeps | | | successfully | | receiving DCIs | | | | | for subsequent | | | | | allocations | | | | | for | | | | | r | | | | | etransmission. | +----------------+----------------+----------------+----------------+ | No | None | Unknown by the | The MS stays | | | | MS | in ADR as the | | | | | last UL MAC | | | | | PDU has not | | | | | been | | | | | transmitted | | | | | and keeps | | | | | receiving DCIs | | | | | for subsequent | | | | | allocations | | | | | for new UL | | | | | transmissions | | | | | or | | | | | re | | | | | transmissions. | | | | | | | | | | If the base | | | | | station | | | | | successfully | | | | | received the | | | | | UL MAC PDU it | | | | | will provide | | | | | further | | | | | allocations | | | | | until the last | | | | | MAC PDU is | | | | | received. If | | | | | the base | | | | | station failed | | | | | to receive the | | | | | UL MAC PDU | | | | | then it will | | | | | provide an | | | | | uplink | | | | | allocation for | | | | | r | | | | | etransmission. | | | | | | | | | | The V(R) value | | | | | included in | | | | | the uplink | | | | | allocation | | | | | indicated | | | | | whether the MS | | | | | retransmits | | | | | the previous | | | | | UL MAC PDU or | | | | | transmits the | | | | | next UL MAC | | | | | PDU. | | | | | | | | | | The | | | | | probability of | | | | | failure to | | | | | successfully | | | | | receive 2 | | | | | consecutive | | | | | DCIs is low, | | | | | therefore this | | | | | is unlikely to | | | | | occur. | +----------------+----------------+----------------+----------------+ | Yes | None | Unknown by the | The MS uses | | | | MS | RACH to | | | | | request | | | | | retransmission | | | | | of the MAC PDU | | | | | as the MS does | | | | | not know | | | | | whether the | | | | | base station | | | | | transmitted an | | | | | ACK or not. | | | | | | | | | | The base | | | | | station will | | | | | not provide | | | | | any subsequent | | | | | allocations as | | | | | it expects the | | | | | MS to be in | | | | | RDR if it | | | | | transmitted an | | | | | ACK. | | | | | | | | | | When the base | | | | | station | | | | | provides the | | | | | UL allocation | | | | | the V(R) value | | | | | will indicate | | | | | whether the MS | | | | | should | | | | | retransmit the | | | | | previous MAC | | | | | PDU or | | | | | transmit a new | | | | | MAC PDU, | | | | | therefore the | | | | | MS and base | | | | | station are | | | | | kept | | | | | synchronized. | | | | | | | | | | The | | | | | probability of | | | | | failure to | | | | | successfully | | | | | receive 2 | | | | | consecutive | | | | | DCIs is low, | | | | | therefore this | | | | | is unlikely to | | | | | occur. | +----------------+----------------+----------------+----------------+
#### 7.1.4.7 Paging Procedure
##### 7.1.4.7.1 General
The paging procedure applies to MSs in Idle Mode, as described in subclause
7.1.4.2.
Paging is initiated by the Core Network. When sending a paging request to a
base station, the Core Network should provide:
\- the mobile identity used for paging the MS on the radio interface, i.e.
IMSI/P-TMSI (for Gb based architecture) or S-TMSI (for S1 based architecture);
and
\- the parameter for the base station to determine the next paging occasion,
i.e. IMSI (for Gb based architecture) or IMSI mod 1024 (for S1 based
architecture); and
\- the latest known Coverage Class of the MS; and
\- optionally, the MS specific DRX cycle.
In the case when a MS specific DRX cycle is provided by the Core Network, the
base station will always use the MS specific DRX cycle instead of the default
DRX cycle broadcast in the System information to determine the next paging
occasion.
The scheduling of a PAGING message is indicated in the DCI by a resource
allocation for the P-RNTI.
P-RNTI can be coded into two parts, a fixed part (set to a predefined value)
indicating a paging RNTI and a paging message reading indicator indicating
which specific groups of MSs need to read the corresponding PAGING messages.
Figure 7.1.4.7-1: P-RNTI format
There is no need for a MS to monitor continuously the DCI for incoming PAGING
messages. Discontinuous Reception (DRX) in idle mode is used in order to
reduce MS power consumption. When DRX is used, the MS needs only to monitor
one Paging Occasion (PO) per DRX cycle. When a MS receives a PAGING message
including its mobile identity, a random access procedure, as described in
subclause 7.1.4.5, will be initiated.
##### 7.1.4.7.2 Determination of Paging Occasion
A Paging Occasion (PO) is a specific DCI interval where P-RNTI is included in
the DCI. A Paging Frame (PF) is one super frame containing one or multiple
Paging Occasion(s).
PF and PO are determined by the following formulae using the DRX parameters
provided in System Information:
PF is given by the following equation:
super frame number mod T= (T div N)*(MS_ID mod N)
Index i_s, defining a PO, will be derived from the following calculation:
i_s = floor (MS_ID/N) mod Ns
The following parameters are used for the calculation of the PF and i_s:
\- T: DRX cycle of the MS. T is determined by the value of the MS specific DRX
cycle. If the MS specific DRX cycle is not configured by upper layers, the
default value broadcast in the system information is applied.
\- N: N is used to group the super frame where the DCI for PCH can only appear
in PF. It is selected from {T, T/2, T/4, T/8}.
> For example,
>
> when N= T, the DCI for PCH may appear in each super frame;
>
> when N= T/2, the DCI for PCH may appear every two super frames;
\- Ns: All the DCI blocks are separated into Ns groups for each Coverage
Class. The MS can select one of the Ns groups based on its IMSI for the DCI
monitoring for Paging. Parameter Ns is calculated by the following equation,
where the DCI interval is the number of frames for the corresponding Coverage
Class:
Ns= 64/DCI interval
\- MS_ID: IMSI mod 1024 (for S1 based architecture) or IMSI (for Gb based).
Figure 7.1.4.7-2 shows the position of the paging occasions when where the DCI
interval is four frames.
Figure 7.1.4.7-2: PO Locations example for Paging, Ns=16
##### 7.1.4.7.3 Reception of Paging on the Radio Interface
The PAGING message is transmitted on the Paging Channel (PCH), which is
coverage class specific.
The transmission of the PAGING message for a specific coverage class is
indicated by the scheduling of a downlink resource allocation for the P-RNTI
in the DCI associated with the coverage class. The parameters of a downlink
resource allocation are described in subclause 7.1.4.8.1. The start indicator
and the duration indicate when to receive the PAGING message, and the channel
ID indicates where to receive the paging message.
A PAGING message can page several MSs at the same time. A list of mobile
identities is included in the PAGING message as shown in Table 7.1.4.7-1:
Table 7.1.4.7-1: Content of the PAGING Message
+----------------------+----------------------------------------------+ | Field | Description | +----------------------+----------------------------------------------+ | Mobile identity List | | +----------------------+----------------------------------------------+ | >Mobile identity | NAS identity of the MS being paged. | | | | | | IMSI/P-TMSI (for Gb based architecture) or | | | S-TMSI (for S1 based architecture) | +----------------------+----------------------------------------------+
#### 7.1.4.8 Formats and structures
##### 7.1.4.8.1 DCI Packet Payload
Table 7.1.4.8-1: DCI Packet Payload Elements
+---------------------------+-----------------------------------------+ | Field | Description | +---------------------------+-----------------------------------------+ | DL Number | The number of scheduled downlink users. | +---------------------------+-----------------------------------------+ | DL Allocation[] | List of DL Allocations. One for each | | | scheduled transmission. Included in | | | this field: | | | | | | - RNTI (C-RNTI, P-RNTI or RA-RNTI) | | | | | | - Channel ID | | | | | | - MCS | | | | | | - Start indicator | | | | | | - Duration | | | | | | - PDU identification | +---------------------------+-----------------------------------------+ | UL Number | The number of scheduled uplink users. | +---------------------------+-----------------------------------------+ | UL Allocation[] | List of UL Allocations. One for each | | | scheduled uplink user. Included in the | | | field: | | | | | | - C-RNTI | | | | | | - Channel ID | | | | | | - MCS | | | | | | - Start indicator | | | | | | - Duration | | | | | | - Acknowledgement information | | | | | | - Bitmap ACK index: indicate the | | | position of the corresponding ACK/NACK | | | indication in the bitmap ACK field of | | | the DCI following the UL allocation | +---------------------------+-----------------------------------------+ | RACH Number | The number of scheduled random access | | | resources. | +---------------------------+-----------------------------------------+ | RACH Config[] | List of RACH Configs. Once for each | | | scheduled random access resource. | | | Included in this field: | | | | | | - MCS | | | | | | - Channel ID | | | | | | - Start indicator | | | | | | - SZ: Number of slots of RACH: 2^SZ^ | | | * RACH Allocation Unit | +---------------------------+-----------------------------------------+ | Bitmap ACK field | The bitmap ACK field for the UL | | | transmissions which are ended between | | | the previous DCI and this DCI | +---------------------------+-----------------------------------------+ | Previous bitmap ACK field | A repetition of the bitmap ACK field in | | | the previous DCI | +---------------------------+-----------------------------------------+ | Padding | A variable length padding field. The | | | length of the field will be set so that | | | the payload is a whole number of octets | | | and the following CRC begins on an | | | octet boundary. | +---------------------------+-----------------------------------------+
##### 7.1.4.8.2 MAC PDU General structure
The MAC design allows multiplexing of MAC signalling and data within one MAC
PDU to increase the resource utilization efficiency. Generally, a MAC PDU
consists of a MAC header and a MAC payload. The MAC header is a list of MAC
sub-headers which define the contents of the MAC payload. The MAC payload is a
list of MAC payload elements.
Each MAC payload element is either a MAC data element (i.e. a segment of an
upper layer PDU or a complete upper layer PDU) or a MAC control element,
containing data or MAC signalling respectively. The MAC control elements are
included before the MAC data elements. The length of a MAC PDU is variable,
and the maximum size depends on the code block size used in the physical
layer. Padding and a CRC are appended to the MAC PDU to form an allocation
burst packet as described in subclause 7.1.4.4.2.
Figure 7.1.4.8-1: Example of MAC PDU payload
Each MAC sub-header corresponds to a MAC payload element, and the ordering is
retained. The MAC sub-header defines the contents of the MAC payload element.
An overview of the relationship between the MAC sub-headers and the MAC
payload elements is shown in Figure 7.1.4.8-2.
Figure 7.1.4.8-2: Relationship between MAC sub-headers and MAC payload
elements
##### 7.1.4.8.3 MAC Control Elements
**Control sub-header structure**
A control sub-header in the MAC header indicates a corresponding MAC control
element in the MAC payload. An example of the fields of a control sub-header
is shown in Table 7.1.4.8-2.
Table 7.1.4.8-2: MAC control sub-header
* * *
Field Description E Extension. Set to 1 if more sub-headers follow, or set to
0 in the last sub-header of the MAC header. C Set to 1 to indicate that the
associated MAC payload element is a MAC control element. Type MAC Control
Element type
* * *
**Control element structure**
Uplink and downlink control elements carry control messages. The type of the
control element is indicated in the control sub-header. Different core network
architectures may need different control elements.
##### 7.1.4.8.4 MAC Data Elements
**Data sub-header structure**
A data sub-header in the MAC header indicates a corresponding MAC data element
in the MAC payload. An example of the fields of a data sub-header is shown in
Table 7.1.4.8-3.
Table 7.1.4.8-3: MAC data sub-header
+-------+-------------------------------------------------------------+ | Field | Description | +-------+-------------------------------------------------------------+ | E | Extension. Set to 1 if more sub-headers follow, or set to 0 | | | in the last sub-header of the MAC header. | +-------+-------------------------------------------------------------+ | C | Set to 0 to indicate that the associated MAC payload | | | element is a data element. | +-------+-------------------------------------------------------------+ | Type | S1-based: Type of data in the data element. At least upper | | | layer signalling and user data need to be differentiated in | | | order to allow the use of different security mechanisms in | | | the upper layer. | | | | | | Gb-based: set to a reserved value. | +-------+-------------------------------------------------------------+ | SN | Might be included to indicate the segment sequence number | | | in the upper layer PDU. | +-------+-------------------------------------------------------------+ | FI | Indication of the last segment of an upper layer PDU. | +-------+-------------------------------------------------------------+ | L | Length of the data element in bytes | +-------+-------------------------------------------------------------+
**Data element structure**
Uplink and downlink data elements have the same structure. In S1-based
architecture, a data element can contain data or upper layer (RRC) signalling.
In Gb-based architecture, a data element can only contain data.
##### 7.1.4.8.5 MAC PDU (for random access messages)
**Uplink**
The _Random Access Request_ message has a format different from the other
control messages. The control sub-header is omitted and a field \"Type\" is
added to the payload to indicate the type of random access procedure (i.e.
with random number or with C-RNTI).
Table 7.1.4.8-4: Random Access Request
* * *
Field Description Type Random access type (i.e. with random number or with
C-RNTI) MS Identity Random number or C-RNTI BSR Buffer Status Report: Level of
uplink data (in bytes) buffered in the MS. Access Cause Random access cause
* * *
**Downlink**
The downlink messages for the random access procedure include _Random Access
Response_ and _Random Access Reject_.
The design is similar to the uplink message. The MAC PDU consists of one or
more Random Access Response Control Elements or of one Random Access Reject
Control Element. The control sub-headers are omitted, and a field \"Type\" is
added to the payload to indicate the MAC Control Element type.
Table 7.1.4.8-5: Random Access Response
* * *
Field Description **Type** Set to 0 to indicate a Random Access Response
message Random Number Random number C-RNTI Cell Radio Network Temporary
Identity Start Indicator Start position of the RACH resource.
* * *
Table 7.1.4.8-6: Random Access Reject
* * *
Field Description **Type** Set to 1 to indicate a Random Access Reject message
Wait Time Period after which the MS is allowed to transmit a new _Random
Access Request_ message Reject Cause Reject cause
* * *
##### 7.1.4.8.6 MAC PDU (for System Information and Paging)
System information and paging are carried on dedicated transport channels,
i.e. BCH, E-BCH and PCH, thus the control sub-header can be omitted. The
contents of these MAC PDUs are described in subclauses 7.1.5.1and 7.1.4.7.
Figure 7.1.4.8-3: MAC PDU for SI and paging
### 7.1.5 Radio resource management
#### 7.1.5.1 System Information
##### 7.1.5.1.1 System Information Distribution
The downlink physical channels PBSCH and EPBCH carry the system information.
PBSCH carries the Broadcast Information block 1 over eight consecutive
synchronization and broadcast bursts, see subclause 7.1.2.1.1.3.
EPBCH carries the Broadcast Information block 2, block 3 and block 4, see
subclause 7.1.2.1.1.3.
There are four types of Broadcast Information block, and four System
Information types can be transmitted in parallel. If additional System
Information types are needed, System Information types can be time-multiplexed
in Broadcast Information blocks 3 and 4.The scheduling information for the
multiplexed System Information types can be provided in the System Information
Type carried in Broadcast Information block 1.
##### 7.1.5.1.2 System Information Type
There are four System Information types carried over two physical broadcast
channels, as shown in Table 7.1.5.1-1.
Table 7.1.5.1-1: System Information Type
+----------------+----------------+----------------+----------------+ | Type | Content | Broadcast | Broadcast | | | | channel | Information | | | | | block type | +----------------+----------------+----------------+----------------+ | System | - Super frame | PBSCH | Broadcast | | Information | number | | Information | | Type 1 | | | block 1 | | | - Indication | | | | | of the change | | | | | of other SIs | | | | | | | | | | - PLMN | | | | | identity | | | | | | | | | | - Cell | | | | | identity | | | | | | | | | | - Tracking | | | | | area code (S1 | | | | | architecture | | | | | option) or | | | | | Routing Area | | | | | ID (Gb | | | | | architecture | | | | | option) | | | | | | | | | | - Cell barred | | | | | (to prevent | | | | | access to all | | | | | MS) | | | | | | | | | | - Access | | | | | control | | | | | parameters for | | | | | PLMN to | | | | | prevent | | | | | initial access | | | | | (RACH | | | | | procedures) by | | | | | a group of | | | | | devices | | | | | | | | | | - **A | | | | | threshold for | | | | | signal level | | | | | for cell | | | | | selection** | | | | | | | | | | **\- Indication | | | | | of existence | | | | | of system | | | | | information in | | | | | EPBCH** | | | +----------------+----------------+----------------+----------------+ | System | - RACH | EPBCH | Broadcast | | Information | configuration | | Information | | Type 2 | including: | | block 2 | | | common RACH | | | | | allocation and | | | | | RACH control | | | | | parameter, | | | | | | | | | | - DCI | | | | | configuration | | | | | for each | | | | | coverage | | | | | category | | | | | | | | | | - Default | | | | | Paging DRX | | | | | cycle and | | | | | parameters for | | | | | the MS to | | | | | calculate the | | | | | paging | | | | | occasions | | | | | | | | | | - Timers and | | | | | counters for | | | | | L2/L3 | | | | | | | | | | - Uplink | | | | | power control | | | +----------------+----------------+----------------+----------------+ | System | - Network | EPBCH | Broadcast | | Information | sharing | | Information | | Type 3 | information | | block 3 | +----------------+----------------+----------------+----------------+ | System | - Cell | EPBCH | Broadcast | | Information | reselection | | Information | | Type 4 | parameters | | block 4 | | | | | | | | - Neighbour | | | | | cell | | | | | information | | | +----------------+----------------+----------------+----------------+
##### 7.1.5.1.3 System Information Reading
During cell selection, the MS will read the System Information Type 1 of the
candidate cell to obtain the cell selection threshold.
When cell reselection occurs, the MS will read the full set of System
Information types for the re-selected cell.
When the MS wakes up from Power Saving Mode, the MS will always read the
System Information Type 1. If there is an indication that other System
Information types have changed, the MS will read the other System Information
types.
When the MS wakes for the paging occasion, the reception of the System
Information Type 1 is optional depending on the length of the paging cycle.
#### 7.1.5.2 Cell selection and reselection procedure
##### 7.1.5.2.1 Cell selection
**Initial cell selection**
The cell selection starts when the MS is powered-on or cannot find any
suitable cells by the cell reselection procedure.
The general procedure of initial cell selection is as follows:
\- Firstly, the MS performs the cell search procedure on one carrier frequency
to find all the cells on that frequency, and then performs cell measurement of
each cell to find the strongest cell on the carrier frequency.
\- Secondly, the MS reads the system information for the strongest cell on the
carrier frequency. If the cell is a suitable cell, the MS will try to camp on
that cell.
\- If the MS can camp on that cell successfully, then the MS will stop
searching for other carrier frequencies. Otherwise, the MS needs to search for
the strongest cell on the next carrier frequency, in order.
**Stored information cell selection**
In the case where the MS has stored information on some cells, the MS does not
need to start from the initial cell selection procedure, and instead can
perform cell selection using the stored information. If no suitable cell is
found according to the stored information, then the initial cell selection
procedure will be started.
##### 7.1.5.2.2 Cell reselection
While camping on a cell, the MS may search for a better cell based on the
measurements rules. If a better cell is found according to the cell
reselection criteria, then that cell is selected.
**Measurements for cell reselection**
The measurements include both serving cell and neighbour cells.
\- Measurement on the serving cell
> If PSM is used, the measurements on the serving cell will be performed when
> the MS wakes up. If DRX/paging is used, the measurements will be done for
> each paging cycle, as with the legacy mechanism.
\- Measurement on neighbour cells
> The neighbour cell measurements need not be periodic, in order to save power
> consumption in the MS. Instead, the MS can initiate the neighbour cell
> measurements when the receiver signal level of the serving cell is lower
> than a threshold or after several decoding failures.
**Cell reselection criteria**
After measurements of the neighbour cells, the MS performs ranking of all
cells and reads the necessary system information of the best ranked cell. If
the cell is suitable for camping and the following reselection conditions are
met, then the MS will reselect this cell:
\- The new cell is better ranked than the serving cell during a time interval
T~reselection~ (during this period, the MS needs to measure the serving cell
and the neighbour cells), where the timer value can be broadcast in system
information;
\- The MS has camped on the current serving cell for a defined period.
If the best cell is not a suitable cell, the MS can reselect the second best
cell.
#### 7.1.5.3 Coverage class
##### 7.1.5.3.1 Definition of coverage class
Multiple coverage classes are supported to adapt to different path and
penetration losses experienced by different MSs. This allows MSs with better
than worst case coupling loss to benefit from improved battery life and lower
latency, and also benefits the network in terms of improved capacity.
A one-to-one mapping is constructed between coverage class and DCI
configuration, i.e. each coverage class is associated with one and only one
broadcast DCI configuration, consisting of DCI MCS, DCI channel index, and DCI
interval. The DCI configurations to be supported in a cell are indicated by
the information element _DCI configuration list_ contained in the broadcast
system information.
Table 7.1.5.3-1 shows an example of the relationship between coverage class,
DCI MCS, DCI channel index, and DCI interval, where three DCI configuration
combinations X, Y and Z are configured in the system information.
Table 7.1.5.3-1: Mapping of coverage class and DCI configuration combination
X, Y and Z, where X~mcs~ ≥ Y~mcs~ ≥ Z~mcs~
* * *
Coverage class index DCI MCS index DCI channel index DCI interval 0 X~mcs~
X~ch~ X~interval~ 1 Y~mcs~ Y~ch~ Y~interval~ 2 Z~mcs~ Z~ch~ Z~interval~
* * *
The coverage class is indexed in an ascending order with respect to the level
of coverage extension, which means that higher coverage class implies greater
coverage extension.
##### 7.1.5.3.2 Initial coverage class selection
The MS selects an appropriate coverage class for DCI monitoring based on its
estimate of downlink signal quality. A typical procedure for the initial
coverage class selection is:
Step-1: The MS performs measurements on PSS/SSS contained in PBSCH.
Step-2: The MS acquires the DCI configuration (i.e. the association of DCI
MCS, DCI channel index and DCI interval) from the information element _DCI
configuration list_ carried by the system information.
Step-3: The MS chooses a candidate coverage class as the most probable class
based on the downlink measurement results.
Step-4: The MS attempts to decode the DCI bursts corresponding to the
candidate coverage class, which will take place over a given time duration,
and then applies the following decision process:
1> if a predefined decoding criterion (e.g. a predefined number of successive
successful DCI decodes, or a predefined portion of successful DCI decodes) is
met, the candidate coverage class is selected for subsequent communications;
1> else
2> if the candidate coverage class index is lower than the highest available
value, the MS alters the candidate coverage class to a higher index and
returns to Step-4.
2> else the MS enters the process of coverage class selection failure (i.e.
cell (re)selection is triggered).
An illustration of the initial coverage class selection procedure is shown in
Figure 7.1.5.3-1.
Figure 7.1.5.3-1: An overall diagram of the initial coverage class selection
##### 7.1.5.3.3 Coverage class notification
The MS identity and its new coverage class need to be signalled so the network
can update the coverage class for the MS.
The base station schedules RACH resources for each coverage class via DCIs and
system information. When the MS performs RACH the base station determines from
the physical RACH resource allocation used by the MS its coverage class.
The MS identity is passed to the base station in the first uplink transmission
when using the RACH with Random Number procedure and the base station can
identify the MS from the C-RNTI value used in the RACH with C-RNTI procedure.
##### 7.1.5.3.4 Coverage class adaptation
When the MS detects that its coverage class is improving or deteriorating the
updated coverage class can be signalled to the base station. Frequent
signalling of coverage class changes, which could happen in mobility
situations, can cause additional MS power consumption and signalling load to
the base station and core network. Therefore, the signalling of the coverage
class change should be minimized.
When a MS is in Idle Mode it wakes periodically to receive paging. The MS can
use this wake time to determine whether its coverage class has changed and
signal changes to the network before its paging occasion. The MS does not need
to wake between paging occasions only to check whether its coverage class has
changed and signal any changes to the network.
While in Connected Mode a MS periodically decodes DCIs at the current coverage
class to determine if there is scheduling information addressed to it and will
typically use the following method to determine whether there has been any
change in coverage class:
1> if the DCI decoding is successful:
2> if the DCI is addressed to the MS:
3> start data transmission process.
2> else
3> continue the DCI decoding.
1> else
2> if a certain failure criterion is met (e.g. the number of DCI decoding
failures reaches a threshold):
3> if the coverage class already corresponds to the highest index
4> the MS enters the cell (re)selection procedure
3> else
4> the MS adapts to a more suitable coverage class and proceeds with the DCI
decoding at the new coverage class
2> else
3> continue the DCI decoding.
An illustration of the coverage class adaptation in the connected mode is
shown in Figure 7.1.5.3-2.
Figure 7.1.5.3-2: Diagram of coverage class adaptation
##### 7.1.5.3.5. Load balancing among coverage classes
Load balancing mechanisms among coverage classes may be employed, examples of
which include: reconfiguring channels associated with coverage classes, MS
utilizes channels corresponding to under-populated coverage classes, etc.
#### 7.1.5.4 Radio Resource Control (S1-based architecture only)
##### 7.1.5.4.1 General
RRC is responsible for the control of the RRC connection and the transport of
the NAS signalling.
NOTE: The signalling between the base station and the MME shown in subclause
7.1.5.4 is informative, the goal is to illustrate the context in which the RRC
procedures are used and may not show the full sequences.
##### 7.1.5.4.2 RRC states and state transitions
A MS is in RRC_CONNECTED when an RRC connection has been established. If there
is no RRC connection, the MS is in RRC_IDLE state.
Figure 7.1.5.4-1: RRC state transition diagram
##### 7.1.5.4.3 Radio bearers
One signalling radio bearer (SRB) is defined to carry the RRC signalling and
NAS signalling over DCCH. Once security is activated, all RRC messages are
integrity protected and ciphered.
One data radio bearer (DRB) is defined to carry the user plane data over DTCH.
The data radio bearer can only be setup after security is started.
##### 7.1.5.4.4 RRC procedures
##### 7.1.5.4.4.1 RRC connection establishment {#rrc-connection-establishment
.H6}
The purpose of this procedure is to establish the RRC radio connection and
involves the establishment of the signalling radio bearer (SRB). The procedure
is also used to transfer the initial NAS dedicated message from the MS to the
base station and triggers the setup of the S1 connection.
The establishment of the radio connection is performed at the MAC layer. After
the MAC sub-layer reports successful establishment, RRC sets up the signalling
radio bearer (SRB) and transmits the NAS message in RRC Connection Setup
Complete message.
Figure 7.1.5.4-2: RRC connection establishment
##### 7.1.5.4.4.2 Security activation {#security-activation .H6}
The purpose of this procedure is to activate Access Stratum security
(integrity protection (SRB) and ciphering (SRB, DRB)) upon RRC connection
establishment.
The procedure is initiated after the SRB is established and prior to the DRB
establishment.
Figure 7.1.5.4-3: Security activation
##### 7.1.5.4.4.3 RRC connection reconfiguration {#rrc-connection-
reconfiguration .H6}
The purpose of this procedure is to modify an RRC connection, e.g. to set up a
data radio bearer or configure MS specific parameters. As part of the
procedure, NAS dedicated information may be transferred from the base station
to the MS.
The base station initiates the procedure after security has been established.
Figure 7.1.5.4-4: RRC connection reconfiguration
##### 7.1.5.4.4.4 RRC connection release {#rrc-connection-release .H6}
The purpose of the procedure is to release the RRC connection, which includes
the release of the established radio bearers and all radio resources.
The release of the radio connection is performed at the MAC layer, which
notifies RRC. RRC releases all radio resources and notifies the upper layers.
The MS enters RRC_IDLE mode.
##### 7.1.5.4.4.5 DL Data Information transfer {#dl-data-information-transfer
.H6}
The purpose of this procedure is to transport NAS signalling and SMS from the
base station to the MS.
Figure 7.1.5.4-5: DL information transfer
##### 7.1.5.4.4.6 UL Data Information transfer {#ul-data-information-transfer
.H6}
The purpose of this procedure is to transport NAS signalling and SMS from the
MS to the base station.
Figure 7.1.5.4-6: UL information transfer
### 7.1.6 Summary of the radio protocol structure for Gb and S1 architectures
#### 7.1.6.1 Radio protocol structure for Gb architecture
The Gb architecture is connection-less and the user plane is terminated in the
Non Access Stratum.
The figure below illustrates the radio protocol structure in the Gb based
architecture.
Figure 7.1.6-1: Radio protocol structure in Gb architecture
The radio layer consists in the MAC sub-layer, which handles both link layer
and radio resource management functions. These functions are described
respectively in subclause 7.1.4 and subclauses 7.1.5.1, 7.1.5.2 and 7.1.5.3.
#### 7.1.6.2 Radio protocol structure for S1 architecture
The S1 architecture is connection-oriented. The user plane and the control
plane are terminated in the Access Stratum.
The figure below illustrates the radio protocol structure in the S1
architecture.
Figure 7.1.6-2: Radio protocol structure in S1 architecture
In the S1 based architecture, the radio protocol structure is split between
user plane and control plane.
Layer 2 consists in the Medium Access Control (MAC) sub-layer and the Packet
Data Convergence Protocol (PDCP) sub-layer. The MAC sub-layer provides the
link layer functions, the PDCP sub-layer provides header compression (user
plane only) and security functions. Layer 2 applies to both user plane and
control plane.
In the control plane, the Radio Resource Control (RRC) sub-layer terminates
the layer 3 dedicated signalling between the MS and the base station and
handles the functions related to the control of the RRC connection as well as
the transport of the NAS signalling. The MAC sub-layer terminates the common
control channels and handles the functions related to the radio connection.
The MAC sub-layer is described in subclause 7.1.4 and subclauses 7.1.5.1,
7.1.5.2 and 7.1.5.3.
The RRC sub-layer is described in subclause 7.1.5.4.
The PDCP sub-layer is a simplified version of the protocol specified in
E-UTRAN in TS 36.323 [18]. The following PDCP procedures are supported: UL
data transfer, DL data transfer, PDCP Discard, Header compression and
decompression, Ciphering and deciphering, Integrity protection and
verification procedures.
### 7.1.7 Concept evaluation
#### 7.1.7.1 Coverage evaluation
##### 7.1.7.1.1 Network synchronization
The network synchronization procedure consists of cell search and frame index
acquisition. The cell search procedure is described in subclause 7.1.2.2.1,
and is implemented based on the PSS and SSS sequences which are defined in
subclause 7.1.2.1.2.4 and subclause 7.1.2.1.2.5. The frame index acquisition
is implemented based on the FIIS sequence which is defined in subclause
7.1.2.1.2.6. The network synchronization performance is evaluated according to
the methodology specified in subclause 5.3.4 and the simulation assumptions in
Annex C.
##### 7.1.7.1.1.1 Simulation settings {#simulation-settings .H6}
Two typical scenarios are evaluated by simulations: single-cell scenario and
multi-cell scenario. In the single-cell scenario, only one active cell can
potentially become the serving cell whereas in the multi-cell scenario, two or
three active cells which are adjacent to each other are assumed and each cell
is a candidate to be the serving cell.
Both the inter-cell co-channel interference and the intra-cell adjacent
channel interference are considered in the multi-cell scenario. Only intra-
cell adjacent channel interference is included in the simulation for the
single-cell scenario.
In the multi-cell scenario, the MS is located exactly at the intersection of
three cells which approximates the worst case, with the assumption that the
downlink transmit power and the large-scale fading are the same for all cells.
However, different small-scale channels are applied to the signals from the
different cells. For simplification, no wrap-around interference is
considered. Three levels of coverage enhancement are simulated, corresponding
to coupling loss values of 164 dB, 154 dB and 144 dB.
The detailed simulation parameters are shown in Table 7.1.7.1-1.
Table 7.1.7.1-1: Simulation parameters
* * *
Parameter Value
Symbol rate 12 k symbol/s
Relative Rx delay between neighbouring cells Randomly chosen from 0 to 1 frame
durations (80ms) with granularity of 1/16 Tb
Sampling rate 192 kHz
Timing drift In accordance with initial carrier frequency offset for initial
cell search
Interference Interfering cells have the same Tx power as the serving cell
Antenna configuration 1T1R
MS initial carrier frequency offset +/-20 ppm for initial cell search;\ +/-2
ppm for cell non-initial search / re-confirmation;\ +/-0.05 ppm between
adjacent cells
* * *
##### 7.1.7.1.1.2 Initial cell search performance from Source 1 {#initial-
cell-search-performance-from-source-1 .H6}
The initial cell search procedure is used when the MS has not previously
connected to the network, or has not connected for a very long period (longer
than a typical DRX cycle) and therefore has no useful prior information of
frequency error between the network and the device.
The simulation results for the detection performance for the three different
coupling loss values are shown in the three plots in Figure 7.1.7.1-1. A
successful detection is defined by the correlation exceeding a threshold which
satisfies 1% false alarm probability. An incremental method is used whereby
the detection process can be terminated after a variable number of frames,
once the correlation threshold is exceeded. .
{width="2.316666666666667in" height="1.5694444444444444in"}It can be seen that
the single cell scenario is the limited scenario for the cell detection
performance for all levels of coverage. It can also be seen that for the
target coverage case (i.e. 164 dB coupling loss) the design can achieve a
90^th^ percentile time to successful detection of about 1.44s, or 99^th^
percentile time to successful detection of about 2.32s. In the better coverage
cases, i.e. 154 dB and 144 dB coupling loss, the design achieves a 99^th^
percentile time to successful detection of 640ms and 240ms, respectively.
(a) Coupling loss = 164dB (b) Coupling loss = 154dB (c) Coupling loss = 144dB
Figure 7.1.7.1-1: Performance of signal detection for initial cell search
In Table 7.1.7.1-2 and Table 7.1.7.1-3, the symbol timing estimation
performance is shown for the 164 dB, 154 dB and 144 dB coupling losses. The
timing error result from each simulation is derived based on the number of
frames that are required to meet the detection threshold for that simulation.
It can be seen that the probabilities of the residual timing error being
within the range of [-1/8 symbol, 1/8 symbol] are all larger than 97% for the
three levels of coverage extension. If the requirement for the residual timing
error is relaxed to [-1/4 symbol, 1/4 symbol], then the confidence would be
further increased.
Table 7.1.7.1-2: Confidence of residual timing error for initial network
synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164
98.97% 100% 154 99.64% 100% 144 99.00% 99.00%
* * *
Table 7.1.7.1-3: Confidence of residual timing error for initial network
synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164
97.13% 100% 154 99.75% 100% 144 100% 100%
* * *
The simulation results in Table 7.1.7.1-4 and Table 7.1.7.1-5 show the precise
CFO estimation performance using SSS, following the initial coarse CFO
estimation using PSS. It can be seen that CFO estimation error can be reduced
to less than 45Hz based on a single-frame SSS correlation operation, even for
the 164 dB coupling loss case.
Table 7.1.7.1-4: Confidence of residual carrier frequency offset for initial
network synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 100% 86.00% 154
100% 89.97% 144 100% 90.30%
* * *
Table 7.1.7.1-5: Confidence of residual carrier frequency offset for initial
network synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 100% 84.70% 154
100% 90.03% 144 100% 88.53%
* * *
##### 7.1.7.1.1.3 Initial cell search performance from Source 2 {#initial-
cell-search-performance-from-source-2 .H6}
{width="2.0868055555555554in" height="1.6583333333333334in"}The overall CDF
curves of the detection time are presented in Figure 7.1.7.1-2. It can be
observed that single cell is the limiting scenario that constrains the
performance of the initial cell search performance. As can be seen from the
plots, for 20 dB coverage extension 99.6 % detection probability can be
achieved when the maximum number of frames set in the simulation is reached,
and for the other two cases 100% detection can be achieved.
(a) Coupling loss = 164dB (b) Coupling loss = 154dB (c) Coupling loss = 144dB
Figure 7.1.7.1-2: Performance of signal detection for initial cell search
In order to improve the timing error performance caused by sampling time
drift, a fine timing estimation procedure is performed during the frame number
detection process. This improves the timing estimation performance
considerably, and the timing error estimation evaluation is shown in Table
7.1.7.1-6 and Table 7.1.7.1-7 respectively for single-cell scenario and multi-
cell scenario.
Table 7.1.7.1-6: Confidence of residual timing error for initial network
synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164
95.41 % 99.29 % 154 99.41 % 99.92 % 144 99.69 % 99.95 %
* * *
Table 7.1.7.1-7: Confidence of residual timing error for initial network
synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164
95.66 % 99.91 % 154 99.17 % 99.91 % 144 99.41 % 99.95 %
* * *
The CFO estimation performance is shown in Table 7.1.7.1-8 and Table
7.1.7.1-9.
Table 7.1.7.1-8: Confidence of residual carrier frequency offset for initial
network synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 100 % 99.97 % 154
100 % 100 % 144 100 % 99.98 %
* * *
Table 7.1.7.1-9: Confidence of residual carrier frequency offset for initial
network synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 100 % 99.87 % 154
100 % 99.94 % 144 100 % 99.94 %
* * *
##### 7.1.7.1.1.4 Cell non-initial search / re-confirmation performance from
Source 1 {#cell-non-initial-search-re-confirmation-performance-from-source-1
.H6}
The cell non-initial search / re-confirmation procedure is typically used to
rebuild the connection or upon wake-up after a long DRX where the MS loses its
time synchronization and/or frequency synchronization. In this case, the MS
can reasonably assume a reduced CFO capture range relative to previous
receptions (+/-2ppm is assumed in the following simulations, which is based
upon an estimate of the potential change in TCXO reference frequency over a
long DRX).
The adjacent channel interference is not taken into account. The adjacent
channel interference is unlikely to have a significant impact on the non-
initial cell search performance due to the much smaller frequency offset (i.e.
+/-2ppm) and the single carrier modulation used for PBSCH. The single-cell
scenario (i.e. the noise-only scenario without ACI) and the multi-cell
scenario are evaluated.
In Table 7.1.7.1-10 and Table 7.1.7.1-11, the time synchronization performance
is shown. It can be seen that the timing error is less than 1/8^th^ symbol in
more than 95% of cases for the target 164 dB coupling loss. For the other
coverage cases, the same level of symbol timing error can be achieved with
higher probability.
Table 7.1.7.1-10: Confidence of residual timing error for non-initial network
synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164
97.57% 99.80% 154 99.72% 100% 144 99.19% 99.33%
* * *
Table 7.1.7.1-11: Confidence of residual timing error for non-initial network
synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164
95.08% 98.82% 154 96.01% 97.93% 144 96.90% 98.54%
* * *
{width="2.2805555555555554in" height="1.575in"}The latency performance for the
cell non-initial search / re-confirmation procedure in the PSS phase is shown
in Figure 7.1.7.1-3 for the three coupling losses. It can be seen that the
time required is reduced compared to the initial cell search, due to the
reduced CFO capture range.
(a) Coupling loss = 164dB (b) Coupling loss = 154dB (c) Coupling loss = 144dB
Figure 7.1.7.1-3: PSS detection latency for cell non-initial search
The precise CFO estimation performance based on SSS for the cell non-initial
search / re-confirmation is shown in Table 7.1.7.1-12 and Table 7.1.7.1-13. It
can be seen that the CFO estimation error can be reduced to less than 45Hz
using a single SSS frame with greater than 98% probability, even for the
target 164 dB coupling loss.
Table 7.1.7.1-12: Confidence of residual carrier frequency offset for non-
initial network synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 98.56% 88.28% 154
99.89% 88.98% 144 100% 89.39%
* * *
Table 7.1.7.1-13: Confidence of residual carrier frequency offset for non-
initial network synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 98.86% 87.67% 154
99.62% 87.58% 144 99.54% 87.76%
* * *
##### 7.1.7.1.1.5 Cell non-initial search / re-confirmation performance from
Source 2 {#cell-non-initial-search-re-confirmation-performance-from-source-2
.H6}
{width="2.2in" height="1.7291666666666667in"}The overall CDF curves of the
detection time are presented in Figure 7.1.7.1-4. From the figures, we can
observe, even in the worst case, i.e. with two interferers, in more than 99%
of the cases, an MS can detect the cell it was connected.
(a) Coupling loss = 164dB (b) Coupling loss = 154dB (c) Coupling loss = 144dB
Figure 7.1.7.1-4: CDF of the time required for non-initial signal detection
The corresponding CDFs of the residual timing error are shown in Table
7.1.7.1-14 and Table 7.1.7.1-15. The performance of frequency offset
estimation is provided in Table 7.1.7.1-16 and Table 7.1.7.1-17 for the three
different coupling loss values. The realizations for which there was no
detection are excluded. Both the frequency offset estimation error as well as
the timing estimation error is within 45 Hz and 1/8^th^ of a symbol for most
of the realizations.
Table 7.1.7.1-14: Confidence of residual timing error for non-initial network
synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164
89.03 % 100 % 154 98.59 % 100 % 144 99.67 % 100 %
* * *
Table 7.1.7.1-15: Confidence of residual timing error for non-initial network
synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164
87.58 % 100 % 154 93.94 % 100 % 144 94.67 % 100 %
* * *
Table 7.1.7.1-16: Confidence of residual carrier frequency offset for non-
initial network synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 100 % 100 % 154 100
% 100 % 144 100 % 100 %
* * *
Table 7.1.7.1-17: Confidence of residual carrier frequency offset for non-
initial network synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 100 % 100 % 154 100
% 100 % 144 100 % 100 %
* * *
##### 7.1.7.1.1.6 FIIS detection performance from Source 1 {#fiis-detection-
performance-from-source-1 .H6}
Independent simulation is performed for FIIS from cell search. ±1/8 symbol
residual time offset and ±45 Hz residual frequency offset from cell search are
assumed in the simulation. The error probability versus SNR performance of
single-frame FIIS detection is illustrated in Figure 7.1.7.1-5. It can be seen
that in high SNR environments (e.g. 6.4 dB SNR and 16.4 dB SNR, corresponding
to 154 dB and 144 dB coupling losses, respectively), the FIIS can be correctly
detected in a single frame with greater than 99% confidence in the noise-only
scenario.
{width="2.7916666666666665in" height="1.9479166666666667in"}
Figure 7.1.7.1-5: Performance of FIIS detection using a single frame
In Figure 7.1.7.1-6, the frame index acquisition performance utilizing two-
frame and three-frame joint decision algorithms is shown, at the SNR
corresponding to 164 dB, 154 dB and 144 dB coupling loss. It can be seen that
as more frames are used in making a decision, the probability of correct frame
index acquisition increases significantly. In the noise-only scenario, FIIS
can be correctly detected in three frames with greater than 95% confidence for
164 dB coupling loss case. To achieve the same level of confidence, about five
frames are needed when there are two interferers. It can be also seen that
over three frames, the FIIS can be correctly detected with greater than 95%
confidence by applying the 2-frame joint decision algorithm for 155 dB and 144
dB coupling loss cases.
{width="2.540277777777778in" height="1.729861111111111in"}(a) Coupling loss =
164dB (b) Coupling loss = 154dB (c) Coupling loss = 144dB
Figure 7.1.7.1-6: FIIS performance for different coupling loss
##### 7.1.7.1.1.7 Latency performance for network synchronization {#latency-
performance-for-network-synchronization .H6}
Table 7.1.7.1-18 and Table 7.1.7.1-19 show the average network synchronization
latency for initial cell search in the single-cell scenario and multi-cell
scenario, respectively. The calculation of the total latency shown in the
final column of each table includes an adjustment by 0.08 secs which allows
for the FIIS detection starting in the same 80ms frame as the final frame used
for cell search, since the PSS/SSS precedes the FIIS in each frame. It is
noted that independent simulations are performed for cell search and FIIS
detection from Source 1 based on pessimistic assumptions whereas joint
simulation is carried out by Source 2.
Table 7.1.7.1-18: Latency for initial network synchronization in the single-
cell scenario
* * *
Coupling loss Source 1 Source 2
                  Average time for cell search T1   Time for FIIS detection\      Total time\   Total time at 50^th^ percentile   Total time at 90^th^ percentile   Total time at 99^th^ percentile
                                                    (\99 % 154 100
% 100 % 144 100 % 100 %
* * *
Table 7.1.7.1-23: Confidence of residual carrier frequency offset for initial
network synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 100 % >99 % 154 100
% >99 % 144 100 % >99 %
* * *
Table 7.1.7.1-24: Confidence of residual timing error for initial network
synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164 95
% >99 % 154 >99 % >99 % 144 >99 % >99 %
* * *
Table 7.1.7.1-25: Confidence of residual timing error for initial network
synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164 97
% >99 % 154 >99 % >99 % 144 >99 % >99 %
* * *
##### 7.1.7.1.2.3 Cell non-initial search performance {#cell-non-initial-
search-performance .H6}
The non-initial search or cell reconfirmation procedures are used when the
mobile station has already synchronized to a particular cell but lose the time
and frequency synchronization after waking up from sleep. The same simulation
assumptions are assumed as subclause 7.1.7.1.1.4. The detailed CDF curves of
time required for signal detection at different coupling loss values are
presented in Figure 7.1.7.1-8.
The CFO estimation performance and timing estimation error performance are
summarized in Tables 7.1.7.1-26 to 7.1.7.1-29. The CFO estimation errors for
all cases are within 45 Hz. It can be seen that the probabilities of the
residual timing error being within the range of [-1/8 symbol, 1/8 symbol] are
all higher than 93% for almost all the cases, except for the single-cell
scenario at a coupling loss of 164 dB, where 85% is achieved. If the
requirement for the residual timing error is relaxed to [-1/4 symbol, 1/4
symbol], then the confidence would be further increased.
+----------------------+----------------------+----------------------+ | {width="2 | | .0729166666666665in" | .0208333333333335in" | .0520833333333335in" | | height="1. | height="1.5625in"} | height="1. | | 5520833333333333in"} | | 5416666666666667in"} | | | (b) Coupling loss | | | (a) Coupling loss | = 154dB | (c) Coupling loss | | = 164dB | | = 144dB | +----------------------+----------------------+----------------------+
Figure 7.1.7.1-8: CDF of the time required for signal detection for non-
initial search
Table 7.1.7.1-26: Confidence of residual carrier frequency offset for non-
initial network synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 100 % >99 % 154 100
% 100 % 144 100 % 100 %
* * *
Table 7.1.7.1-27: Confidence of residual carrier frequency offset for non-
initial network synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-45 Hz, 45 Hz] [-22.5 Hz, 22.5 Hz] 164 100 % >99 % 154 100
% >99 % 144 100 % >99 %
* * *
Table 7.1.7.1-28: Confidence of residual timing error for non-initial network
synchronization in the single-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164 85
% 100 % 154 98 % 100 % 144 >99 % 100 %
* * *
Table 7.1.7.1-29: Confidence of residual timing error for non-initial network
synchronization in the multi-cell scenario
* * *
Coupling loss (dB) [-1/8 symbol, 1/8 symbol] [-1/4 symbol, 1/4 symbol] 164 93
% 100 % 154 >99 % 100 % 144 >99 % 100 %
* * *
7.1.7.1.2.4 Total Synchronization Time
The total synchronization time for initial cell search for a desired
percentage of the mobile stations is provided in Table 7.1.7.1-30 and Table
7.1.7.1-31, for coupling loss of 164 dB, 154 dB and 144 dB, respectively. The
three columns corresponding to a particular solution and labelled 0, 1 and 2
indicate the three scenarios, i.e. the presence of 0, 1 or 2 interferers in
the system. The synchronization times are captured in one simulation for the
entire synchronization procedure, which corresponds to the equivalent of
acquisition of FCCH+SCH for GSM. From the results we can see that the
alternative cell search design enables faster synchronization at 164 dB
coupling loss with a reduction of up to 30-66% in the total synchronization
time compared to the design given in subclause 7.1.2.2.1. Similar
synchronization latency performance is observed for the 154 dB and 144 dB
coupling loss cases for initial cell search. No visible performance difference
is obtained in all three coupling loss cases by non-initial cell search which
is more often performed in the network compared to initial cell search.
Table 7.1.7.1-30: Network synchronization time for initial cell search
+-----------------------+---------------------------------------------+ | Coupling loss = 164dB | -------------------------- | | | ----- ----------------------- ------ ------ | | | Synchronization Time | | | [s] Number of interferers | | | | | | 0 1 2 | | | Total time at 50th perce | | | ntile 0.24 0.08 0.08 | | | Total time at 90th perce | | | ntile 0.72 0.4 0.32 | | | Total time at 99th perce | | | ntile 2 0.88 0.64 | | | -------------------------- | | | ----- ----------------------- ------ ------ | +-----------------------+---------------------------------------------+ | Coupling loss = 154dB | -------------------------- | | | ----- ----------------------- ------ ------ | | | Synchronization Time | | | [s] Number of interferers | | | | | | 0 1 2 | | | Total time at 50th perce | | | ntile 0.08 0.08 0.08 | | | Total time at 90th perce | | | ntile 0.08 0.08 0.08 | | | Total time at 99th perce | | | ntile 0.32 0.16 0.08 | | | -------------------------- | | | ----- ----------------------- ------ ------ | +-----------------------+---------------------------------------------+ | Coupling loss = 144dB | -------------------------- | | | ----- ----------------------- ------ ------ | | | Synchronization Time | | | [s] Number of interferers | | | | | | 0 1 2 | | | Total time at 50th perce | | | ntile 0.08 0.08 0.08 | | | Total time at 90th perce | | | ntile 0.08 0.08 0.08 | | | Total time at 99th perce | | | ntile 0.08 0.08 0.16 | | | -------------------------- | | | ----- ----------------------- ------ ------ | +-----------------------+---------------------------------------------+
Table 7.1.7.1-31: Network synchronization time for non-initial cell search
+-----------------------+---------------------------------------------+ | Coupling loss = 164dB | -------------------------- | | | ----- ----------------------- ------ ------ | | | Synchronization Time | | | [s] Number of interferers | | | | | | 0 1 2 | | | Total time at 50th perce | | | ntile 0.08 0.08 0.16 | | | Total time at 90th perce | | | ntile 0.4 0.48 0.56 | | | Total time at 99th perce | | | ntile 0.96 1.52 1.76 | | | -------------------------- | | | ----- ----------------------- ------ ------ | +-----------------------+---------------------------------------------+ | Coupling loss = 154dB | -------------------------- | | | ----- ----------------------- ------ ------ | | | Synchronization Time | | | [s] Number of interferers | | | | | | 0 1 2 | | | Total time at 50th perce | | | ntile 0.08 0.08 0.08 | | | Total time at 90th perce | | | ntile 0.08 0.24 0.32 | | | Total time at 99th perce | | | ntile 0.24 0.72 1.12 | | | -------------------------- | | | ----- ----------------------- ------ ------ | +-----------------------+---------------------------------------------+ | Coupling loss = 144dB | -------------------------- | | | ----- ----------------------- ------ ------ | | | Synchronization Time | | | [s] Number of interferers | | | | | | 0 1 2 | | | Total time at 50th perce | | | ntile 0.08 0.08 0.08 | | | Total time at 90th perce | | | ntile 0.08 0.16 0.32 | | | Total time at 99th perce | | | ntile 0.16 0.64 1.04 | | | -------------------------- | | | ----- ----------------------- ------ ------ | +-----------------------+---------------------------------------------+
##### 7.1.7.1.3 Uplink synchronization
Uplink time of arrival (ToA) is estimated by the base station receiver to
correct the timing of the uplink bursts prior to symbol demodulation.
The initial ToA estimation for a given MTC device is performed by the base
station using the pilot symbols contained in the uplink burst corresponding to
the random access request from the device. The pilot patterns for Class A and
Class B uplink transmissions are defined in subclause 7.1.2.1.1.3.
##### 7.1.7.1.3.1 Simulation settings {#simulation-settings-1 .H6}
Simulations are performed to evaluate the performance of the initial ToA
estimation as described in subclause 7.1.3.2.1.
The burst duration (for a single repetition) is 40ms which corresponds to the
required burst size for the random access request. The other simulation
assumptions are shown in Table 7.1.7.1-32.
Table 7.1.7.1-32: Simulation assumptions
+-------------------------------+------------------+ | Simulation Parameters | Values | +-------------------------------+------------------+ | Carrier (MHz) | 900 | +-------------------------------+------------------+ | Symbol rate (kHz) | 3.75 | +-------------------------------+------------------+ | Burst length | 40ms | +-------------------------------+------------------+ | Antenna | 1T2R | +-------------------------------+------------------+ | Channel model | TU | +-------------------------------+------------------+ | Residual frequency error (Hz) | ±45 | +-------------------------------+------------------+ | Frequency drift (Hz/s) | ±22.5 | +-------------------------------+------------------+ | Doppler (Hz) | 1 | +-------------------------------+------------------+ | FEC | 1/3 Turbo | +-------------------------------+------------------+ | Modulation | BPSK for Class-A | | | | | | GMSK for Class-B | +-------------------------------+------------------+
##### 7.1.7.1.3.2 Simulation results {#simulation-results-3 .H6}
Figure 7.1.7.1-9 shows the initial ToA estimation performance for Class A and
Class B uplink transmissions at -5.7dB SNR, which corresponds to the target
164 dB coupling loss for 20 dB coverage extension. MCS-1 is used for the
random access request in this simulation.
Figure 7.1.7.1-10 shows the initial ToA estimation performance at a higher SNR
for which MCS-5 is selected. The SNR is set to 0.5 dB for Class A and 1.1dB
for Class B due to the slightly different operating points of the two classes
of modulation. Note that MCS-5 is the typical MCS used for random access
requests for the coverage classes corresponding to both normal coverage and
+10dB coverage extension.
{width="5.322916666666667in" height="3.5416666666666665in"}
Figure 7.1.7.1-9: ToA performance at the SNR=-5.7dB
{width="4.989583333333333in" height="3.5416666666666665in"}
Figure 7.1.7.1-10: ToA performance at the SNR=0.5dB for Class-A, SNR=1.1dB for
Class-B
From Figure 7.1.7.1-9, it can be seen that a timing error of less than 1/8^th^
symbol (equivalent to 4 samples in the simulations, which use 32 samples per
symbol) is achieved with greater than 99% probability at an SNR of -5.7 dB,
which corresponds to 164dB coupling loss.
From Figure 7.1.7.1-10, it can be seen that a timing error of less than
1/8^th^ symbol is achieved with greater than 98% confidence at the higher SNR
associated with an MCS-5 burst, even though no repetitions are used in this
case.
##### 7.1.7.1.4 Random access request
##### 7.1.7.1.4.1 Simulation settings {#simulation-settings-2 .H6}
The link-level random access performance is evaluated according to the
methodology specified in subclause 5.3.5 and the simulation assumptions in
Annex C.
In the simulations, the thermal noise is used as the input to the receiver
noise. MCS-0 and MCS-1 are evaluated for the random access request
transmission, and both Class-A and Class-B uplink transmission classes are
considered. The code block size (CBS) is set to 40 bits (including 8 bits CRC)
which corresponds to the required burst length for the random access request.
The configurations of the bursts for random access request used in the
simulations are listed in Table 7.1.7.1-33.
Table 7.1.7.1-33: Evaluated configurations of the bursts for random access
request
* * *
Case Uplink Class Modulation Bonding factor Spreading factor Repetition factor
CBS (bits) Comments 1 Class-A π/2-BPSK 1 1 16 40 UL MCS-0 2 Class-A π/2-BPSK 1
1 8 40 UL MCS-1 3 Class-B GMSK 1 1 16 40 UL MCS-0 4 Class-B GMSK 1 1 8 40 UL
MCS-1
* * *
##### 7.1.7.1.4.2 Simulation results {#simulation-results-4 .H6}
The simulation results are shown in Table 7.1.7.1-34 in terms of false
detection rate. It can be seen that the false detection rate for the random
access request in the NB M2M system is very low in all the simulation cases:
for all the 4 cases there are no false detections within 1000000 realizations
Table 7.1.7.1-34: False detection rate of random access request
* * *
Case 1 2 3 4 False detection rate Smaller than 0.001% Smaller than 0.001%
Smaller than 0.001% Smaller than 0.001%
* * *
##### 7.1.7.1.5 Data and control channels
##### 7.1.7.1.5.1 Assumptions {#assumptions-2 .H6}
Coverage performance is derived for UL-SCH (for both Class-A and Class-B
modulations), DL-SCH, PCH, DCI, BCH and E-BCH according to the coverage
improvement evaluation methodology described in subclause 5.1 and the common
simulation assumptions described in Annex C.
Some candidate solution specific simulation assumptions are listed in Table
7.1.7.1-35.
The target BLER for both control and data channels is 10%, in accordance with
the similar assumption used for deriving the reference MCL of 144 dB for
legacy GPRS. The data rate for UL-SCH and DL-SCH is calculated at this target
BLER.
Table 7.1.7.1-35: Simulation assumptions for coverage performance evaluation
* * *
Parameter Value Comments Channel model TU 1Hz, TU 25Hz  
Timing error ±1/8 symbol Randomly chosen from two values: +1/8 symbol and -1/8
symbol. Downlink frequency error ±45 Hz. For BCH, E-BCH, DCI, and DL-SCH.
Uplink frequency error See the frequency error model in Table C.1 and the
frequency error parameters in the following rows. For UL-SCH. F_est_error ±45
Hz For UL-SCH. T_inactive 40 ms For UL-SCH.
* * *
The burst configurations for each channel are listed in Table 7.1.7.1-36.
Table 7.1.7.1-36: Burst configurations for MCL calculations
+---------+---------+---------+---------+---------+---------+---------+ | **Ch |** Burst | **Modul |** SF x | **Burst |** Block | **Com | | annel** | size at | ation**| RF** | length | du | ments**| | | the SAP | | | (ms)** | ration\ | | | | to the | | | | (ms)**| | | | SNDCP** | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | UL-SCH, | 85 | π | 1x3 | 840 | 2520 | UL | | Class-A | bytes | /2-BPSK | | | | MCS-3 | | | | | | | | | | | (Note | | | | | | | | 1) | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | UL-SCH, | 85 | GMSK | 1x3 | 920 | 2760 | UL | | Class-B | bytes | | | | | MCS-3 | | | | | | | | | | | (Note | | | | | | | | 1) | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | DCI | / | π | 4x2 | 60 | 120 | DL | | | | /2-BPSK | | | | MCS-2 | +---------+---------+---------+---------+---------+---------+---------+ | DL-SCH, | 265 | π | 4x2 | 1920 | 3840 | DL | | PCH | bytes | /2-BPSK | | | | MCS-2 | | | | | | | | | | | (Note | | | | | | | | 2) | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | BCH | / | π/ | 8x2 | 80 | 1280 | | | | | 2-DBPSK | | | | | | | | | | (Note | (Note | | | | | | | 3) | 4) | | +---------+---------+---------+---------+---------+---------+---------+ | E-BCH | / | π/ | 8x2 | 640 | 1280 | | | | | 2-DBPSK | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Note 1: | | | | | | | | The | | | | | | | | UL-SCH | | | | | | | | burst | | | | | | | | size | | | | | | | | corr | | | | | | | | esponds | | | | | | | | to an | | | | | | | | 85 byte | | | | | | | | ex | | | | | | | | ception | | | | | | | | report | | | | | | | | (20 | | | | | | | | byte | | | | | | | | uplink | | | | | | | | appl | | | | | | | | ication | | | | | | | | payload | | | | | | | | as | | | | | | | | defined | | | | | | | | in | | | | | | | | Annex | | | | | | | | E2.1 | | | | | | | | and 65 | | | | | | | | bytes | | | | | | | | for the | | | | | | | | higher | | | | | | | | layer | | | | | | | | headers | | | | | | | | a | | | | | | | | ssuming | | | | | | | | no IP | | | | | | | | header | | | | | | | | compre | | | | | | | | ssion). | | | | | | | | | | | | | | | | Note 2: | | | | | | | | The | | | | | | | | DL-SCH | | | | | | | | burst | | | | | | | | size | | | | | | | | corr | | | | | | | | esponds | | | | | | | | to a | | | | | | | | 265 | | | | | | | | byte | | | | | | | | s | | | | | | | | oftware | | | | | | | | update | | | | | | | | (200 | | | | | | | | byte | | | | | | | | d | | | | | | | | ownlink | | | | | | | | appl | | | | | | | | ication | | | | | | | | payload | | | | | | | | as | | | | | | | | defined | | | | | | | | in | | | | | | | | Annex | | | | | | | | E2.4 | | | | | | | | and 65 | | | | | | | | bytes | | | | | | | | for the | | | | | | | | higher | | | | | | | | layer | | | | | | | | headers | | | | | | | | a | | | | | | | | ssuming | | | | | | | | no IP | | | | | | | | header | | | | | | | | compre | | | | | | | | ssion). | | | | | | | | | | | | | | | | Note 3: | | | | | | | | PSS, | | | | | | | | SSS, | | | | | | | | FIIS | | | | | | | | and BCH | | | | | | | | are all | | | | | | | | carried | | | | | | | | by | | | | | | | | PBSCH | | | | | | | | bursts, | | | | | | | | where | | | | | | | | for BCH | | | | | | | | the | | | | | | | | mo | | | | | | | | dulated | | | | | | | | symbols | | | | | | | | are | | | | | | | | succe | | | | | | | | ssively | | | | | | | | mapped | | | | | | | | to | | | | | | | | eight | | | | | | | | cons | | | | | | | | ecutive | | | | | | | | bursts | | | | | | | | (see | | | | | | | | su | | | | | | | | bclause | | | | | | | | 7.1. | | | | | | | | 2.1.2.7 | | | | | | | | for | | | | | | | | more | | | | | | | | de | | | | | | | | tails). | | | | | | | | | | | | | | | | Note 4: | | | | | | | | 1280 = | | | | | | | | 80 | | | | | | | | (d | | | | | | | | uration | | | | | | | | of | | | | | | | | frame | | | | | | | | in ms) | | | | | | | | * 8 | | | | | | | | (number | | | | | | | | of | | | | | | | | frames | | | | | | | | for | | | | | | | | BCH) * | | | | | | | | 2 | | | | | | | | (rep | | | | | | | | etition | | | | | | | | f | | | | | | | | actor). | | | | | | | +---------+---------+---------+---------+---------+---------+---------+
##### 7.1.7.1.5.2 Results {#results-5 .H6}
The MCL calculation for each channel is summarized in Table 7.1.7.1-37. It can
be seen that all channels provide an MCL of at least 164 dB, and so a coverage
extension of 20 dB is achieved relative to legacy GPRS which has an MCL of 144
dB. Furthermore, all data channels comfortably achieve the required throughput
of 160 bps at the top of the (equivalent of) SNDCP layer.
Table 7.1.7.1-37: MCL calculations for NB M2M channels, TU 1Hz
+---------+---------+---------+--------+---------+--------+--------+ | | PUSCH, | PUSCH, | PDSCH | PBSCH | EPBCH | | | | Class-A | Class-B | | | | | +---------+---------+---------+--------+---------+--------+--------+ | | UL-SCH | UL-SCH | DCI | DL-SCH, | BCH | E-BCH | | | | | | PCH | | | +---------+---------+---------+--------+---------+--------+--------+ | Tran | | | | | | | | smitter | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (1) | 23 | 23 | 32.2 | 32.2 | 32.2 | 32.2 | | Total | | | | | | | | Tx | | | | | | | | power | | | | | | | | (dBm) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | R | | | | | | | | eceiver | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (2) | -174 | -174 | -174 | -174 | -174 | -174 | | Thermal | | | | | | | | noise | | | | | | | | density | | | | | | | | ( | | | | | | | | dBm/Hz) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (3) | 3 | 3 | 5 | 5 | 5 | 5 | | R | | | | | | | | eceiver | | | | | | | | noise | | | | | | | | figure | | | | | | | | (dB) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (4) | 0 | 0 | 0 | 0 | 0 | 0 | | Inter | | | | | | | | ference | | | | | | | | margin | | | | | | | | (dB) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (5) | 3750 | 3750 | 12000 | 12000 | 12000 | 12000 | | O | | | | | | | | ccupied | | | | | | | | channel | | | | | | | | ba | | | | | | | | ndwidth | | | | | | | | (Hz) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (6) | -135.3 | -135.3 | -128.2 | -128.2 | -128.2 | -128.2 | | Ef | | | | | | | | fective | | | | | | | | noise | | | | | | | | power | | | | | | | | | | | | | | | | = (2) + | | | | | | | | (3) + | | | | | | | | (4) + | | | | | | | | 10 | | | | | | | | l | | | | | | | | og((5)) | | | | | | | | (dBm) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (7) | -7 | -7 | -4.3 | -6.3 | -5.8 | -4.6 | | R | | | | | | | | equired | | | | | | | | SINR | | | | | | | | (dB) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (8) | -142.3 | -142.3 | -132.5 | -134.5 | -134.0 | -132.8 | | R | | | | | | | | eceiver | | | | | | | | sens | | | | | | | | itivity | | | | | | | | | | | | | | | | = (6) + | | | | | | | | (7) | | | | | | | | (dBm) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (9) | 0 | 0 | 0 | 0 | 0 | 0 | | Rx | | | | | | | | pro | | | | | | | | cessing | | | | | | | | gain | | | | | | | | (dB) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | Maximum | | | | | | | | c | | | | | | | | oupling | | | | | | | | loss | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (10) | 165.3 | 165.3 | 164.7 | 166.7 | 166.2 | 165 | | MCL = | | | | | | | | (1) -- | | | | | | | | (8) + | | | | | | | | (9) | | | | | | | | (dB) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | Data | 269.8 | 246.4 | / | 522.1 | / | / | | rate at | | | | | | | | the SAP | | | | | | | | to the | | | | | | | | SNDCP | | | | | | | | (bps) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | Note 1: | | | | | | | | The | | | | | | | | d | | | | | | | | ownlink | | | | | | | | TX | | | | | | | | power | | | | | | | | of | | | | | | | | +32.2 | | | | | | | | dBm is | | | | | | | | derived | | | | | | | | by | | | | | | | | equally | | | | | | | | sp | | | | | | | | litting | | | | | | | | +43 dBm | | | | | | | | between | | | | | | | | the 12 | | | | | | | | NB M2M | | | | | | | | d | | | | | | | | ownlink | | | | | | | | p | | | | | | | | hysical | | | | | | | | ch | | | | | | | | annels, | | | | | | | | in | | | | | | | | order | | | | | | | | to | | | | | | | | m | | | | | | | | aintain | | | | | | | | a | | | | | | | | uniform | | | | | | | | PSD. | | | | | | | | The | | | | | | | | refore, | | | | | | | | this | | | | | | | | a | | | | | | | | nalysis | | | | | | | | does | | | | | | | | not | | | | | | | | allow | | | | | | | | for any | | | | | | | | benefit | | | | | | | | arising | | | | | | | | from | | | | | | | | inc | | | | | | | | reasing | | | | | | | | the PSD | | | | | | | | of | | | | | | | | s | | | | | | | | elected | | | | | | | | d | | | | | | | | ownlink | | | | | | | | ch | | | | | | | | annels. | | | | | | | | | | | | | | | | Note 2: | | | | | | | | The | | | | | | | | uplink | | | | | | | | TX | | | | | | | | power | | | | | | | | of +23 | | | | | | | | dBm is | | | | | | | | con | | | | | | | | sidered | | | | | | | | to be | | | | | | | | more | | | | | | | | appr | | | | | | | | opriate | | | | | | | | for | | | | | | | | most | | | | | | | | low | | | | | | | | cost | | | | | | | | MSs | | | | | | | | than | | | | | | | | the | | | | | | | | maximum | | | | | | | | allowed | | | | | | | | TX | | | | | | | | power | | | | | | | | of +33 | | | | | | | | dBm. | | | | | | | | The PA | | | | | | | | eff | | | | | | | | iciency | | | | | | | | of | | | | | | | | Class-A | | | | | | | | using | | | | | | | | +23 dBm | | | | | | | | uplink | | | | | | | | TX | | | | | | | | power | | | | | | | | is | | | | | | | | e | | | | | | | | xpected | | | | | | | | to be | | | | | | | | lower | | | | | | | | than | | | | | | | | for | | | | | | | | C | | | | | | | | lass-B, | | | | | | | | due to | | | | | | | | the | | | | | | | | non-c | | | | | | | | onstant | | | | | | | | e | | | | | | | | nvelope | | | | | | | | p | | | | | | | | roperty | | | | | | | | of the | | | | | | | | Class-A | | | | | | | | modu | | | | | | | | lation. | | | | | | | | | | | | | | | | Note 3: | | | | | | | | The Rx | | | | | | | | pro | | | | | | | | cessing | | | | | | | | gain is | | | | | | | | re | | | | | | | | flected | | | | | | | | in | | | | | | | | \"R | | | | | | | | equired | | | | | | | | SINR\" | | | | | | | | (for | | | | | | | | e | | | | | | | | xample, | | | | | | | | the | | | | | | | | r | | | | | | | | eceiver | | | | | | | | di | | | | | | | | versity | | | | | | | | gain in | | | | | | | | the | | | | | | | | u | | | | | | | | plink). | | | | | | | | | | | | | | | | Note 4: | | | | | | | | The | | | | | | | | data | | | | | | | | rates | | | | | | | | at the | | | | | | | | SAP to | | | | | | | | the | | | | | | | | SNDCP | | | | | | | | are | | | | | | | | derived | | | | | | | | for | | | | | | | | UL-SCH | | | | | | | | Class-A | | | | | | | | ac | | | | | | | | cording | | | | | | | | to | | | | | | | | 85 | | | | | | | | ×8/2.52 | | | | | | | | = 269.8 | | | | | | | | bps, | | | | | | | | and for | | | | | | | | UL-SCH | | | | | | | | Class-B | | | | | | | | ac | | | | | | | | cording | | | | | | | | to | | | | | | | | 85 | | | | | | | | ×8/2.76 | | | | | | | | = 246.4 | | | | | | | | bps, | | | | | | | | based | | | | | | | | on the | | | | | | | | ex | | | | | | | | ception | | | | | | | | report | | | | | | | | payload | | | | | | | | size of | | | | | | | | 85 | | | | | | | | bytes | | | | | | | | and the | | | | | | | | corres | | | | | | | | ponding | | | | | | | | block | | | | | | | | du | | | | | | | | rations | | | | | | | | from | | | | | | | | Table | | | | | | | | 7.1. | | | | | | | | 7.1-36. | | | | | | | | The | | | | | | | | data | | | | | | | | rate at | | | | | | | | the SAP | | | | | | | | to the | | | | | | | | SNDCP | | | | | | | | for | | | | | | | | DL-SCH | | | | | | | | is | | | | | | | | derived | | | | | | | | ac | | | | | | | | cording | | | | | | | | to | | | | | | | | 265 | | | | | | | | ×8/3.84 | | | | | | | | = 522.1 | | | | | | | | bps | | | | | | | | based | | | | | | | | on the | | | | | | | | assumed | | | | | | | | s | | | | | | | | oftware | | | | | | | | update | | | | | | | | payload | | | | | | | | size of | | | | | | | | 265 | | | | | | | | bytes | | | | | | | | and the | | | | | | | | corres | | | | | | | | ponding | | | | | | | | block | | | | | | | | d | | | | | | | | uration | | | | | | | | from | | | | | | | | Table | | | | | | | | 7.1. | | | | | | | | 7.1-36. | | | | | | | | | | | | | | | | Note 5: | | | | | | | | For | | | | | | | | PDSCH, | | | | | | | | no | | | | | | | | power | | | | | | | | re | | | | | | | | duction | | | | | | | | due to | | | | | | | | PAPR is | | | | | | | | a | | | | | | | | ssumed. | | | | | | | +---------+---------+---------+--------+---------+--------+--------+
The MCL calculation for each channel for the non-stationary scenario is
summarized in Table 7.1.7.1-38. It can be seen that all data channels
comfortably achieve the required throughput of 160 bps at the top of the
(equivalent of) SNDCP layer.
Table 7.1.7.1-38. MCL calculations for NB M2M channels, TU 25Hz
+---------+---------+---------+--------+---------+--------+--------+ | | PUSCH, | PUSCH, | PDSCH | PBSCH | EPBCH | | | | Class-A | Class-B | | | | | +---------+---------+---------+--------+---------+--------+--------+ | | UL-SCH | UL-SCH | DCI | DL-SCH, | BCH | E-BCH | | | | | | PCH | | | +---------+---------+---------+--------+---------+--------+--------+ | Tran | | | | | | | | smitter | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (1) | 23 | 23 | 32.2 | 32.2 | 32.2 | 32.2 | | Total | | | | | | | | Tx | | | | | | | | power | | | | | | | | (dBm) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | R | | | | | | | | eceiver | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (2) | -174 | -174 | -174 | -174 | -174 | -174 | | Thermal | | | | | | | | noise | | | | | | | | density | | | | | | | | ( | | | | | | | | dBm/Hz) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (3) | 3 | 3 | 5 | 5 | 5 | 5 | | R | | | | | | | | eceiver | | | | | | | | noise | | | | | | | | figure | | | | | | | | (dB) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (4) | 0 | 0 | 0 | 0 | 0 | 0 | | Inter | | | | | | | | ference | | | | | | | | margin | | | | | | | | (dB) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (5) | 3750 | 3750 | 12000 | 12000 | 12000 | 12000 | | O | | | | | | | | ccupied | | | | | | | | channel | | | | | | | | ba | | | | | | | | ndwidth | | | | | | | | (Hz) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (6) | -135.3 | -135.3 | -128.2 | -128.2 | -128.2 | -128.2 | | Ef | | | | | | | | fective | | | | | | | | noise | | | | | | | | power | | | | | | | | | | | | | | | | = (2) + | | | | | | | | (3) + | | | | | | | | (4) + | | | | | | | | 10 | | | | | | | | l | | | | | | | | og((5)) | | | | | | | | (dBm) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (7) | -7.2 | -6.3 | -3.6 | -5.4 | -4.8 | -4.7 | | R | | | | | | | | equired | | | | | | | | SINR | | | | | | | | (dB) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (8) | -142.5 | -141.6 | -131.8 | -133.6 | -133 | -132.9 | | R | | | | | | | | eceiver | | | | | | | | sens | | | | | | | | itivity | | | | | | | | | | | | | | | | = (6) + | | | | | | | | (7) | | | | | | | | (dBm) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (9) | 0 | 0 | 0 | 0 | 0 | 0 | | Rx | | | | | | | | pro | | | | | | | | cessing | | | | | | | | gain | | | | | | | | (dB) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | Maximum | | | | | | | | c | | | | | | | | oupling | | | | | | | | loss | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | (10) | 165.5 | 164.6 | 164 | 165.8 | 165.2 | 165.1 | | MCL = | | | | | | | | (1) -- | | | | | | | | (8) + | | | | | | | | (9) | | | | | | | | (dB) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+ | Data | 269.8 | 246.4 | / | 522.1 | / | / | | rate at | | | | | | | | the SAP | | | | | | | | to the | | | | | | | | SNDCP | | | | | | | | (bps) | | | | | | | +---------+---------+---------+--------+---------+--------+--------+
##### 7.1.7.1.5.3 Conclusions {#conclusions-8 .H6}
It has been shown that the target MCL of 164 dB can be met by all relevant
channels, which implies a coverage extension of 20 dB compared with legacy
GPRS. Furthermore, all data channels comfortably achieve the required
throughput of 160 bps at the top of the (equivalent of) SNDCP layer.
Therefore, the objectives of the SI in terms of coverage performance are
achieved.
Furthermore, the required coverage performance is achieved with a MS transmit
power of only +23 dBm. This MS transmit power is 10 dB lower than the maximum
MS transmit power allowed by the study item of +33 dBm, but is considered to
be more appropriate for the large majority of MSs due to the lower
instantaneous current draw from the battery.
#### 7.1.7.2 Capacity evaluation
##### 7.1.7.2.1 Capacity evaluation for MS generated user data
This subclause presents capacity evaluation results for MS generated user
data, as defined in subclause 5.2.2, based on system-level simulations.
The traffic model from Annex E and the capacity evaluation methodology from
subclause 5.2 are followed.
##### 7.1.7.2.1.1 BPL modelling {#bpl-modelling .H6}
The CDFs of the BPL for all the MSs in the simulation, after each MS has
selected its preferred cell based on minimizing the overall path plus
penetration loss, are shown in Figure 7.1.7.2-1. The BPL scenarios are defined
according to Table D.2 and Table D.3 in Annex D.
{width="3.4166666666666665in" height="2.5625in"}
Figure 7.1.7.2-1: BPL modelling results
##### 7.1.7.2.1.2 Traffic generation {#traffic-generation .H6}
The information exchange due to the initiation of a MAR periodic or NC attempt
is referred to as a \"session\" and the traffic is generated as follows.
The number of MAR periodic sessions generated per sector per day is expressed
as:
where is the number of MSs configured per sector (see Annex E.1).
The total number of network command sessions generated per sector per day is
expressed as:
The total number of sessions generated per sector during the simulation is:
where is the actual simulation time. Due to the limitation on processing
capability of the workstations running simulations, the actual simulation time
(denoted by , in seconds) is normally in the order of hundreds or thousands of
seconds.
Note that the total number of sessions generated per cell site is .
The MAR periodic traffic and network command traffic are assumed to be
uniformly distributed over time.
##### 7.1.7.2.1.3 Assumptions {#assumptions-3 .H6}
A single 200 kHz carrier is assumed to be reused in all cells. The mapping of
physical channel names to physical channel numbers is listed in Table
7.1.7.2-1 for the downlink and Table 7.1.7.2-2 for the uplink.
Table 7.1.7.2-1: Downlink physical channel allocation
* * *
Downlink physical channel name Downlink physical channel no. (DL_CHAN) PBSCH 5
EPBCH 6 PDSCH 0, 1, 2, 3, 4, 7, 8, 9, 10
* * *
> Note: Downlink physical channel number 11 is not allocated in simulations.
Table 7.1.7.2-2: Uplink physical channel allocation
* * *
Uplink physical channel name Uplink physical channel no. (UL_CHAN) PUSCH 0, 1,
2, ..., 35
* * *
A frequency reuse of 1/1 is assumed for PBSCH and EPBCH, and a frequency reuse
of 1/3 is assumed for PDSCH and PUSCH. For each sector, 9 PUSCHs are
configured for data transmission, and 3 PUSCHs are configured for random
access.
The three PDSCH channels belonging to a given sector are configured with three
different coverage classes following subclause 7.1.5.3. The DCI configuration
for each coverage class is listed in Table 7.1.7.2-3.
Table 7.1.7.2-3: DCI configuration for each coverage class
* * *
Coverage class index DCI interval (ms) DCI MCS 0 160 5 1 640 3 2 1280 2
* * *
The coverage class index is determined for each MS such that the highest
coverage class index is selected subject to the required SINR for the DCI MCS
being lower than or equal to the MS\'s average SINR which is derived
separately and used as a prior knowledge by the MS.
The power control mechanism described in subclause 7.1.3.2.2 is adopted in the
simulations.
The random access procedure described in subclause 7.1.4.5 is followed in the
simulations. The maximum allowed number of random access attempts for each MAR
periodic or NC session is set to 5, and the parameter is set to 4 DCI
intervals.
The downlink MCS is determined for each MS such that the highest downlink MCS
index is selected, subject to the required SINR being lower than or equal to
the MS\'s average downlink SINR. The same methodology is applied to the
adaptation of uplink MCSs.
The received signal strength is assumed to be known by the MS, i.e. the
measurement of the signal strength and the estimation of the coverage class
and MCS is ideal. The sensitivity of the results to measurement/estimation
errors in coverage class and MCS is not covered in the simulations.
Data transmission and retransmission described in subclause 7.1.4.6.3 are
followed.
The BS transmit power is 32.2 dBm per downlink physical channel, and the
maximum MS transmit power is 23 dBm per uplink physical channel.
No frequency hopping is applied in the simulation.
Other simulation assumptions follow Table D.1 in Annex D.
##### 7.1.7.2.1.4 Simulation cases {#simulation-cases .H6}
The definitions of eight simulation cases are shown in Table 7.1.7.2-4,
corresponding to scenarios with and without IP header compression and with
different parameters relating to building penetration loss (BPL).
To determine the maximum capacity of the system, each simulation case is run
for a number of offered loads (denoted by \"#MS per sector\").
Table 7.1.7.2-4. Definition of simulation cases
* * *
Case no. MS Modulation class IP header compression BPL scenario BPL inter-site
correlation coefficient Offered load (#MS per sector) 1 Class-B Yes Scenario 1
0.5 12857, 25714, 52547, 64285, 77142 2 Class-B No Scenario 1 0.5 12857,
25714, 52547, 64285 3 Class-B Yes Scenario 1 0.75 12857, 25714, 52547, 64285,
77142 4 Class-B No Scenario 1 0.75 12857, 25714, 52547, 64285 5 Class-B Yes
Scenario 2 0.5 12857, 25714, 52547, 64285, 77142 6 Class-B No Scenario 2 0.5
12857, 25714, 52547, 64285 7 Class-B Yes Scenario 2 0.75 12857, 25714, 52547,
64285, 77142 8 Class-B No Scenario 2 0.75 12857, 25714, 52547, 64285
* * *
Note: With IP header compression, the protocol overhead above (equivalent of)
SNDCP layer is 29 bytes. Without IP header compression, the protocol overhead
above (equivalent of) SNDCP layer is 65 bytes. See Table E.2-3 in Annex E for
more details. The header overhead of (equivalent of) SNDCP down to MAC (e.g.
SNDCP, LLC, RLC/MAC in Gb mode) layer can be estimated to be 15 bytes (4 bytes
for SNDCP + 6 bytes for LLC + 2 bytes for MAC + 3 bytes for CRC).
Suppose the total number of successful uplink reports collected from all cell
sites is , the number of simulated cell sites is , and the number of 200 kHz
carriers allocated to one cell site is . For each simulation case, the
capacity result is given by:
The value of _N~200kHz~_ is set to 1 in the following capacity results.
Considering coexistence performance in realistic deployments, _N~200kHz~_ may
need to be set to other values.
##### 7.1.7.2.1.5 Capacity results {#capacity-results .H6}
Capacity results are shown in Figure 7.1.7.2-2. The vertical red line
represents the target number of devices within a sector taken from Table E.1-1
in Annex E. The black line represents the \"ideal capacity\" (i.e. assuming
every uplink report is successfully delivered by the system), so is a straight
line through the origin with gradient determined by the parameters of the
traffic model.
Note that in the traffic model for Network Commands, as described in Annex
E2.3, \"_it is assumed that 50% of such Network Commands will require the MS
to send an application layer UL response whilst the other 50% will not
generate a response in system level simulations._ \" Hence the black line
representing ideal capacity only takes half of the NC sessions into account,
since only these NC sessions generate uplink reports (the other half of the NC
sessions are still simulated because they generate load on the system in other
respects which will indirectly impact available capacity especially at higher
loads).
{width="3.4270833333333335in" height="2.5729166666666665in"}
Figure 7.1.7.2-2: Capacity (in #reports/200 kHz/hour)
7.1.7.2.1.6 Conclusions
The following conclusions may be drawn from the capacity results in Figure
7.1.7.2-2:
\- For the target number of devices within the sector (indicated by the
vertical red line), there is no significant difference for any of the
simulation cases between the actual number of reports and the ideal number of
reports. This implies that the capacity of the system is sufficient to support
the target number of MSs per sector, even with the more challenging BPL
simulation cases.
\- Small differences between the actual number of reports and the ideal number
of reports start to appear at offered loads that are higher than the target
load.
\- The benefit provided by IP header compression is small due to the very low
number of packets that need to be fragmented at the MAC layer even without IP
header compression, and also because the system can support the target load in
both cases (a more significant benefit would be expected at higher offered
loads than the target load).
\- There are only marginal differences in capacity performance between the two
BPL inter-site correlation coefficient settings because the system can support
the target load in both cases (significant differences only start to appear at
higher offered loads than the target load).
It is important to note that these capacity results are achieved with a system
design that has been intentionally constrained in two key respects:
\- The NB M2M solution has a frequency re-use assumption that is compatible
with a stand-alone deployment in a minimum system bandwidth for the entire IoT
network of just 200 kHz (FDD), plus guard bands if needed.
The NB M2M solution uses an MS transmit power of only +23 dBm (200 mW),
resulting in a peak current requirement that is compatible with a wider range
of battery technologies, whilst still achieving the 20 dB coverage extension
objective.
##### 7.1.7.2.2 Software update/reconfiguration
##### 7.1.7.2.2.1 Simulation settings {#simulation-settings-3 .H6}
The capacity performance of software update/reconfiguration is evaluated
according to the methodology specified in subclause 5.2.3, the simulation
assumptions in Annex D, and the traffic model in Annex E.2.4. The other
simulation assumptions are shown in Table 7.1.7.2-5.
Table 7.1.7.2-5: Simulation assumptions
* * *
Parameter Assumption Cellular Layout Hexagonal grid, 19 cell sites, 3 sectors
per site with wrap-around MS number per cell sector 52574 MS speed 0 km/h BS
transmit power per 200 kHz (at the antenna connector) 43 dBm (i.e. 32.2 dBm
per downlink physical channel) MS Tx power (at the antenna connector) Max. 23
dBm per uplink physical channel with open loop power control
* * *
In the simulations, the resource utilization _Rd_ and _Ru_ are used as
performance metrics, expressed as the proportion of total available resource
that is utilized to support software update/reconfiguration on downlink and
uplink.
Resource utilization for the downlink _Rd_ can be expressed as:
$\text{Rd} = \frac{\sum_{i = 1}^{N_{d}}{\text{bd}_{i} \times
\text{td}_{i}}}{T\text{sim}\text{Bw}}$,
where _Bw_ is the system bandwidth in kHz, _T~sim\ ~_ is the actual simulation
in seconds, _N~d~_ is the number of downlink channels, and _bd~i~_ and _td~i~_
are the bandwidth and accumulated time that are utilized for software
update/reconfiguration on downlink channel _i_.
Similarly, resource utilization for the uplink _Ru_ can be expressed as:
where _N~u~_ is the number of uplink channels, and _bu~j~_ and _tu~j~_ are the
bandwidth and accumulated time that are utilized for software
update/reconfiguration on uplink channel _j_.
##### 7.1.7.2.2.2 Simulation results {#simulation-results-5 .H6}
The simulation results are shown in Table 7.1.7.2-6 and Table 7.1.7.2-7 in
terms of resource utilization for downlink and uplink, respectively. The
simulation results show that the resource occupied by the software
update/reconfiguration in the NB M2M system has only a very slight impact on
the system loading for both downlink and uplink: in the worst case simulation
scenario, software update/reconfiguration only consumes 0.05% of downlink
available resources and less than 0.01% of uplink available resources.
Table 7.1.7.2-6: Downlink resource utilization for software
update/reconfiguration
* * *
Rd BPL scenario 1 BPL scenario 2  
BPL coefficient 0.5 BPL coefficient 0.75 BPL coefficient 0.5 BPL coefficient
0.75 w/ IP HC 0.048% 0.044% 0.050% 0.046% w/o IP HC 0.050% 0.046% 0.053%
0.049%
* * *
Table 7.1.7.2-7: Uplink resource utilization for software
update/reconfiguration
* * *
Ru BPL scenario 1 BPL scenario 2  
BPL coefficient 0.5 BPL coefficient 0.75 BPL coefficient 0.5 BPL coefficient
0.75 w/ IP HC 0.0036% 0.0042% 0.0044% 0.0052% w/o IP HC 0.0064% 0.0074%
0.0078% 0.0094%
* * *
##### 7.1.7.2.2.3 Conclusions {#conclusions-9 .H6}
The simulation results show that the traffic due to software
update/reconfiguration has only a very slight impact on the NB M2M system
loading: in the worst case simulation scenario, software
update/reconfiguration only consumes 0.05% of downlink available resources and
less than 0.01% of uplink available resources.
#### 7.1.7.3 Latency evaluation
##### 7.1.7.3.1 Analytical MAR exception uplink reports
This subclause provides an analytical calculation of latency for MAR exception
uplink reports using the methodology described in subclause 5.3., based on the
Gb core network architecture.
##### 7.1.7.3.1.1 Assumptions
The protocol flow for NB M2M exception reporting without retransmissions is
shown in Figure 7.1.7.3-1.
The MS synchronizes with the base station and receives SI1. The MS transmits a
Random Access Request in a RACH resource allocated by the System Information.
The MS then receives a DCI which defines the downlink allocation for the
Random Access Response and an uplink allocation for the exception report. The
MS receives the Random Access Response and transmits the exception report in
the UL allocation. Although not part of the latency calculation, also shown is
the base station transferring the exception report to the core network and
providing the MS with an acknowledgement.
Figure 7.1.7.3-1: Exception report signaling without retransmission
The delays \"Twait_n\" between different messages in the protocol flow are
defined as follows:
\- Twait_0 is the typical time between synchronization being achieved and the
start of SI1 reading.
\- Twait_1 is the typical time between the finish of SI1 reading and the start
of the RACH transmission, taking into account MS transition time between RX
and TX as NB M2M assumes half duplex MS operation.
\- Twait_2 is the typical time between the end of the RACH transmission and
the start of the DCI that addresses the MS to allocate resource for the Random
Access Response (RAR) and the exception report. It is at least the minimum MS
transition time between TX and RX. In this analysis, it is assumed that the MS
is addressed by the next DCI following the end of the RACH transmission.
\- Twait_3 is the time between the end of the DCI and the start of the RAR
message containing the C-RNTI allocation. There is no MS transition time
between RX to RX and it is assumed the base station schedules the RAR message
immediacy after the DCI, therefore Twait_3 is 0.
\- Twait_4 is the time between the end of the Random Access Response and the
start of the exception report. It is at least the minimum MS transition time
between RX and TX.
The protocol flow for an exception report with a retransmission is shown in
Figure 7.1.7.3-2. After the first transmission of the exception report, which
the base station does not receive correctly, the MS receives a DCI with a NACK
and also an uplink allocation for the retransmission. The MS then retransmits
the exception report. Although not part of the latency calculation, also shown
is the base station transferring the exception report to the core network and
providing the MS with an acknowledgement.
Figure 7.1.7.3-2: Exception report signaling with a retransmission
An exception report with a retransmission adds the following wait times:
\- Twait_5 is the time between the end of first uplink data transmission and
the start of the DCI containing both the NACK and the uplink resource
allocation for the retransmission of the exception report.
\- Twait_6 is the time between the end of the DCI containing the NACK and the
start of the retransmission of the exception report.
The assumed DCI intervals are 80 ms for normal coverage (144 dB coupling
loss), 320 ms for extended coverage (154 dB coupling loss), and 1280 ms for
extreme coverage (164 dB coupling loss).
The average time taken for network synchronization and for system information
reading is shown in Table 7.1.7.3-1. It is assumed that the MS has not moved
to a different cell sector, and that only SI1 needs to be read (so SI2 to SI4
are assumed to be unchanged since the previous reception). No downlink PSD
boosting is assumed for PBSCH.
Table 7.1.7.3-1: Synchronization and SI1 reading time
+------------+------------------------------+-------------------+------------------+ | | **Latency (in 80ms frames)** | | | +------------+------------------------------+-------------------+------------------+ | | **Coupling loss\ |** Coupling loss**|** Coupling loss\ | | | = 144 dB**| | = 164 dB** | | | | **= 154 dB** | | +------------+------------------------------+-------------------+------------------+ | PSS & SSS | 2 | 4 | 9 | +------------+------------------------------+-------------------+------------------+ | FIIS & SI1 | 5 | 6 | 12 | +------------+------------------------------+-------------------+------------------+
The selection of MCS and CBS for each burst type at each coupling loss is
shown in Table 7.1.7.3-2, including the resulting burst durations.
The uplink exception report above SNDCP is 85 bytes (20 bytes for the
application payload and 65 bytes for the higher layer headers assuming no IP
header compression).
The uplink burst also includes a 15 byte overhead in addition to the packet
size above SNDCP (4 bytes for SNDCP, 6 bytes for LLC, 2 bytes for MAC headers
and 3 bytes for CRC), and the first uplink burst after RACH uses an additional
5 bytes for TLLI (including additional MAC headers).
Therefore, the total uplink burst size for latency evaluation is 105 bytes at
the physical layer.
The DCI burst size is a typical value for a loaded system, and so carries
resource allocation information for multiple MSs. No PSD boosting or adaptive
power allocation has been assumed on the downlink.
Table 7.1.7.3-2: Selection of MCS and CBS indexes for each burst type
|  | Coupling loss = 144 dB | Coupling loss = 154 dB | Coupling loss = 164 dB |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
Burst type | PHY burst  
size | MCS Index | CBS  
index | Duration (ms) | MCS index | CBS index | Duration (ms) | MCS index | CBS index | Duration (ms)  
DL DCI | DCI  
(34 to 48 bytes) | 7 | 1 | 30 | 4 | 4 | 120 | 2 | 4 | 480  
DL RAR | RAR (9 bytes) | 5 | 1 | 20 | 3 | 1 | 80 | 1 | 1 | 320  
UL random access | RACH (5 bytes) | 5 | 0 | 40 | 5 | 0 | 40 | 1 | 0 | 320  
UL data (105 bytes) | Short report (85 + 15 + 5 = 105 bytes) | 9 | 5 | 60 | 6 | 11 | 480 | 3 | 22 | 2760  
For the selected MCS and CBS for the uplink report, the link level simulation
results indicate that the BLER at 20 dB extended coverage is lower than 1%.
So, in this case, no retransmissions need to be taken into account to provide
99% confidence of successful delivery of the exception report.
The BLER for normal coverage and 10 dB extended coverage condition are between
1% and 10%. So, in these cases, a single retransmission is required (for up to
10% of reports) to achieve a residual BLER of less than 1% and, therefore, a
99% confidence of successful delivery of the exception report.
##### 7.1.7.3.1.2 Results
The latency breakdowns for coupling losses of 144 dB, 154 dB and 164 dB are
shown in Table 7.1.7.3-3. For the 144 dB and 154 dB cases, the BLER from the
initial transmission is between 1% and 10%, so the total latency is shown for
both the initial transmission (corresponding to greater than 90% confidence of
successful delivery) and for an additional retransmission (corresponding to
greater than 99% confidence of successful delivery). For the 164 dB case, the
BLER from the initial transmission is less than 1%, so the confidence of
successful delivery is greater than 99% from a single transmission.
Table 7.1.7.3-3: Latency results for exception report
* * *
**Sub-procedure** **Latency (ms)**  
**144 dB coupling loss** **154 dB coupling loss** **164 dB coupling loss**
Synchronization 160 320 720 Twait_0 110* 140* 220* SI1 reading 400 480 960
Twait_1 40 40 200* Random Access Request 40 40 320 Twait_2 80 160* 1040* DCI
for RAR and UL Allocation 30 120 480 Twait_3 0 0 0 RAR 20 80 320 Twait_4 70 40
160 UL DATA 60 480 2760 **Total latency ( >90% successful delivery)** **1010**
**1900** **-** Twait_5 60 240 - DCI for NAK and UL Allocation 30 120 - Twait_6
50 40 - UL DATA retransmission 60 480 - **Total latency ( >99% successful
delivery)** **1210** **2780** **7180**
* * *
* Typical value.
##### 7.1.7.3.1.3 Conclusions
The results indicate that the 10 second latency target for exception reporting
can be achieved even with 20 dB coverage extension, for 90% and 99% confidence
in successful delivery of the report.
It is important to note that these latency values are achieved with a system
design that has been intentionally constrained in two key respects:
> \- The NB M2M solution has a frequency re-use assumption that is compatible
> with a stand-alone deployment in a minimum system bandwidth for the entire
> IoT network of just 200 kHz (FDD), plus guard bands if needed.
>
> \- The NB M2M solution achieves 20 dB coverage extension using a MS transmit
> power of only +23 dBm (200 mW), resulting in a peak current requirement that
> is compatible with a wider range of battery technologies.
##### 7.1.7.3.2 Latency evaluation for uplink reports generated by MAR
periodic
This subclause presents latency evaluation results based on system-level
simulations for uplink reports generated by the MAR periodic traffic model, as
defined in subclause 5.3.2.
The traffic model from Annex E.2.2 and the latency evaluation methodology from
subclause 5.3 are followed.
##### 7.1.7.3.2.1 Assumptions {#assumptions-5 .H6}
The following evaluations use the same BPL modelling as described in subclause
7.1.7.2.1.1, the same traffic generation as in subclause 7.1.7.2.1.2, the same
simulation assumptions as in subclause 7.1.7.2.1.3, and the same simulation
cases as in subclause 7.1.7.2.1.4.
The time for a given MS to synchronize to the network is randomly chosen from
the CDF of synchronization time for the corresponding coverage class.
##### 7.1.7.3.2.2 Results {#results-7 .H6}
The distributions of the latency for MAR periodic uplink reports are shown in
Figure 7.1.7.3-3.
{width="3.5520833333333335in" height="2.5208333333333335in"}
Figure 7.1.7.3-3: CDF of latency for MAR periodic UL reports \@MS per
sector=52547
The 50^th^ percentile latencies with offered load of 52547 MSs per sector are
summarized in Table 7.1.7.3-4.
Table 7.1.7.3-4: The 50^th^ percentile latency for MAR periodic UL reports
\@MS per sector=52547
* * *
BPL Coefficient Scenario 1 Scenario 2  
w/ IP HC w/o IP HC w/ IP HC w/o IP HC 0.5 1.21s 1.47s 1.27s 1.63s 0.75 1.23s
1.59s 1.31s 2.17s
* * *
##### 7.1.7.3.3 Latency evaluation of downlink application layer ACKs for
uplink generated MAR periodic reports
This subclause presents latency evaluation results based on system-level
simulations for downlink application layer ACKs, as defined in subclause
5.3.3.
The traffic model from Annex E.2.2 and the evaluation methodology from
subclause 5.3 are followed.
##### 7.1.7.3.3.1 Assumptions {#assumptions-6 .H6}
The same assumptions as described in subclause 7.1.7.3.2.1 are used in the
latency evaluation of downlink application layer ACKs for uplink generated MAR
periodic reports.
##### 7.1.7.3.3.2 Results {#results-8 .H6}
The distributions of the latency for downlink application layer ACKs are shown
in Figure 7.1.7.3-4.
{width="3.5833333333333335in" height="2.5625in"}
Figure 7.1.7.3-4. CDF of latency for application layer ACK \@MS per
sector=52547
The 50^th^ percentile latencies with offered load of 52547 MSs per sector are
summarized in Table 7.1.7.3-5.
Table 7.1.7.3-5: The 50^th^ percentile latency for application layer ACK \@MS
per sector=52547
* * *
BPL Coefficient Scenario 1 Scenario 2  
w/ IP HC w/o IP HC w/ IP HC w/o IP HC 0.5 0.20s 0.27s 0.2s 0.28s 0.75 0.20s
0.28s 0.2s 0.27s
* * *
##### 7.1.7.3.4 Latency evaluation for random access
This subclause presents latency evaluation results based on system-level
simulations for random access, as defined in subclause 5.3.5.
The random access procedure described in subclause 7.1.4.5 is followed.
##### 7.1.7.3.4.1 Assumptions {#assumptions-7 .H6}
The same assumptions as described in subclause 7.1.7.3.2.1 are used in the
latency evaluation of random access. The maximum allowed number of random
access attempts for each MAR periodic or NC session is set to 5, and the
parameter is set to 4 DCI intervals.
##### 7.1.7.3.4.2 Results {#results-9 .H6}
The distributions of the latency for random access are shown in Figure
7.1.7.3-5.
{width="3.5833333333333335in" height="2.5625in"}
Figure 7.1.7.3-5: CDF of latency for RACH \@MS per sector=52547
The 50^th^ percentile latencies with offered load of 52547 MSs per sector are
summarized in Table 7.1.7.3-6.
Table 7.1.7.3-6: The 50^th^ percentile latency for RACH \@MS per sector=52547
* * *
BPL Coefficient Scenario 1 Scenario 2  
w/ IP HC w/o IP HC w/ IP HC w/o IP HC 0.5 0.28s 0.34s 0.28s 0.33s 0.75 0.28s
0.34s 0.33s 0.33s
* * *
The failure ratios of random access, as described in subclause 5.3.5 (and
which are not included in the CDF of RACH latency), are summarized in Table
7.1.7.3-7.
Table 7.1.7.3-7: RACH failure ratio \@MS per sector=52547
* * *
BPL Coefficient Scenario 1 Scenario 2  
w/ IP HC w/o IP HC w/ IP HC w/o IP HC 0.5 1.66% 2.20% 2.09% 2.39% 0.75 1.30%
1.45% 1.44% 1.66%
* * *
#### 7.1.7.4 Energy Consumption Evaluation
This subclause provides an analysis of the MS battery life that can be
achieved with the NB M2M solution following the evaluation methodology
described in subclause 5.4.
##### 7.1.7.4.1 Assumptions
The instantaneous power consumption assumptions for the major operating modes
of the NB M2M MS are shown in Table 7.1.7.4-1.
Table 7.1.7.4-1: Power consumption assumptions for NB M2M battery life
analysis
* * *
Operating mode Power (mW) Notes
Transmit\ Integrated PA 500 +23 dBm with 45% PA efficiency for class B
(including Tx/Rx switch insertion loss) plus 60 mW for other circuitry. (+23
dBm)
                   External PA                 460          +23 dBm with 50% PA efficiency for class B (including Tx/Rx switch insertion loss) plus 60 mW for other circuitry.
Receive Synchronization (PSS/SSS) 70 Accounts for more complex digital
processing during synchronization.
                   Normal\                     60           Includes digital mixing/decimation to single 15 kHz sub-channel, and subsequent demodulation of this sub-channel.
                   (non-PSS/SSS)
Sleep 3 Corresponds to maintaining accurate timing by keeping RF frequency
reference active.
Standby 0.015 Common assumption.
* * *
The NB M2M protocol flow that is assumed for the battery life analysis is
illustrated in Figure 7.1.7.4-1. based on the Gb core network architecture.
{width="6.800694444444445in" height="3.161111111111111in"}
Figure 7.1.7.4-1: Protocol flow assumptions for NB M2M battery life analysis
The assumed DCI intervals are 80 ms for normal coverage (144 dB coupling
loss), 320 ms for extended coverage (154 dB coupling loss), and 1280 ms for
extreme coverage (164 dB coupling loss). Potential re-transmissions of the
uplink report are shown, including an additional DCI for the MAC layer ACK
associated with the uplink re-transmission.
The average time taken for network synchronization and for system information
reading is shown in Table 7.1.7.4-2. It is assumed that the MS has not moved
to a different cell sector, and that only SI1 needs to be read (so SI2 to SI4
are assumed to be unchanged since the previous reception). No downlink PSD
boosting is assumed for PBSCH.
Table 7.1.7.4-2: Receiver active time for synchronization and SI reading
* * *
               Coupling loss\   **Coupling loss\   **Coupling loss\                            
               = 144 dB         = 154 dB**         = 164 dB**
               \#frames\        Rx active\         \#frames\          Rx active\   \#frames\   Rx active time (ms)
               latency          time (ms)          latency            time (ms)    latency
PSS & SSS 2 160 4 320 9 720
FIIS & SI1 5 186 6 224 12 448
* * *
The selection of MCS and CBS for each burst type at each coupling loss is
shown in Table 7.1.7.4-3, including the resulting burst durations.
Data bursts include a 15 byte overhead in addition to the packet size above
SNDCP (4 bytes for SNDCP, 6 bytes for LLC, 2 bytes for MAC header, and 3 bytes
for CRC), and the first uplink burst after RACH uses an additional 5 bytes for
TLLI.
The DCI burst size is a typical value for a loaded system, and so carries
resource allocation information for multiple MSs. No PSD boosting or adaptive
power allocation has been assumed on the downlink.
Table 7.1.7.4-3: MCS and CBS selection for each burst type
|  | Coupling loss = 144 dB | **Coupling loss = 154 dB** | **Coupling loss = 164 dB** |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
Burst type | PHY burst  
size | MCS Index | **CBS  
index** | **Duration** **(ms)** | **MCS** **index** | **CBS** **index** | **Duration** **(ms)** | **MCS** **index** | **CBS** **index** | **Duration** **(ms)**  
DL DCI | DCI  
(34 to 48 bytes) | **7** | **1** | **30** | **4** | **4** | **120** | **2** | **4** | **480**  
DL RAR | **RAR** **(9 bytes)** | **5** | **1** | **20** | **3** | **1** | **80** | **1** | **1** | **320**  
DL data | **App ACK** **(29+15 =  
44 bytes)** | **6** | **3** | **40** | **4** | **7** | **160** | **2** | **7** | **640**  
UL random access | **RACH** **(5 bytes)** | **5** | **0** | **40** | **5** | **0** | **40** | **1** | **0** | **320**  
UL data (50 bytes) | **Short report  
(50+15+5 =  
70 bytes)** | **9** | **3** | **40** | **6** | **7** | **320** | **3** | **15** | **1920**  
UL data (200 bytes) | **Long report  
(200+15+5 = 220 bytes)** | **9** | **11** | **120** | **6** | **23** | **960** | **4** | **47** | **3840**  
UL ACK  
of DL data | **MAC layer  
ACK  
(5 bytes)** | **8** | **0** | **10** | **5** | **0** | **40** | **1** | **0** | **320**  
The impact of re-transmissions of the uplink reports is included in the
battery life analysis by taking account of the simulated BLER for the initial
transmission of the uplink report for each scenario. The analysis allows for
an additional uplink transmission plus an additional reception of a DCI
containing the MAC layer ACK, as illustrated in Figure 7.1.7.4-1. This means
that the battery life analysis takes account of the average number of
retransmissions of the uplink report. The effect of BLER on channels other
than PUSCH is not considered.
##### 7.1.7.4.2 Results
The achievable battery life in years has been estimated as a function of
reporting frequency and coupling loss, based on the previously stated
assumptions. The results for an integrated PA are summarized in Table
7.1.7.4-4 and for an external PA in Table 7.1.7.4-5. In both cases, the
transmit power from the MS is constrained to be +23 dBm (200 mW) to ensure
compatibility in terms of peak current with a wider range of battery
technologies, and the frequency re-use assumption is compatible with a stand-
alone deployment in a system bandwidth for the entire network of just 200 kHz
(FDD).
Table 7.1.7.4-4: Battery life estimates with integrated PA
+-----------------+-----------------+---------------+---------------+ | | Battery life | | | | | (years) | | | +-----------------+-----------------+---------------+---------------+ | Packet size, | Coupling loss | Coupling loss | Coupling loss | | reporting | | | | | interval | = 144 dB | = 154 dB | = 164 dB | +-----------------+-----------------+---------------+---------------+ | 50 bytes, 2 | 21.3 | 9.5 | 2.3 | | hours | | | | +-----------------+-----------------+---------------+---------------+ | 200 bytes, 2 | 17.5 | 5.5 | 1.5 | | hours | | | | +-----------------+-----------------+---------------+---------------+ | 50 bytes, 1 day | 35.7 | 30.5 | 16.6 | +-----------------+-----------------+---------------+---------------+ | 200 bytes, 1 | 34.7 | 25.5 | 12.4 | | day | | | | +-----------------+-----------------+---------------+---------------+
Table 7.1.7.4-5: Battery life estimates with external PA
+-----------------+-----------------+---------------+---------------+ | | Battery life | | | | | (years) | | | +-----------------+-----------------+---------------+---------------+ | Packet size, | Coupling loss | Coupling loss | Coupling loss | | reporting | | | | | interval | = 144 dB | = 154 dB | = 164 dB | +-----------------+-----------------+---------------+---------------+ | 50 bytes, 2 | 21.7 | 10.0 | 2.5 | | hours | | | | +-----------------+-----------------+---------------+---------------+ | 200 bytes, 2 | 18.0 | 5.8 | 1.6 | | hours | | | | +-----------------+-----------------+---------------+---------------+ | 50 bytes, 1 day | 35.8 | 30.8 | 17.2 | +-----------------+-----------------+---------------+---------------+ | 200 bytes, 1 | 34.8 | 26.0 | 13.0 | | day | | | | +-----------------+-----------------+---------------+---------------+
#### 7.1.7.5 Conclusions
**The** achievable battery life for a MS using the NB M2M solution for
Cellular IoT has been estimated as a function of reporting frequency and
coupling loss.
It is important to note that these battery life estimates are achieved with a
system design that has been intentionally constrained in two key respects:
\- The NB M2M solution has a frequency re-use assumption that is compatible
with a stand-alone deployment in a minimum system bandwidth for the entire IoT
network of just 200 kHz (FDD), plus guard bands if needed.
\- The NB M2M solution uses a MS transmit power of only +23 dBm (200 mW),
resulting in a peak current requirement that is compatible with a wider range
of battery technologies, whilst still achieving the 20 dB coverage extension
objective.
The key conclusions are as follows:
\- For all coupling losses (so up to 20 dB coverage extension compared with
legacy GPRS), a 10 year battery life is achievable with a reporting interval
of one day for both 50 bytes and 200 bytes application payloads.
\- For a coupling loss of 144 dB (so equal to the MCL for legacy GPRS), a 10
year battery life is achievable with a two hour reporting interval for both 50
bytes and 200 bytes application payloads.
\- For a coupling loss of 154 dB, a battery life of 9.5 to 10 years can be
achieved with a 2 hour reporting interval for a 50 byte application payload.
This could be further improved by exploiting adaptive power allocation on the
downlink, using frequency hopping to smooth the PSD over time, but it is not
clear whether this is allowed by the common assumptions.
\- For a coupling loss of 154 dB with 200 byte application payload, or a
coupling loss of 164 dB with 50 or 200 byte application payload, a 10 year
battery life is not achievable for a 2 hour reporting interval. This is a
consequence of the transmit energy per data bit (integrated over the number of
repetitions) that is required to overcome the coupling loss and so provide an
adequate SNR at the receiver.
\- Use of an integrated PA only has a small negative impact on battery life,
based on the assumption of a 5% reduction in PA efficiency compared with an
external PA.
Further improvements in battery life, especially for the case of high coupling
loss, could be obtained if the common assumption that the downlink PSD will
not exceed that of legacy GPRS was either relaxed to allow PSD boosting, or
defined more precisely to allow adaptive power allocation with frequency
hopping.
#### 7.1.7.6 Coexistence evaluation
##### 7.1.7.6.1 Coexistence with GSM
The simulation results for coexistence with GSM were derived using the
assumptions in Annex G.1.
##### 7.1.7.6.1.1 Simulation cases {#simulation-cases-1 .H6}
The simulation cases are summarized in Table 7.1.7.6-1.
Table 7.1.7.6-1: Simulation cases for coexistence with GSM
* * *
Cases Aggressor Victim Link direction GSM frequency reuse Deployment 1 NB M2M
GSM Downlink 4/12 Coordinated 2 NB M2M GSM Uplink 4/12 Coordinated 3 GSM NB
M2M Downlink 4/12 Coordinated 4 GSM NB M2M Uplink 4/12 Coordinated 5 NB M2M
GSM Downlink 3/9 Coordinated 6 NB M2M GSM Uplink 3/9 Coordinated 7 GSM NB M2M
Downlink 3/9 Coordinated 8 GSM NB M2M Uplink 3/9 Coordinated 9 NB M2M GSM
Downlink 4/12 Uncoordinated 10 NB M2M GSM Uplink 4/12 Uncoordinated 11 GSM NB
M2M Downlink 4/12 Uncoordinated 12 GSM NB M2M Uplink 4/12 Uncoordinated 13 NB
M2M GSM Downlink 3/9 Uncoordinated 14 NB M2M GSM Uplink 3/9 Uncoordinated 15
GSM NB M2M Downlink 3/9 Uncoordinated 16 GSM NB M2M Uplink 3/9 Uncoordinated
* * *
##### 7.1.7.6.1.2 Simulation assumptions {#simulation-assumptions-9 .H6}
Table 7.1.7.6-2 lists simulation assumptions for NB M2M. For other
assumptions, see Annex G.1.
Table 7.1.7.6-2: Simulation assumptions for NB M2M
* * *
Parameter Setting UE maximum transmit power (dBm) 23 UE antenna gain (dBi) -4
Building Penetration Loss Scenario 1 with inter-site correlation coefficient
0.5 UE number* 20 users per cell ACLRadj-x step (dB)** 5 dB ACSadj-x step
(dB)*** 5 dB
* * *
* 10 legacy GSM users dropped in each cell and randomly selected.
** ACLRadj-x represents the x-th adjacent channel leakage power ratio which is
defined over the 15 kHz downlink channels and over 5 kHz uplink channels used
in NB M2M, where _x = floor(carrier spacing/channel bandwidth) + 1_. In the
simulations, only ACLRadj-8 was modelled for BS and ACLRadj-23 was modelled
for UE because of the additional guard band of 100 kHz and intra guard band of
10 kHz on each side of the NB M2M wanted signal (8 = floor(110/15) + 1, and 23
= floor(110/5) + 1). An adjacent channel leakage power ratio equal to
ACLRadj-8 for the downlink and equal to ACLR adj-23 for the uplink are also
assumed for frequency offsets with downlink adjacent channel index greater
than 8 and uplink adjacent channel index greater than 23. (i.e. worst case
flat ACLR for these frequency offsets).
*** ACSadj-x represents the x-th adjacent channel selective which is defined
over the 15 kHz downlink channels and 5 kHz uplink channels used in NB M2M,
where x = _floor(carrier spacing/channel bandwidth) + 1_. ACS is assumed to be
the same for all frequency offsets from the NB M2M allocated channel in the
simulation.
##### 7.1.7.6.1.3 Simulation results {#simulation-results-6 .H6}
Simulation result for each case is listed below respectively.
For case 1 and case 2,
{width="2.9166666666666665in" height="2.1979166666666665in"}[TBD]
For case 3 and case 4,
{width="2.9166666666666665in" height="2.1875in"}{width="2.9166666666666665in"
height="2.1875in"}
For case 5 and case 6,
{width="2.9166666666666665in" height="2.1875in"}[TBD]
For case 7 and case 8,
{width="2.9166666666666665in" height="2.1875in"}{width="2.9166666666666665in"
height="2.1875in"}
For case 9 and case 10,
{width="2.9166666666666665in" height="2.1875in"}[TBD]
For case 11 and case 12,
{width="2.9166666666666665in" height="2.1875in"}{width="2.9166666666666665in"
height="2.1875in"}
For case 13 and case 14,
{width="2.9166666666666665in" height="2.1875in"}[TBD]
For case 15 and case 16,
{width="2.9166666666666665in" height="2.1875in"}{width="2.9166666666666665in"
height="2.1875in"}
The NB M2M performance loss due to GSM interference for the uplink is
summarized in Table 7.1.7.6-3.
Table 7.1.7.6-3: Summary of NB M2M performance loss due to interference of GSM
(coordinated)
* * *
Coverage probability loss at 20dB enhancement (uplink) BS ACS at the 23-th
adjacent channel \~2.7% 35 dB \~1.4% 40 dB
* * *
For uncoordinated deployment, the performances are summarized in Table
7.1.7.6-4 and Table 7.1.7.6-5.
Table 7.1.7.6-4: Summary of GSM outage degradation due to interference of NB
M2M (uncoordinated)
* * *
GSM outage (downlink) BS ACLR at the 8-th adjacent channel \ \ \ \
Uplink data transfer 0 0 0 \ \ \ Page
response 0 0 1 \ \ \ Attach/Registration
update 0 1 0 \ \ \ Other signaling/SMS 0 1 1
0 \ \ \ Exception reporting 0 1 1 1 x x x x x
x x x x x x x x x x x x x x x Spare
* * *
where
\- _Volume_ : This provides an indication of the volume of data to be
transmitted by the device so that network can allocate resources accordingly.
This field is only relevant for user data transfer and not necessary for
signaling purposes. An example coding of this field is as follows:
\- 1 to 49 bytes
\- 50 to 99 bytes
\- 10 100 to 199 bytes
\- 11 More than 199 bytes
\- _Coverage_ : This field allows for further sub-division of the coverage
class. The main coverage class is provided by the modulation and coding scheme
used by the device. There are 4 modulation and coding schemes and the coverage
field allows each modulation to have up to 8 sub divisions of each coverage
area identified by the modulation scheme.
\- _Random_ : this field allows differentiation of devices making access for
the same service within the same frame. The size of this field ensures that
there is very small probability (\ K~RB~ is the number of transmission blocks for the corresponding PDCCH
> category.
>
> PDCCH~RB~ is the transmission block that may contain downlink control
> message for the mobile station.
Note 2: Time dependent relationship between paging group and resource block
within PDCCH category is FFS.
Figure 7.2.3.6.1-1: Example PDCCH Resource allocation
Note 3: Category 4 and 5 use half a slot each.
##### 7.2.3.6.3 Coverage class adaptation
When the MS detects that its coverage class is improving or deteriorating the
updated coverage class can be signalled to the base station. Frequent
signalling of coverage class changes, which could happen in mobility
situations, can cause additional MS power consumption and signalling load to
the base station and core network. Therefore, the signalling of the coverage
class change should be minimized.
Load balancing mechanisms among coverage classes may be employed, examples of
which include: reconfiguring PDCCH resources associated with coverage classes,
etc.
#### 7.2.3.7 Downlink PDU transfer procedure
The downlink data transfer begins by mobile station receiving an assignment
for downlink PDSCH and this assignment is received on the downlink PDCCH. A
mobile station in idle mode for whom network knows the serving cell can be
sent downlink assignment directly during mobile stations own paging group. In
this case a mobile station would first receive the PSI message on PBCH which
would indicate that mobile station should receive PDCCH corresponding to its\'
coverage class and look for any downlink message addressing the mobile
station. On the PDCCH mobile station then receives downlink assignment message
and then mobile station proceeds to receive the corresponding downlink PDSCH
resource block. Note that every mobile station in idle mode is able to receive
PSI and downlink assignment message within the same frame. Furthermore,
depending on the PDSCH and PUCCH resource assignments, a mobile station may be
able to receive the downlink data packet and send acknowledgement within the
same frame.
_How network knows which cell mobile is in idle mode is FFS._
Figure 7.2.3.7-1: Procedure for initiating downlink data transfer
#### 7.2.3.8 Upper layer PDU segmentation and reassembly
The upper layer PDU segmentation and reassembly will be done in a similar way
to that done in legacy GPRS. The MAC header supports upper layer PDU
delimitation.
#### 7.2.3.9 Uplink and downlink control messages
All downlink control messages are sent on the PDCCH hence there is no
requirement for the mobile station to differentiate between downlink blocks
that carry access stratum control messages and upper layer data.
Table 7.2.3.9-1: Example Uplink assignment message
+--------------------------+-------------+--------------------------+ | Information Element | Size (bits) | Purpose | +--------------------------+-------------+--------------------------+ | Message ID | 5 | Identifies message | +--------------------------+-------------+--------------------------+ | Address with request | | | | reference | | | +--------------------------+-------------+--------------------------+ | Access request reference | 10 or 9 | The 10 (or 9) bit random | | | | number in the channel | | | | request sent to request | | | | uplink resources. Note | | | | additional bit needed to | | | | indicate 10 or 9 bit | | | | random reference. | +--------------------------+-------------+--------------------------+ | PRACH resource ID | 8 | This identifies the | | | | PRACH resource block | | | | where the channel | | | | request was received. | +--------------------------+-------------+--------------------------+ | Relative FN offset | 2 | Indicates the number of | | | | frames between the frame | | | | number that device sent | | | | the PRACH and the frame | | | | number in which | | | | assignment sent to the | | | | mobile. | | | | | | | | 00 same FN | | | | | | | | 01 1 FN before | | | | assignment message frame | | | | number | | | | | | | | 10 2 FN before | | | | assignment message frame | | | | number | | | | | | | | 11 3 FN before | | | | assignment message frame | | | | number | +--------------------------+-------------+--------------------------+ | Address with TLLI/S-TMSI | | | +--------------------------+-------------+--------------------------+ | TLLI/S-TMSI | 32/40 | | +--------------------------+-------------+--------------------------+ | PUSCH Tone allocation | 7 | First tone of the uplink | | | | resource segment | +--------------------------+-------------+--------------------------+ | PUSCH slot allocation | 8 | First slot of the uplink | | | | resource segment | +--------------------------+-------------+--------------------------+ | Relative Starting FN | 2 | Frame offset from the | | | | frame number in which | | | | the device received the | | | | Uplink assignment | | | | message to where the | | | | resource allocation | | | | starts. | | | | | | | | 00 same FN | | | | | | | | 01 1 Fame after | | | | assignment message frame | | | | number | | | | | | | | 10 2 Frames after | | | | assignment message frame | | | | number | | | | | | | | 11 3 Frames after | | | | assignment message frame | | | | number | +--------------------------+-------------+--------------------------+ | Timing advance | 5 | | +--------------------------+-------------+--------------------------+ | Number of consecutive | 3 | Number of consecutive | | data segments to | | data segments (1 to 8) | | transmit | | that the device can | | | | transmit before network | | | | will send a ack. | +--------------------------+-------------+--------------------------+ | Coding scheme | 5 | | +--------------------------+-------------+--------------------------+
The uplink assignment will address the mobile either with a random reference
or with TLLI/S-TMSI.
Table 7.2.3.9-2: Example Downlink assignment message
+--------------------------+-------------+--------------------------+ | Information Element | Size (bits) | Purpose | +--------------------------+-------------+--------------------------+ | Message ID | 5 | | +--------------------------+-------------+--------------------------+ | Addressing | 32/40 | TLLI/S-TMSI | +--------------------------+-------------+--------------------------+ | PDSCH Tone allocation | 5 | First tone of the | | | | downlink resource | | | | segment. | +--------------------------+-------------+--------------------------+ | PDSCH slot allocation | 8 | First slot of the | | | | downlink resource | | | | segment | +--------------------------+-------------+--------------------------+ | Relative Starting FN | 2 | Frame offset from the | | | | frame number on which | | | | the device received the | | | | downlink assignment | | | | message to where the | | | | downlink resource | | | | allocation starts | +--------------------------+-------------+--------------------------+ | Coding scheme | 5 | | +--------------------------+-------------+--------------------------+ | PUCCH slot for sending | 2 | Relative slot number for | | ack/nack | | sending ack/nack. | | | | | | | | 00: Unack mode used, no | | | | PUCCH allocated | | | | | | | | 01: 1 slot after last of | | | | PDSCH block. | | | | | | | | 10: 2 slot after last | | | | slot of PDSCH block. | | | | | | | | 11: 3 slot after last | | | | slot of PDSCH block. | +--------------------------+-------------+--------------------------+ | Number of consecutive | 3 | Number of consecutive | | data segments to receive | | data segments (1 to 8) | | | | that the device can | | | | receive before MS needs | | | | to receive new downlink | | | | assignment. | +--------------------------+-------------+--------------------------+
Table 7.2.3.9-3: Example Uplink ack/nack message
+--------------------------+-------------+--------------------------+ | Information Element | Size (bits) | Purpose | +--------------------------+-------------+--------------------------+ | Message ID | 5 | | +--------------------------+-------------+--------------------------+ | Address info | 32/40 | TLLI/S-TMSI | +--------------------------+-------------+--------------------------+ | Final ack ind | 1 | Indicates to the MS that | | | | uplink transfer has | | | | completed and MS should | | | | return to idle mode. | +--------------------------+-------------+--------------------------+ | Data segment | 8 | Optional bitmap. | | acknowledgment bit map | | | | | | Each bit indicates | | | | status of one uplink MAC | | | | data block. | +--------------------------+-------------+--------------------------+ | Total | 46/54 | | +--------------------------+-------------+--------------------------+
Note: Use of a temporary shorter device ID to include in uplink data blocks
and optimized downlink ack/nack channel post contention resolution is FFS.
#### 7.2.3.10 Uplink and downlink MAC data block
All downlink and uplink data blocks are sent on scheduled resources.
Table 7.2.3.10-1: Example Uplink data block structure
+----------------------------------------------------------------------+ | Mandatory control header (5 octets) | | | | (includes field such as sequence number, last data block, optional | | header present or not, MS ID) | +----------------------------------------------------------------------+ | Optional control header (1-2 octets) | | | | (length octet, upper layer PDU delimiter, more resources needed) | +----------------------------------------------------------------------+ | Data (variable) | +----------------------------------------------------------------------+
Table 7.2.3.10-2: Example Downlink MAC data block structure
+------------------------------------------------------------------+ | Mandatory control header (1 octet) | | | | (final segment, sequence number, optional header present or not) | +------------------------------------------------------------------+ | Optional control header (1-2 octets) | | | | (length octet, upper layer PDU delimiter) | +------------------------------------------------------------------+ | Data | +------------------------------------------------------------------+
### 7.2.4 Concept Evaluation
#### 7.2.4.1 Link level performance
##### 7.2.4.1.1 Simulation assumptions
According to Annex C, simulation assumptions are provided in Table 7.2.4.1-1
Table 7.2.4.1-1: Simulation Assumptions
* * *
**No.** **Parameter** **Value** **Notes**
1 Frequency band 900 MHz
2 Propagation channel model TU
3 Doppler spread 1 Hz with model for Doppler spectrum taken from TR 36.888
[3]^1^
4 Interference/noise Sensitivity^2^
5 Antenna configuration BS: 1T2R\  
MS: 1T1R
6 UL Frequency error (Hz) F_offset(t) = ±45 ±22.5 * t. F_est_error and initial
drift during UE inactive together modelled as ±45 Hz.
7 DL Frequency error (Hz) ±45
* * *
Note.
_Conformance to the GMSK PSD mask remains to be evaluated (see Annex D, table
D.1. Note 3)._
_For PDSCH , no power reduction due to PAPR is assumed._
_Gb architecture was assumed._
To study the maximal coupling loss (MCL) that can be supported at 10% BLER ,
the most robust modulation and coding schemes (MCSs) are considered for PUSCH,
PDSCH and PDCCH. For PBCH, the secondary system information (SSI) is
considered since it has a higher coding rate and hence smaller MCL when
compared to the primary system information. The MCSs considered are listed in
Table 7.2.4.1-2.
Table 7.2.4.1-2: MCS Considered for MCL Evaluation
+---------+---------+---------+---------+---------+---------+---------+ | Pa | PDSCH A | PDSCH B | PBCH SI | PDCCH | PUSCH | PUCCH | | rameter | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Number | 1 | 4 | 18 | 6 | 1 | 1 | | of | | | | | | | | o | | | | | | | | ccupied | | | | | | | | tones | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Ba | 2.5 kHz | 10 kHz | 45 kHz | 15 kHz | 2.5 kHz | 2.5 kHz | | ndwidth | | | | | | | | (kHz) | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Symbol | 2282 | 2282 | 2282 | 2282 | 2324 | 2324 | | rate | | | | | | | | ( | | | | | | | | symb/s) | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Mod | BPSK | BPSK | BPSK | BPSK | BPSK | Ort | | ulation | | | | | | hogonal | | | | | | | | W | | | | | | | | aveform | +---------+---------+---------+---------+---------+---------+---------+ | Coding | Convol | Convol | Conv | Conv | Turbo | Ra | | | utional | utional | olution | olution | r | te-1/28 | | | r | rat | r | ra | ate-1/6 | | | | ate-1/6 | e-1/-24 | ate-1/9 | te-1/24 | | | +---------+---------+---------+---------+---------+---------+---------+ | Pilot | 3/14 | 2/14 | 2/14 | 2/14 | 3/14 | 0 | | O | | | | | | | | verhead | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Data | 299 | 326 | N/A | N/A | 304 bps | N/A | | Rate | | | | | | | | (bps) | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Packet | 800 | 800 | 72 | 72 | 800 | 1 | | Length | | | | | | | | (bits) | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | NOTE 1 | | | | | | | | In | | | | | | | | PDSCH | | | | | | | | A, the | | | | | | | | maximal | | | | | | | | d | | | | | | | | ownlink | | | | | | | | t | | | | | | | | ransmit | | | | | | | | power | | | | | | | | per | | | | | | | | tone is | | | | | | | | assumed | | | | | | | | to be | | | | | | | | 30 dBm, | | | | | | | | i.e. a | | | | | | | | 7.6 dB | | | | | | | | boost | | | | | | | | from | | | | | | | | the | | | | | | | | average | | | | | | | | power | | | | | | | | per | | | | | | | | tone | | | | | | | | a | | | | | | | | ssuming | | | | | | | | maximal | | | | | | | | d | | | | | | | | ownlink | | | | | | | | t | | | | | | | | ransmit | | | | | | | | power | | | | | | | | 43 dBm. | | | | | | | | In | | | | | | | | PDSCH | | | | | | | | B, | | | | | | | | dynamic | | | | | | | | power | | | | | | | | all | | | | | | | | ocation | | | | | | | | is not | | | | | | | | applied | | | | | | | | and, as | | | | | | | | a | | | | | | | | result, | | | | | | | | the | | | | | | | | t | | | | | | | | ransmit | | | | | | | | power | | | | | | | | per | | | | | | | | tone is | | | | | | | | 24.4 | | | | | | | | dBm. It | | | | | | | | can be | | | | | | | | seen | | | | | | | | that it | | | | | | | | takes | | | | | | | | less | | | | | | | | time to | | | | | | | | t | | | | | | | | ransmit | | | | | | | | the | | | | | | | | data | | | | | | | | packet | | | | | | | | by | | | | | | | | PDSCH B | | | | | | | | than by | | | | | | | | PDSCH | | | | | | | | A. | | | | | | | | PDSCH B | | | | | | | | is | | | | | | | | pr | | | | | | | | eferred | | | | | | | | when a | | | | | | | | cell is | | | | | | | | lightly | | | | | | | | loaded | | | | | | | | for its | | | | | | | | reduced | | | | | | | | t | | | | | | | | ransmit | | | | | | | | power | | | | | | | | per | | | | | | | | tone | | | | | | | | and | | | | | | | | thus | | | | | | | | reduced | | | | | | | | inter | | | | | | | | ference | | | | | | | | to | | | | | | | | other | | | | | | | | cells. | | | | | | | | | | | | | | | | NOTE 2: | | | | | | | | For | | | | | | | | PBCH | | | | | | | | the | | | | | | | | t | | | | | | | | ransmit | | | | | | | | power | | | | | | | | per | | | | | | | | tone is | | | | | | | | 30.4 | | | | | | | | dBm. | | | | | | | | | | | | | | | | NOTE 3: | | | | | | | | For | | | | | | | | PDCCH | | | | | | | | the | | | | | | | | maximal | | | | | | | | t | | | | | | | | ransmit | | | | | | | | power | | | | | | | | per | | | | | | | | tone is | | | | | | | | 27 dBm. | | | | | | | | | | | | | | | | NOTE 4: | | | | | | | | For | | | | | | | | both | | | | | | | | PUSCH | | | | | | | | and | | | | | | | | PUCCH, | | | | | | | | the | | | | | | | | maximal | | | | | | | | t | | | | | | | | ransmit | | | | | | | | power | | | | | | | | is 23 | | | | | | | | dBm. | | | | | | | +---------+---------+---------+---------+---------+---------+---------+
##### 7.2.4.1.2 Results
The maximal coupling loss (MCL) for PDSCH A, PDSCH B, PBCH, PDCCH, and PUSCH
are given in Table 7.2.4.1-3.
Table 7.2.4.1-3: MCL of NB-OFDMA
* * *
Parameter PDSCH A PDSCH B PBCH PDCCH PUSCH PUCCH (1) Tx Power in Occupied
Bandwidth (dBm) 30 30.4 43 34.8 23 23 (2) Thermal Noise Density (dBm) -174
-174 -174 -174 -174 -174 (3) Occupied Bandwidth (kHz) 2.5 10 45 15 2.5 2.5 (4)
Receiver Noise Figure (dB) 5 5 5 5 3 3 (5) Interference Margin (dB) 0 0 0 0 0
0 (6) Effective Noise Power (dBm) = (2)+10log10((3))+(4)+(5) -135.0 -129
-122.5 -127.2 -137.0 -137.0 (7) Required SINR (dB) -1 -6.9 0.7 -3.0 -5.1 -5.4
(8) Receiver Sensitivity (dB) = (6)+(7) -136 -135.9 -121.8 -130.2 -142.1
-142.4 (9) Maximal Coupling Loss (dB) = (1)-(8) 166 166.3 164.8 165.0 165.1
165.4
* * *
From the above table, all listed channels achieve larger than 164 dB MCL. In
addition, from Tables 7.2.4.1-2 and 7.2.4.1-1, both PDSCH and PUSCH can
comfortably support data rate higher than 160 bps at the equivalent of the
SNDCP layer as specified in clause 4.1.1.
#### 7.2.4.4 Latency evaluation
##### 7.2.4.4.1 General
The different steps involved in sending exception report is shown in Figure
7.2.4.4-1. The time it takes to complete each step depends on coverage class.
Figure 7.2.4.4-1: Steps for exception reporting
##### 7.2.4.4.2 Time to read Primary System Information
The time to read primary system information message is 2-slot duration (11.925
ms) but the actual duration depends on where synchronization is achieved
within a frame as depicted in Figure 7.2.4.4-2. The best case is that
synchronization completes immediately before the PSI slots and the worst case
is synchronization completes one PSCH after the PSI slot. Therefore the
shortest duration to read PSI is 11.925 ms and the worst case is 886.925 ms
(125*7 + 11.925). Therefore average time to achieve synchronization is 550 ms.
Figure 7.2.4.4-2: Worst and best case for PSI read
##### 7.2.4.4.3 Time to send PRACH
Time to send PRACH is directly dependent on the coverage class and the
duration between reading PSI and start transmission of PRACH. For different
coverage classes there are different number of PRACH slots available within a
frame. To make calculations simpler it is assumed that the last PRACH slot
from the frame is used by the mobile. That is for coupling loss of 164 dB
slots 12 -- 23 are used, for coupling loss of 154 slots 18 -- 23 are used
while for coupling loss of 144 dB slots 20 -- 24 are used. In other words
PRACH completes exactly 141.375 ms after reading of PSI as depicted in Figure
7.2.4.4-3.
Figure 7.2.4.4-3: Time to send PRACH
##### 7.2.4.4.4 Time to receive assignment
Time it takes to receive an assignment message is dependent on coverage class
(aka coupling loss) and the total time for the three coupling losses is are
shown in Table 7.2.4.4-1. The assignment message is sent on the PDCCH and
because the PRACH is assumed to complete by the end of the PRACH slots then
network would have to wait till the next PDCCH occurrence. Total delay to the
start of the PDCCH slot is 166-24 (extended slots) + 5 = 145 slots for all
coverage classes. This is shown as the delay to start of PDCCH slot in Table
7.2.4.4-1.
Table 7.2.4.4-1: Time to receive assignment message
* * *
                                   ***Coupling loss (dB)***
_Path loss_ 144 154 164 _PDCCH coverage class_ 3 4 5 _# of Rx slots_ 3 5 21
_Delay to start of PDCCH (ms)_ 876.5 876.5 876.5 _T~UplinkAssignment~ (ms)_
908 921 962
* * *
.
##### 7.2.4.4.5 Time to send data
For exception reporting application payload, IP protocol, NAS protocol and MAC
layer overhead are shown in Table 7.2.4.4-2. Also shown in this table is the
expect MCS to use for each of the three coupling losses. Total time to
transmit uplink packet, shown in Table 7.2.4.4-3, containing exception report
includes 3 slots of MS reaction time.
Table 7.2.4.4-2: PHY layer payload size and Tx time
* * *
                                   **Uncompressed IP**   **Compressed IP**
Application layer report size 20 20 Upper layer Protocol header 65 29 SNDCP
header 4 4 LLC header 6 6 MAC 5 5 Total PHY payload size (bytes) 100 64
* * *
Table 7.2.4.4-3: Time to transmit exception report packet.
+-------------+-------------+-------------+------+-----+-----+------+ | | **_100 |_** 64 | | | | | | | bytes** _| bytes_** | | | | | | | | | | | | | | | **_Coupling |_** Coupling | | | | | | | loss | loss | | | | | | | (dB)**_| (dB)_** | | | | | +-------------+-------------+-------------+------+-----+-----+------+ | _Coupling | 144 | 154 | 164 | 144 | 154 | 164 | | loss_ | | | | | | | +-------------+-------------+-------------+------+-----+-----+------+ | _Uplink | 3 | 4 | 5 | 3 | 4 | 5 | | Coverage | | | | | | | | Class_ | | | | | | | +-------------+-------------+-------------+------+-----+-----+------+ | _Uplink | 16 | 6 | 2 | 17 | 7 | 3 | | MCS_ | | | | | | | +-------------+-------------+-------------+------+-----+-----+------+ | _# of TX | 16 | 80 | 432 | 12 | 60 | 324 | | slots_ | | | | | | | +-------------+-------------+-------------+------+-----+-----+------+ | _Delay to | 3 | 3 | 3 | 3 | 3 | 3 | | start | | | | | | | | uplink | | | | | | | | tr | | | | | | | | ansmission_ | | | | | | | +-------------+-------------+-------------+------+-----+-----+------+ | _First Tx | 11 | 13 | 22 | 11 | 13 | 22 | | slot within | | | | | | | | a frame_ | | | | | | | +-------------+-------------+-------------+------+-----+-----+------+ | _Last Tx | 26 | 92 | 453 | 22 | 72 | 343 | | slot within | | | | | | | | frame_ | | | | | | | +-------------+-------------+-------------+------+-----+-----+------+ | _T~ | 152 | 549 | 2755 | 105 | 377 | 1965 | | UplinkData~ | | | | | | | | (ms)_ | | | | | | | +-------------+-------------+-------------+------+-----+-----+------+
Some uplink packets use extended slots (because uplink Tx start and end within
the same extended group of slots) but some uplink packets use a mixture of
extended and normal slots. For MCL of 164 dB, it takes over 2 frames to
transmit the data hence the total time consists of 5+2*24 extended slots & 371
normal slots for 100 byte payload while it consists of 5+24 extended slots and
274 normal slots for 64 byte payload.
##### 7.2.4.4.6 Time to receive acknowledgement
Network sends acknowledgement to the mobile station on the PDCCH using the
same coverage class as that used to send uplink assignment message to the
mobile station. As the size of the MAC level acknowledgement message is same
as the size of the uplink assignment message then it takes same amount of time
to transmit the actual acknowledgement message as it does to transmit
assignment message. The gap between completion of transmission of uplink
packet and start reception of ack/nack on PDCCH depends on where in the frame
Tx completes and this is depicted in Figure 7.2.4.4-4.
For MCL of 144 and 154 dB the entire uplink report packet can be transmitted
within one frame hence the delay from completion of uplink packet to start
reception of acknowledgement message is simply 164 minus last absolute slot
number of uplink packet. This is effectively given by 164 - # of slots for
assignment -- MS reaction time -- MS Tx time. For MCL of 164 dB the
transmission lasts for more than 1 frame. With 100 bytes Tx completes in slot
90 of frame n+2 for MCL of 164.
Figure 7.2.4.4-4: Gap between uplink data Tx and ack/nack Rx
##### 7.2.4.4.7 Results
Latency evaluation for exception reporting has been done as per the
methodology defined in subclause5.3. Results are provided for single
transmission of exception report and with 1 re-transmission of exception
reports. Retransmission involves an additional downlink assignment, uplink
data packet and MAC layer ack/nack as shown in Table 7.2.4.4-2.
Table 7.2.4.4-1: Latency for exception report delivery with 90% reliability
+---------+---------+---------+---------+---------+---------+---------+ | **Act | * | * | | | | | | ivity** | _Report |_ Report | | | | | | | with no | with | | | | | | | header | header | | | | | | | compre | compre | | | | | | | ssion**| ssion** | | | | | | | | | | | | | | | **(100 |**(65 | | | | | | | byte | byte | | | | | | | pay | pay | | | | | | | load)**| load)** | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | **_C |_** C | | | | | | | oupling | oupling | | | | | | | loss** _| loss_** | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | ** | ** | ** | ** | ** | ** | | | _144_**|_154_** | _164_**|_144_** | _154_**|_164_** | +---------+---------+---------+---------+---------+---------+---------+ | _Tsync |_ 500 _|_ 500 _|_ 1125 _|_ 500 _|_ 500 _|_ 1125 _| | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TPSI |_ 550 _|_ 550 _|_ 550 _|_ 550 _|_ 550 _|_ 550 _| | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TPRACH |_ 142 _|_ 142 _|_ 142 _|_ 142 _|_ 142 _|_ 142 _| | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TUp |_ 908 _|_ 921 _|_ 976 _|_ 908 _|_ 921 _|_ 976 _| | linkAss | | | | | | | | ignment | | | | | | | | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TUpl |_ 152 _|_ 549 _|_ 2755 _|_ 93 _|_ 382 _|_ 1964 _| | inkData | | | | | | | | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _Total |_ 2252 _|_ 2662 _|_ 6548 _|_ 2193 _|_ 2405 _|_ 4767 _| | time | | | | | | | | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+
Table 7.2.4.4-2: Latency for exception report delivery with 99% reliability
+---------+---------+---------+---------+---------+---------+---------+ | **Act | * | * | | | | | | ivity** | _Report |_ Report | | | | | | | with no | with | | | | | | | header | header | | | | | | | compre | compre | | | | | | | ssion**| ssion** | | | | | | | | | | | | | | | **(100 |**(65 | | | | | | | byte | byte | | | | | | | pay | pay | | | | | | | load)**| load)** | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | **_C |_** C | | | | | | | oupling | oupling | | | | | | | loss** _| loss_** | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | ** | ** | ** | ** | ** | ** | | | _144_**|_154_** | _164_**|_144_** | _154_**|_164_** | +---------+---------+---------+---------+---------+---------+---------+ | _Tsync |_ 500 _|_ 500 _|_ 1125 _|_ 500 _|_ 500 _|_ 1125 _| | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TPSI |_ 550 _|_ 550 _|_ 550 _|_ 550 _|_ 550 _|_ 550 _| | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TPRACH |_ 142 _|_ 142 _|_ 142 _|_ 142 _|_ 142 _|_ 142 _| | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TUp |_ 908 _|_ 921 _|_ 976 _|_ 908 _|_ 921 _|_ 976 _| | linkAss | | | | | | | | ignment | | | | | | | | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TUpl |_ 152 _|_ 549 _|_ 2755 _|_ 93 _|_ 382 _|_ 1964 _| | inkData | | | | | | | | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TUp |_ 933 _|_ 393 _|_ 632 _|_ 958 _|_ 540 _|_ 154 _| | linkAck | | | | | | | | (ms) | | | | | | | | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TUp | ** | ** | ** | ** | ** | ** | | linkAss |_ 908** _|_ 921** _|_ 976** _|_ 908** _|_ 921** _|_ 976** _| | ignment | | | | | | | | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _TUpl | ** | ** | *** | * | ** | *** | | inkData |_ 152** _|_ 549** _| 2755_**|** 93** _|_ 382** _| 1964_ __| | (ms)_ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | _Total | _4236_ | _4525_ | _9911_ | _4152_ | _4338_ | _7851_ | | time | | | | | | | | (ms)* | | | | | | | +---------+---------+---------+---------+---------+---------+---------+
With NB-OFDMA it is possible to send uplink data packets using shorter payload
thus reduce the time it takes to re-transmit the required portions of the
report. With this approach the initial time to transmit the report is
essentially the same (addition of MAC layer overhead). For example, taking the
100 byte payload at 164 dB MCL and transmitting this using 2 MAC blocks and at
10% BLER only one of the two MAC blocks need to be re-transmitting hence
easily bringing the total time with retransmission even lower with 1% or lower
BLER.
Note.
Conformance to the GMSK PSD mask remains to be evaluated (see Annex D, table
D.1. Note 3).
For PDSCH , no power reduction due to PAPR is assumed.
Gb architecture was assumed.
#### 7.2.4.5 Battery life evaluation
##### 7.2.4.5.1 General
Battery life evaluation is done as per subclause5.4 but results are provided
for 90% reliability (no retransmissions) and 99% reliability (1 retransmission
for 10% of MAC data blocks). NB-OFDMA physical layer design allows 100 bytes
per MAC data block. For 200-byte report one of the two MAC blocks need to be
retransmitted but for 50 bytes only one MAC block is transmitted hence same
block re-transmitted.
##### 7.2.4.5.2 Assumptions
The mobile station will operate in one of four states each with an associated
power consumption. These states are given in the Table 7.2.4.5-1 below:
Table 7.2.4.5-1: Power consumption assumptions
+----------------+-------------------------+-------------------------+ | **_Activity_** | **_Power consumption_** | **_Comments_** | | | | | | | **_(mW)_** | | +----------------+-------------------------+-------------------------+ | TX active | 545 | Transmitter active at | | | | +23 dBm, assuming 44% | | | | PA efficiency and 90 mW | | | | for other analog and | | | | baseband circuitry | +----------------+-------------------------+-------------------------+ | RX active | 90 | Analog RF and digital | | | | baseband processing for | | | | active receiver | +----------------+-------------------------+-------------------------+ | Idle | 3 | Maintenance of | | | | precision oscillator | | (light sleep) | | reference for RF | | | | synthesizers | +----------------+-------------------------+-------------------------+ | Deep Sleep | 0.015 | Low power crystal, | | | | sleep counters and | | | | state machine | +----------------+-------------------------+-------------------------+
Note.
Conformance to the GMSK PSD mask remains to be evaluated (see Annex D, table
D.1. Note 3).
For PDSCH , no power reduction due to PAPR is assumed.
Gb architecture was assumed.
##### 7.2.4.5.3 Protocol analysis
To accomplish an uplink transmission the mobile station has to wake from deep
sleep and establish synchronization with its serving cell. This is
accomplished by searching for the primary synch channel (PSS) and then
decoding the secondary synch channel and broadcast channel to verify cell
parameters. Once synchronization is established the mobile station will
transmit an access channel burst (PRACH) to request uplink transmission slot
and monitor the control channel (PDCCH) for the assignment. The UE will then
transmit data in the assigned slot, receive the PDCCH for acknowledgement and
downlink assignment, receive the downlink data packet and acknowledge the
downlink data.
Figure 7.2.4.5-1: Protocol diagram for uplink transmission
After the transaction is complete mobile station enters normal idle mode,
monitoring primary system information for a paging indication. This indication
is carried in slots 0 and 1 of the PBCH and requires receiving for 11.9ms once
every second (fastest normal paging DRx.)
##### 7.2.4.5.4 PSS search time
Time to search and identify the PSS channel is based on the uncertainty
introduced by the accuracy of the low power sleep crystal and the mean time to
detect the PSS channel. The sleep crystal oscillator is assumed to have an
accuracy of [+]{.underline}20ppm which translates into an ambiguity of 144
msec for the two hour sleep interval and 1728 msec for the 24 sleep interval.
Because the PSS channel is repeated at 125 msec intervals the search time to
the first PSS segment is less than the crystal ambiguity and it can be assumed
the search time to first PSS is uniformly distributed in the range 0 to 125
msec, with a mean of 62.5 msec.
Figure 7.2.4.5-2 below shows the CDF of time to detection of PSS channel for
different MCL values.
{width="3.7604166666666665in" height="3.0104166666666665in"}
Figure 7.2.4.5-2: Synchronization Latency CDF
The mean PSS search time is computed as the sum of the PDF of period times the
latency to each period and increased to the next integer period. The mean PSS
detection time is given in Table 7.2.4.5-2 below.
Table 7.2.4.5-2: Mean time to sync
+-------------------+----------------+------------+------------------------------+ | **Coupling Loss** | **# Periods** | **Time** | **Time with Ambiguity (ms)** | | | | | | | **(dB)** | | **(msec)** | | +-------------------+----------------+------------+------------------------------+ | 144 | 1 | 125 | 187.5 | +-------------------+----------------+------------+------------------------------+ | 154 | 2 | 250 | 312.5 | +-------------------+----------------+------------+------------------------------+ | 164 | 4 | 500 | 562.5 | +-------------------+----------------+------------+------------------------------+
The PSS and SSS segments occupy a total of 3.5 msec to receive. To account for
the start of frame ambiguity there may be an idle period of between 0 and 7
PSS segment periods between detection of the PSS segment and the PBCH segment.
For the 2 hours periodicity case it is assumed to be an average of 1 PSS
segment period and for the 24 periodicity an average of 4 PSS segment period.
##### 7.2.4.5.5 Protocol times
Once the start of the frame is established the other channels have a known
relationship and the RX or TX timing depends on the channel segment duration.
The table below lists the channel durations and idle times between channel
segments. These times are based on the segment sizes and slot structures as
defined in clause 7.2.1.
Table 7.2.4.5-3: Activity times for protocol elements
+-----------------+-----------------+------------+------------+------+ | **Activity** | **Duration |** State**| | | | | (msec)** | | | | +-----------------+-----------------+------------+------------+------+ | | **144 dB** | **154 dB** | **164 dB** | | +-----------------+-----------------+------------+------------+------+ | PSCH | 187.5 | 312.5 | 562.5 | RX | +-----------------+-----------------+------------+------------+------+ | PBCH -- Primary | 11.925 | 11.925 | 11.925 | RX | | System | | | | | | Information | | | | | +-----------------+-----------------+------------+------------+------+ | PRACH | 25.55 | 38.325 | 76.65 | TX | +-----------------+-----------------+------------+------------+------+ | Mean IDLE PRACH | 940.4 | 934 | 914.8 | IDLE | | to PDCCH | | | | | +-----------------+-----------------+------------+------------+------+ | PDCCH | 13.416 | 26.831 | 80.494 | RX | | (assignment/ack | | | | | | for initial Tx) | | | | | +-----------------+-----------------+------------+------------+------+ | PDCCH | 13.416 | 26.831 | 80.494 | RX | | (assignment/ack | | | | | | for | | | | | | retransmission) | | | | | +-----------------+-----------------+------------+------------+------+ | Mean IDLE PDCCH | 1447.8 | 1029 | 666.5 | IDLE | | to PUSCH to | | | | | | PDSCH | | | | | | | | | | | | 50 bytes. | | | | | +-----------------+-----------------+------------+------------+------+ | Mean IDLE PDCCH | 1340.5 | 1134.6 | 1089 | IDLE | | to PUSCH to | | | | | | PDSCH | | | | | | | | | | | | 200 bytes | | | | | +-----------------+-----------------+------------+------------+------+ | 50 Byte PUSCH | 47.7 | 453.15 | 1788.75 | TX | | (initial Tx) | | | | | +-----------------+-----------------+------------+------------+------+ | 50 Byte PUSCH | 47.7 | 453.15 | 1788.75 | TX | | ( | | | | | | retransmission) | | | | | +-----------------+-----------------+------------+------------+------+ | 200 Byte PUSCH | 155.025 | 1347.525 | 5366.25 | TX | | (initial Tx) | | | | | +-----------------+-----------------+------------+------------+------+ | 100 Byte PUSCH | 77.51 | 673.76 | 2683.13 | TX | | (1 MAC block | | | | | | retransmission) | | | | | +-----------------+-----------------+------------+------------+------+ | Mean IDLE PDCCH | 1429 | 1370.9 | 1201 | IDLE | | to PDSCH to | | | | | | PUCCH | | | | | +-----------------+-----------------+------------+------------+------+ | 50 Byte PDSCH | 83.3 | 154.7 | 297.5 | RX | +-----------------+-----------------+------------+------------+------+ | PUCCH (ACK) | 5.9625 | 5.9625 | 5.9625 | TX | +-----------------+-----------------+------------+------------+------+
##### 7.2.4.5.6 Results
Assembling the modelled transaction from the times above for the uses cases
defined in this TR we get the results for battery lifetime in years for a 5
W-hr battery as shown in Table 7.2.4.5-4 and Table 7.2.4.5-5.
Table 7.2.4.5-4: Battery life without re-transmission
* * *
**Battery Life in Years for 5 W-hr cell**  
**Packet size, report interval** **Maximum Coupling Loss**  
**GPRS + 0dB (144dB)** **GPRS + 10dB (154 dB)** **GPRS +20 dB (164 dB)**
50 Bytes, 2 hours 19.6 9.1 3.3 200 Bytes, 2 hours 15.3 4.4 1.3 50 Bytes, 1 day
35.3 30.1 20.4 200 Bytes, 1 day 33.9 23.2 11.3
* * *
Table 7.2.4.5-5: Battery life with re-transmission for 10% of the reports
* * *
**Battery Life in Years for 5 W-hr cell**  
**Packet size, report interval** **Maximum Coupling Loss**  
**GPRS + 0dB (144dB)** **GPRS + 10dB (154 dB)** **GPRS +20 dB (164 dB)**
50 Bytes, 2 hours 19.4 8.6 3.1 200 Bytes, 2 hours 15.0 4.2 1.2 50 Bytes, 1 day
35.2 29.6 19.6 200 Bytes, 1 day 33.7 22.8 10.9
* * *
## 7.3 Narrow Band Cellular IoT (NB-CIoT)
### 7.3.1 General
#### 7.3.1.1 Design principles
Narrow Band Cellular IoT (NB-CIoT) is optimized for IoT communications
according to the study objectives, whilst also taking into account the
following considerations:
\- Compatibility with stand-alone deployments in a low minimum system
bandwidth in order to support a variety of deployment options, including re-
farming GSM carriers.
\- Compatibility with the battery technologies that are used in low cost IoT
products by constraining the maximum MS transmit power and so the peak current
drawn from the battery.
The NB-CIoT physical layer uses a minimum system bandwidth of 200 kHz on both
downlink and uplink. In each direction, the 200 kHz channel is divided into
narrow bandwidth subcarriers: 48 on the downlink and 36 on the uplink, as
illustrated in Figure 7.3.1.1-1. Frequency re-use is applied across the system
by dividing the available subcarriers between cells / sectors. One of the key
motivations for partitioning the channel into subcarriers is to enable
communications with MSs that have lower peak transmit power but have the worst
case coverage defined by the coverage extension objective of the study.
Figure 7.3.1.1-1: Downlink and uplink channelization used for NB-CIoT solution
On the downlink, Orthogonal Frequency Division Multiple Access (OFDMA) is
adopted. The key benefits of the downlink design are:
\- High bandwidth efficiency and flexible time/frequency resource
provisioning.
\- Straightforward support for frequency hopping to facilitate interference
management.
\- A wideband synchronization signal allows devices to achieve fast and
accurate acquisition.
\- A multi-subcarrier broadcast channel reduces power consumption to receive
periodic paging and system information messages.
\- Potential to reduce interference to co-located LTE in adjacent channels due
to the selected PHY numerology.
On the uplink, Frequency Division Multiple Access (FDMA) is adopted. Multiple
MSs can transmit simultaneously using different subcarriers which is
beneficial for uplink capacity. In contrast with OFDMA, each subcarrier is
modulated and pulse-shaped as an individual carrier. The pulse-shaping ensures
that users operating on adjacent subcarriers are separated in frequency,
without requiring accurate time and frequency alignment. The key benefits of
the uplink design are:
\- Single-carrier GMSK modulation provides constant envelope modulation and
results in a power efficient, low complexity design for the MS transmitter.
\- Uplink sub-channel bonding allows higher data rates to be achieved for MS
devices which have good coverage, while retaining the benefits of constant
envelope modulation and low complexity implementation.
\- No timing advance is necessary because the uplink sub-channels are
separated in frequency rather than relying on maintaining orthogonality
between different users.
\- Optional support for single-carrier PSK modulation provides higher uplink
data rates and improved spectral efficiency.
Uplink subcarrier bonding is illustrated in Figure 7.3.1.1-2, which shows a
subset of a 200 kHz channel. Multiple uplink subcarriers are bonded together
to provide a wider bandwidth subcarrier, such that a single carrier occupies
the wider bandwidth. This allows MSs with better link budget to transmit at
higher data rates and so with lower energy consumption by reducing the
transmit time.
{width="3.859027777777778in" height="2.8854166666666665in"}
Figure 7.3.1.1-2: Example of bonded uplink subcarriers in NB-CIoT solution
The overall solution is intended to enable low system complexity and robust
operation from the perspective of the MS. For example, the system design
avoids fast, closed-loop feedback to control power levels, frequency, and
timing. Well-known modulation techniques are used on both the downlink (PSK,
16QAM) and uplink (GMSK, PSK).
The MAC layer of the NB-CIoT solution is optimized to deliver datagrams of a
few bytes to a few hundred bytes with good over-the-air protocol efficiency.
In addition, the design supports long DRX cycles to optimize battery life.
#### 7.3.1.2 Design targets
##### 7.3.1.2.1 Coverage extension
One of the objectives defined in the study item description is to achieve 20
dB coverage extension compared with legacy GPRS. The target for the NB-CIoT
solution is to achieve this coverage extension objective while limiting the
maximum MS transmit power to 23 dBm.
The key design choice for NB-CIoT in this respect is to introduce Frequency
Division Multiple Access (FDMA) across narrow-band subcarriers for the uplink.
Individual MSs are allocated a particular uplink subcarrier for their
transmissions, and multiple MSs can transmit simultaneously on different
uplink subcarriers. The subcarrier bandwidth is chosen to meet the system
coupling loss objective given the maximum MS transmit power. Although the
maximum data rate per subcarrier is reduced in accordance with the subcarrier
bandwidth, the uplink capacity is not negatively impacted since multiple MSs
can transmit simultaneously using different subcarriers.
Other techniques such as low coding rates and burst repetition are employed in
the uplink and the downlink to extend the coverage. The solution defines a
distributed pilot structure within each subcarrier that allows coherent
combining of burst repetitions to maximize processing gain. For the downlink,
it is possible to use adaptive power allocation, combined with frequency
hopping, to provide increased transmit power to extreme coverage devices, but
this is not evaluated in this study.
##### 7.3.1.2.2 Battery life
The target for the NB-CIoT solution is to achieve good energy efficiency while
at the same time ensuring that the solution is compatible with the battery
technologies that are appropriate for low cost IoT products. For example,
primary cell batteries may be preferred to provide long life-time due to their
low self-discharge rate, but they have a limited peak current capability.
The NB-CIoT solution is therefore designed to achieve the 20 dB coverage
extension target with a maximum MS transmit power of 23 dBm (200 mW), which is
a factor of ten lower than the maximum output power of legacy GPRS devices
operating at 33 dBm (2W). For MSs that have sufficiently good link budget,
multiple uplink subcarriers can be bonded together, which allows higher uplink
data rates and so reduces MS power consumption due to the shorter duration
transmissions.
##### 7.3.1.2.3 MS complexity
One of the objectives defined in the study item is to support ultra-low
complexity MS implementations. The NB-CIoT solution adopts PHY and MAC layer
design techniques that are intended to be compatible with this objective, for
example:
\- Relatively low maximum MS transmit power of 23 dBm, with support for
constant envelope uplink modulation. These choices allow the PA to be operated
in saturation for maximum output power and high efficiency, and may facilitate
PA integration into a single-chip device.
\- Downlink uses OFDM modulation which allows very efficient demodulation
based on an FFT. This may allow the use of a low complexity DSP core, using a
lower clock frequency, within the modem implementation.
\- Synchronization is achieved with a wideband downlink signal to overcome
large initial carrier frequency errors and can be implemented with low
receiver complexity.
\- Uplink uses single-carrier modulation which is narrow bandwidth and has
zero or low peak-to-average power ratio, resulting in a lower complexity
transmitter implementation.
\- The MAC design uses a half-duplex RF transceiver and avoids the need for
fast transmit/receive turn-around, with the aim to minimize peak processing
load in the modem implementation.
##### 7.3.1.2.4 System bandwidth and deployment options
One of the design goals for NB-CIoT is to provide a stand-alone IoT
communications technology with a low minimum system bandwidth. One option is
to deploy the system in a duplex GSM channel pair as described above. Other
options may be possible.
Due to the nature of Cellular IoT traffic, it may not be necessary to have a
large system bandwidth to achieve sufficient capacity in terms of number of
supported MSs per cell. In fact, it is beneficial to support a low minimum
system bandwidth because this conserves spectrum and reduces MS complexity.
Therefore, the NB-CIoT solution is designed to be deployed in a minimum system
bandwidth of 200 kHz (FDD) for the entire IoT network (potentially with some
additional guard bands depending on the nature of other systems occupying the
adjacent spectrum).
The NB-CIoT system can also be deployed in a system bandwidth that is a
multiple of 200 kHz, to provide scalable capacity. Multiple 200 kHz channels
can be contiguous or non-contiguous in the frequency domain and shared by
multiple cell sectors depending on frequency planning. Applying frequency
hopping across multiple 200 kHz channels can provide more interference
randomization and furthermore can provide increased diversity gain with
sufficiently separated channels.
A frequency re-use of 1/3 within the 200 kHz allocation is typically envisaged
for initial deployments to ensure robust network operation with respect to
inter-cell interference. This is compatible with the spectral properties of
the narrow-band modulation, and requires no timing synchronization between
base stations or coordinated scheduling between cells. Higher frequency re-use
factors are allowed by the protocol design, but are not evaluated in this
study.
##### 7.3.1.2.5 System Capacity
The NB-CIoT solution aims to achieve sufficient system capacity to meet the
study objective while having a low minimum system bandwidth and a maximum MS
transmit power of 23 dBm. The key design choice is the use of narrow
subcarriers, which is particularly important for the uplink as it allows
multiple MSs to transmit simultaneously and compensates for the adoption of a
lower maximum MS transmit power.
The NB-CIoT solution supports multiple coverage classes. The number of
coverage classes is configurable by System Information, but an example
configuration is:
\- Normal coverage class, similar to legacy GPRS coverage.
\- Extended coverage class, corresponding to about 10 dB improvement relative
to legacy GPRS.
\- Extreme coverage class, corresponding to 20 dB improvement relative to
legacy GPRS.
The different coverage classes correspond to operation with different
modulation orders, coding rates, spreading factors, repetition factors, and
subcarrier bonding factors, in order to match the data rate for each MS to its
available link budget. This allows MSs that have good coverage to operate at
higher data rates and with lower latency than MSs that have poor coverage.
This is achieved by having a control channel time interval that scales
according to the coverage class. Therefore, the system is designed to meet the
throughput and latency requirements for devices requiring extreme coverage
extension, whilst devices in normal or extended coverage achieve improved
performance in these respects.
The system segregates devices onto different physical layer resources
according to required coverage class, which optimizes overall capacity. Also,
the protocol design minimizes the over-the-air overheads associated with
scheduling and transmitting relatively short datagrams.
### 7.3.2 Downlink physical layer design
#### 7.3.2.1 Frequency channelization and reuse
A 200 kHz channel is divided into a number of subcarriers and guard bands as
shown in Figure 7.3.2.1-1. The fundamental parameters are:
\- Subcarrier bandwidth = 3.75 kHz.
\- Usable subcarriers = 48 = 180 kHz.
\- Guard bandwidth to adjacent 200 kHz channels at either end = 10 kHz.
The 48 usable subcarriers are numbered from the lowest to highest frequency as
0, 1, .. 47. Subcarrier 24 is the DC subcarrier and will not be used. In
addition, subcarriers 15 and 32 are reserved for future enhancement and are
not used by normal data and control channels. Consequently, a total of 45
subcarriers are available for data and control channels.
For frequency reuse-1/3, each sector uses a contiguous 15 subcarriers. The
subcarriers that are designated to data and control channels will be called
_allocated_ _subcarriers_ and they are indexed as 0, 1, 2, ..., K, where K=44
for frequency reuse-1, or K=14 for frequency reuse-1/3.
Figure 7.3.2.1-1: Downlink channelization
#### 7.3.2.2 Time-domain frame and slot structure
With subcarrier bandwidth of 3.75 kHz and FFT length of 64, the sampling rate
is 240 k samples per second.
The duration of a frame is 1.28 seconds. A total of 64 frames constitute a
super frame and 1024 super frames make up a hyper frame, as shown in Figure
7.3.2.2-1.
Figure 7.3.2.2-1: Hyper and super frames
A frame is divided into 8 subframes of equal duration and each subframe
consists of 32 slots. The last slot of a subframe is always used for the
synchronization signal. Each of the remaining 31 slots is composed of 17 OFDMA
symbols, as shown in Figure 7.3.2.2-2.
Figure 7.3.2.2‑2: Downlink frame structure
Each OFDMA symbol, except for the first symbol of a slot, has 70 samples in
which the 6 leading samples are the cyclic prefix (CP). The first symbol of a
slot has 16 CP samples. The extra 10 CP samples of duration 41.667 µs provides
the necessary time for transmit/receive switching and AGC adjustment at the MS
receiver. The structure of a normal slot is shown in Figure 7.3.2.2-3.
Figure 7.3.2.2‑3: Downlink normal slot structure
In the downlink, pilot signals are always transmitted in all the subcarriers
allocated to the cell (i.e. 15 subcarriers for 1/3 reuse and 45 subcarriers
for 1/1 reuse). The pilot pattern of a cell is not affected by hopping. Within
each normal slot, there are two pilot symbols per subcarrier, separated by
exactly 7 data symbols. In addition, the first pilot symbol of an even-
numbered subcarrier and that of an odd-numbered subcarrier are always
separated in time by 3 symbols, and so do the second pilot symbols. For
example, a cell may have symbols 2 & 10 for even-numbered allocated
subcarriers and symbols 6 & 14 for odd-numbered allocated subcarriers. This
example pilot pattern for a sector allocated with subcarriers around the DC
carrier in a frequency reuse-1/3 deployment is illustrated in Figure
7.3.2.2-4.
Figure 7.3.2.2‑4: Downlink pilot pattern
#### 7.3.2.3 Downlink transport channels
There are 4 different transport channels, and their time and frequency
allocations are shown in Figure 7.3.2.3-1. The four downlink transport
channels are:
\- Physical Synchronization Channel (PSCH) -- for initial system time and
frequency acquisition. It is transmitted in the last slot of each subframe.
\- Physical Broadcast Channel (PBCH) -- for network and cell specific
configuration information. It occupies 5 contiguous slots in each even-
numbered subframe.
\- Physical Downlink Control Channel (PDCCH) --which carries paging, RACH
response, DL/UL assignment, ACK to PUSCH. A portion of the subcarriers of all
the 31 slots of each odd-numbered subframe is allocated to PDCCH.
\- Physical Downlink Shared Channel (PDSCH) -- for traffic. Any resource that
is not allocated to PSCH, PDCCH and PBCH can be used by PDSCH.
Within PDSCH, different segments are time/frequency multiplexed depending on
resource allocation algorithm.
Figure 7.3.2.3-1: Time and frequency allocation of downlink transport channels
##### 7.3.2.3.1 Broadcast channel
The downlink Physical Broadcast channel (PBCH) carries system information for
the cell. In a frame, a total of 4 PBCH resource blocks are allocated, one
within each even-numbered subframe. The same message is transmitted 4 times,
once in each resource block, to allow large coding gain and time diversity. A
PBCH resource block consists of 15 subcarriers and spans 5 slots.
In the case of frequency reuse-1, the remainder of the subcarriers in the PBCH
slots can be used by PDSCH.
A PBCH resource block starts from slot 0 of a subframe.
Within each PBCH resource block, 2 slots are used to carry the Primary System
Information message and the other 3 slots are used to carry the remaining
system information messages. The Primary System Information message carries
the frame number hence its content changes every frame, while the contents of
the remaining System Information messages are not expected to change every
frame. The PBCH modulation and coding is designed to cater for the worst path
loss, hence the same channel is received by all mobile stations within a cell.
Further details of broadcast information sent on PBCH is provided in subclause
7.3.5.1.
The modulation and coding schemes for PBCH are given in Table 7.3.2.3-1.
Table 7.3.2.3-1: PBCH coding and modulation schemes
+---------+---------+---------+---------+---------+---------+---------+ | Purpose | Payload | No. of | Number | Coding | Mod | Rep | | | size | subc | of | rate | ulation | etition | | | (Bits) | arriers | Slots | | | | | | | | | | | | | | (in | | | | | | | | cluding | | | | | | | | CRC) | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Carry | 44 | 15 | 2 | 0.098 | BPSK | 4x | | PSI | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Carry | ≤72 | 15 | 3 | \ 1), the repetitions are contiguous
in time and the GMSK shaping is applied continuously across the multiple
repetitions.
**Class-2 modulation**
For Class-2 modulation, the I and Q samples after phase rotation are pulse
shaped with a root-raised cosine filter, which is defined as:
{width="5.768055555555556in" height="1.5138888888888888in"}
where Ts = 1/3750 for unbonded subcarriers and Ts = 1/(3750*B) for bonded
subcarriers with a bonding factor of B. The root-raised cosine roll-off
factor, β, is 0.3.
In the case that burst repetitions are employed to provide increased
processing gain (i.e. repetition factor > 1), the repetitions are contiguous
in time and the pulse shaping filter is applied continuously across the
multiple repetitions.
##### 7.3.3.1.3.8 Modulation and coding scheme tables {#modulation-and-coding-
scheme-tables .H6}
**Class-1 modulation**
Table 7.3.3.1-2 shows the supported Modulation and Coding Schemes (MCS) for
Class-1 for the PUSCH. The PHY data rates shown in the table take account of
pilot overheads, but they are approximate as the exact data rate depends on
the code block size due to the rate matching process.
MCS-0 and MCS-1 may be appropriate for very short code blocks such as used for
random access and for uplink acknowledgements of downlink data.
Table 7.3.3.1-2: Modulation and coding schemes for PUSCH, Class-1
* * *
MCS\ Modulation Code\ Bonding\ Repetition\ PHY data rate (kbps) index rate
factor factor
0 GMSK 1/3 1 16 0.058
1 GMSK 1/3 1 8 0.115
2 GMSK 1/3 1 4 0.229
3 GMSK 1/3 1 3 0.306
4 GMSK 1/3 1 2 0.458
5 GMSK 1/3 1 1 0.917
6 GMSK 2/3 1 1 1.83
7 GMSK 2/3 2 1 3.67
8 GMSK 2/3 4 1 7.33
9 GMSK 2/3 8 1 14.7
* * *
Table 7.3.3.1-3 shows the supported Code Block Sizes (CBS) for Class-1 for
PUSCH. The valid CBS indexes for each MCS have been derived by limiting the
maximum CBS to 2048 bits (256 bytes) and also limiting the maximum duration of
an uplink transmission including the burst repetitions.
Table 7.3.3.1-3: Code block size for PUSCH, Class-1
+-------------------+-------+-------------------+-------------------+ | MCS\ | CBS\ | CBS^2^\ | Burst | | index | index | (bits) | duration^1^\ | | | | | (ms) | +-------------------+-------+-------------------+-------------------+ | 0 | 0-8 | CBS = | ( | | | | map((CBS\ | CBS_index+1)*40 | | | | _index+1)*110/3) | | +-------------------+-------+-------------------+-------------------+ | 1 | 0-17 | | | +-------------------+-------+-------------------+-------------------+ | 2 | 0-35 | | | +-------------------+-------+-------------------+-------------------+ | 3 | 0-47 | | | +-------------------+-------+-------------------+-------------------+ | 4 | | | | +-------------------+-------+-------------------+-------------------+ | 5 | | | | +-------------------+-------+-------------------+-------------------+ | 6 | 0-27 | CBS = | | | | | map((CBS_in | | | | | dex+1)*2*110/3) | | +-------------------+-------+-------------------+-------------------+ | 7 | | | ( | | | | | CBS_index+1)*20 | +-------------------+-------+-------------------+-------------------+ | 8 | | | ( | | | | | CBS_index+1)*10 | +-------------------+-------+-------------------+-------------------+ | 9 | 0-13 | CBS = | | | | | map((CBS_in | | | | | dex+1)*4*110/3) | | +-------------------+-------+-------------------+-------------------+ | Note 1: Burst | | | | | duration is for a | | | | | single repetition | | | | | (the overall | | | | | transmission | | | | | duration is | | | | | obtained by | | | | | multiplying the | | | | | burst duration by | | | | | the repetition | | | | | factor for the | | | | | MCS). | | | | | | | | | | Note 2: This is | | | | | the number of | | | | | data bits at the | | | | | input to the | | | | | Turbo encoder. | | | | | The definition of | | | | | map(x) function | | | | | is given below, | | | | | where round() | | | | | means rounding to | | | | | the nearest | | | | | integer where | | | | | round(0.5) = 1: | | | | | | | | | | if x ≤ 512 | | | | | | | | | | map(x) = | | | | | roun | | | | | d((x-40)/8)*8+40 | | | | | | | | | | else if x ≤ 1024 | | | | | | | | | | map(x) = | | | | | round((x | | | | | -512)/16)*16+512 | | | | | | | | | | else | | | | | | | | | | map(x) = | | | | | round((x-1 | | | | | 024)/32)*32+1024 | | | | +-------------------+-------+-------------------+-------------------+
**Class-2 modulation**
Table 7.3.3.1-4 shows the supported Modulation and Coding Schemes (MCS) for
Class-2 for the PUSCH. The PHY data rates shown in the table take account of
pilot overheads, but they are approximate as the exact data rate depends on
the code block size due to the rate matching process.
A subcarrier bonding factor of 8 is optional for the MS due its increased
implementation complexity, especially due to the higher bandwidth of the phase
component of the Class-2 modulation in comparison with Class-1 modulation with
the same bonding factor.
MCS-0 and MCS-1 may be appropriate for very short code blocks such as used for
random access and for uplink acknowledgements of downlink data.
Table 7.3.3.1-4: Modulation and coding schemes for PUSCH, Class-2
* * *
MCS\ Modulation Code rate Bonding\ Repetition\ PHY data rate (kbps) index
factor factor
0 π/2-BPSK 1/3 1 16 0.063
1 π/2-BPSK 1/3 1 8 0.125
2 π/2-BPSK 1/3 1 4 0.25
3 π/2-BPSK 1/3 1 3 0.33
4 π/2-BPSK 1/3 1 2 0.50
5 π/2-BPSK 1/3 1 1 1.0
6 π/4-QPSK 1/3 1 1 2.0
7 π/4-QPSK 2/3 1 1 4.0
8 π/4-QPSK 2/3 2 1 8.0
9 π/4-QPSK 2/3 4 1 16.0
10 π/4-QPSK 2/3 8 1 32.0
11 π/8-8PSK 2/3 8 1 48.0
* * *
Table 7.3.3.1-5 shows the supported Code Block Sizes (CBS) for Class-2 for
PUSCH. The valid CBS indexes for each MCS have been derived by limiting the
maximum CBS to 2048 bits (256 bytes) and also limiting the maximum duration of
an uplink transmission including the burst repetitions.
Table 7.3.3.1-5: Code block size for PUSCH, Class-2
+-------------------+-------+-------------------+-------------------+ | MCS\ | CBS\ | CBS^2^\ | Burst | | index | index | (bits) | duration^1^\ | | | | | (ms) | +-------------------+-------+-------------------+-------------------+ | 0 | 0-8 | CBS = | ( | | | | map((CBS\ | CBS_index+1)*40 | | | | _index+1)*120/3) | | +-------------------+-------+-------------------+-------------------+ | 1 | 0-17 | | | +-------------------+-------+-------------------+-------------------+ | 2 | 0-35 | | | +-------------------+-------+-------------------+-------------------+ | 3 | 0-47 | | | +-------------------+-------+-------------------+-------------------+ | 4 | | | | +-------------------+-------+-------------------+-------------------+ | 5 | | | | +-------------------+-------+-------------------+-------------------+ | 6 | 0-24 | CBS = | | | | | map((CBS_in | | | | | dex+1)*2*120/3) | | +-------------------+-------+-------------------+-------------------+ | 7 | 0-11 | CBS = | | | | | map((CBS_in | | | | | dex+1)*4*120/3) | | +-------------------+-------+-------------------+-------------------+ | 8 | | | ( | | | | | CBS_index+1)*20 | +-------------------+-------+-------------------+-------------------+ | 9 | | | ( | | | | | CBS_index+1)*10 | +-------------------+-------+-------------------+-------------------+ | 10 | 0-5 | CBS = | | | | | map((CBS_in | | | | | dex+1)*8*120/3) | | +-------------------+-------+-------------------+-------------------+ | 11 | 0-3 | CBS = | | | | | map((CBS_ind | | | | | ex+1)*12*120/3) | | +-------------------+-------+-------------------+-------------------+ | Note 1: Burst | | | | | duration is for a | | | | | single repetition | | | | | (the overall | | | | | transmission | | | | | duration is | | | | | obtained by | | | | | multiplying the | | | | | burst duration by | | | | | the repetition | | | | | factor for the | | | | | MCS). | | | | | | | | | | Note 2: This is | | | | | the number of | | | | | data bits at the | | | | | input to the | | | | | Turbo encoder. | | | | | The definition of | | | | | map(x) function | | | | | is as shown in | | | | | Table 7.3.3.1-3. | | | | +-------------------+-------+-------------------+-------------------+
#### 7.3.3.2 Physical layer procedure
##### 7.3.3.2.1 Uplink synchronization
The start timing of each uplink transmission from the MS is aligned to the
estimated timing of the downlink synchronization signals in PSCH and may also
be refined based on the estimated timing of the symbols in subsequent PDSCH
bursts. A guard period could be inserted, if needed, at one end of each uplink
burst in order to avoid the potential for a collision with a previous burst
from a different MS on the same physical uplink subcarrier, even with a worst
case difference in round trip delay between the two MS.
The uplink time of arrival (ToA) for a given MS is initially estimated by the
base station receiver using the pilot symbols contained in the uplink burst
corresponding to the random access request from the device. Tracking of the
uplink ToA can be performed based on subsequent uplink transmissions from the
device, using the pilot symbols in each burst. The estimated ToA is used by
the base station receiver for the demodulation of the uplink burst.
##### 7.3.3.2.2 Uplink power control
This subclause describes the procedure for open-loop uplink power control.
Closed-loop uplink power control could be supported in the future, if
required, using a power control field contained in downlink dedicated
signalling. The uplink PUSCH transmit power,, is defined by:
where
\- is the maximum allowed power that is configured by higher-layer signalling.
\- is the PUSCH power offset which is given as:
\- j=0 is used for UL-SCH transmissions, and are configured by higher layer
signalling. is configured by the base station for all MS in the same cell
sector and is configured per device. The default value of is set to zero if no
higher layer signalling for is available.
\- j=1 is used for RACH transmissions, and . is the initial target received
power for the RACH with the lowest MCS and is the step-size of RACH power
ramping. Both and are provided by higher layers. , where is the power offset
for RACH with MCS of index . The parameter depends on which is assumed to be 3
dB. is the transmission counter which corresponds to the N^th^ attempt of RACH
transmission. is set to zero.
\- is a scaling factor for the estimated downlink path loss, PL. For j=0, the
values of are indicated by higher layers. For j=1, .
\- is the downlink path loss (in dB) estimated by the MS according to =
_BaseStationPower_ \-- higher layer filtered SSRP, where _BaseStationPower_ is
provided by higher layers and SSRP is the measurement result at the MS.
##### 7.3.3.2.3 Uplink frequency hopping
Uplink frequency hopping, if enabled, is performed over the set of allocated
uplink subcarriers for the base station sector.
If uplink frequency hopping is enabled, a configurable frequency hopping
interval in the time domain is applied to all MSs that are operating in the
base station sector. The duration of the hopping interval is broadcast within
the system information. The minimum frequency hopping interval for the uplink
is 8 slots, corresponding to 40 ms, and the actual frequency hopping intervals
is an integral multiple of the minimum interval.
An uplink burst transmission is mapped to a number of hopping intervals
according to the burst configuration, though the burst does not necessarily
occupy the entire hopping interval for the first and last intervals.
For the case of non-bonded subcarriers, the allocated uplink subcarriers are
sorted in an ascending order of subcarrier index, and then a sorted set of _M_
subcarrier indices, () is obtained, where _M_ is the number of allocated
uplink subcarriers in the base station sector, and _N_ is the total number of
subcarriers supported over the available frequency band.
In the frequency domain, a virtual channel for the burst transmission is
derived based on scheduling information, broadcast information, base station
sector specific information, etc. The index of the virtual channel is denoted
as _I~CH~_. Given the burst mapping to the frequency hopping intervals and the
index of the virtual channel _I~CH~_ , the index of the subcarrier which is
physically occupied at the _k^th^_ hopping interval within a frequency hopping
cycle is derived according to:
, _m~k~=(I~CH~ + k × ∆~F~)_ mod _M_
where _k=0, 1, ...L-1_ and _L_ is the number of hopping intervals supported
within a frequency hopping cycle. The hopping step _∆~F~_ is signalled by the
broadcast information elements within the system information.
For subcarrier bonding factors of 2 and 4, the same hopping scheme is used as
for the non-bonding case, but with particular restrictions imposed on the
frequency hopping configuration, as follows:
\- The allocated uplink subcarriers in the base station sector should be
evenly distributed into multiple groups such that within each group the uplink
subcarriers are contiguous in frequency (consecutively indexed in the
frequency hopping scheme). The size of the group should be able to accommodate
the bonded subcarriers with configured maximum bonding factor.
\- The index of the starting uplink subcarrier within the set of bonded
subcarriers is used to label the corresponding aggregate subcarrier. In this
way, the subcarrier derived using the same hopping scheme as used for the non-
bonding case can be mapped to the corresponding aggregate subcarrier.
\- The hopping step should be able to support group hopping of the bonded
subcarriers within the allocated subcarriers.
For a subcarrier bonding factor of 8, the set of bonded subcarriers would be
segmented within the allocated uplink subcarriers for the base station sector
if the same frequency hopping scheme was used as for subcarrier bonding
factors of 2 and 4; this would result in destroying the single carrier
property. In order to preserve the single carrier property with a subcarrier
bonding factor of 8, an additional mirroring pattern is inserted periodically
within a frequency hopping cycle. The mirroring pattern performs a mirroring
function of the index of subcarriers within the set of the allocated
subcarriers in the base station sector. The frequency hopping step and maximum
bonding factor can be taken into account in the determination of the
appropriate mirroring interval. The mirroring interval is expressed as an
integer number of frequency hopping intervals, with a restriction that at
least one set of bonded subcarriers with maximum bonding size is not segmented
during the mirroring interval. The mirroring interval is configured in the
system information.
Given the index of the virtual channel $I_{\text{CH}}$ in a burst
transmission, the index of the subcarrier physically occupied at the _k_ -th
hopping interval within a frequency hopping cycle is derived according to:
where _L_ is the number of hopping intervals within a frequency hopping cycle,
_J_ is the mirroring interval in terms of the number of hopping intervals, and
_B_ is the number of bonded subcarriers (_B_ =1 for non-bonding case).
### 7.3.4 Link layer aspects
#### 7.3.4.1 Overview
The Link Layer sits between LLC (Gb) or PDCP (S1) and the physical layer.
The Link Layer is optimized for Cellular IoT devices, characterized by low
complexity, low throughput, extended coverage and long battery life, and
follows the design principles below:
\- The procedures are minimized to reduce complexity and power consumption:
\- System information acquisition;
> \- Cell selection and reselection;
\- Paging channel supervision.
\- RRM provides high efficiency of resource utilization:
\- RACH procedure;
\- Dynamic resource scheduling.
\- Basic reliability is needed for data transmission:
\- Segmentation and re-assembly;
\- Acknowledged mode data transfer using single process re-transmission
mechanism.
\- Short and long sleep modes are supported to reduce power consumption.
Unless specified otherwise, the MAC design is common to both Gb and S1
architectures.
NOTE: Some functions, e.g. system information acquisition, cell selection and
reselection, and paging supervision, may reside in another sub-layer, e.g.
RRC, in the final design.
#### 7.3.4.2 MS operating modes
A NB-CIoT MS operates in one of three modes:
\- Connected Mode
> \- Idle Mode
>
> \- Power Saving Mode
In Connected Mode, the MS is receiving PDCCH messages and transferring MAC
PDUs with NAS signalling and higher layer data PDUs over the air interface.
The MS can be configured to transition to either Idle Mode or Power Saving
Mode from Connected Mode when activity has not taken place for some time,
using a Connected Mode Release Timer. The Connected Mode Release Timer value
is either the same as the READY timer in the Gb architecture, or is broadcast
in the system information, or is the default value in the S1 architecture. The
choice of Idle Mode or Power Saving Mode is determined by whether Active Timer
has been set and its value.
In Idle Mode, the MS can be reached from the network and the base station can
trigger the MS to move back to Connected Mode. The MS may also transition from
Idle Mode to Power Saving Mode if the Active Timer is running and expires. In
Idle Mode, the MS wakes to receive paging messages from the base station at
Paging Occasions. If the MS is paged then it performs a random access
procedure, see clause 7.3.4.5, and enters Connected Mode.
In Power Saving Mode, the MS is unreachable from the network. The network has
to wait for the MS to wake and contact the base station using random access
with random number procedure and enter Connected Mode.
An overview of the three modes and the transitions between modes is shown in
figure 7.3.4.2-1.
Figure 7.3.4.2-1: MS Operating Modes
If the MS is in Idle Mode or Power Saving Mode and has uplink traffic then the
MS will either:
\- Initiate a random access procedure to enter Connected Mode, and then
transmit the uplink traffic; or
\- If the uplink traffic is latency tolerant then it may wait until more
uplink traffic is available, or wait until it has to respond to paging or it
needs to perform another procedure, for example RAU/TAU, before transmitting
the uplink traffic.
In all the modes, the MS can use random access to connect to the base station
and request resource. If the MS has a C-RNTI then the MS can use the random
access with C-RNTI procedure, otherwise it will use the random access with
random number procedure.
While the MS is in Idle Mode or Power Saving Mode, the MS will use deep sleep
and will configure itself to wake-up to receive paging or perform another
procedure, for example RAU/TAU. During deep sleep it is expected that only a
sleep clock is running. When the MS is in Connected Mode and is not
transmitting or receiving, it may use light sleep to reduce power consumption.
#### 7.3.4.3 Overview of the radio protocol structure
##### 7.3.4.3.1 Gb-based architecture
##### 7.3.4.3.1.1 Radio protocol structure {#radio-protocol-structure .H6}
The Gb architecture is connection-less and the user plane is terminated in the
Non Access Stratum.
Figure 7.3.4.3-1 illustrates the radio protocol structure in the Gb based
architecture.
Figure 7.3.4.3-1: Radio protocol structure in Gb architecture
The radio access layer above the physical layer consists just of the MAC sub-
layer, which handles both link layer and radio resource management functions.
The MAC sub-layer is a new protocol in the NB-CIoT solution and the details
are described in subclauses 7.3.4 and 7.3.5.
##### 7.3.4.3.1.2 Logical channel mapping {#logical-channel-mapping-1 .H6}
As the Gb interface is connection-less, data and signalling are terminated at
the MAC layer in the radio interface.
Logical channels are determined by the information carried within the physical
channel. Logical channels are used to carry data and signalling information.
Different logical channels are mapped in either direction onto physical
channels.
An example of channel mapping between logical channels and physical channels
is shown in Figure 7.3.4.3-2. The uplink mapping is shown with red lines, and
the downlink mapping is shown with blue lines.
Figure 7.3.4.3-2: Channel mapping for the Gb-based architecture
\- Physical channels
> The physical channels are described in subclauses 7.3.2 and 7.3.3.
\- Logical channels
> The logical channels are listed in Table 7.3.4.3-1. Each logical channel
> type defines which information is transferred on the radio interface.
Table 7.3.4.3-1: Logical channels for the Gb-based architecture
* * *
Logical channel name Acronym Downlink Uplink Description Random Access Channel
RACH X Carry random access request messages Dedicated Traffic Channel DTCH X X
Carry upper layer data (user data and NAS signalling) Dedicated Control
Channel DCCH X X Carry control messages (e.g. UL/DL assignment, UL/DL
acknowledgment, ...) Paging Control Channel PCCH X Carry paging messages
Broadcast Control Channel BCCH X Carry system information Synchronization
Channel SCH X Carry synchronization information and the physical cell ID
* * *
##### 7.3.4.3.2 S1-based architecture
##### 7.3.4.3.2.1 Radio protocol structure {#radio-protocol-structure-1 .H6}
The S1 architecture is connection-oriented. The user plane and the control
plane are terminated in the Access Stratum.
Figure 7.3.4.3-3 illustrates the radio protocol structure in the S1
architecture.
{width="5.176388888888889in" height="4.620833333333334in"}
Figure 7.3.4.3-3: Radio protocol structure in S1 architecture
In the S1 based architecture, the radio protocol structure is split between
user plane and control plane.
Layer 2 consists of the Medium Access Control (MAC) sub-layer and the Packet
Data Convergence Protocol (PDCP) sub-layer. The MAC sub-layer provides the
link layer functions, and the PDCP sub-layer provides header compression (user
plane only) and security functions. Layer 2 applies to both user plane and
control plane.
In the control plane, the Radio Resource Control (RRC) sub-layer terminates
the Layer 3 dedicated signalling between the MS and the base station and
handles the functions related to the control of the RRC connection as well as
the transport of the NAS signalling. The MAC sub-layer terminates the common
control channels and handles the functions related to the radio connection.
The RRC sub-layer is very simple compared to the equivalent protocol specified
in E-UTRAN in TS 36.331 [8]. There is no support for inter-RAT inter-working
and network controlled mobility, and only functions related to the control of
the RRC connection (RRC connection, data bearer and security) and transport of
the NAS signalling are needed. The RRC signalling is very limited and only one
signalling radio bearer (SRB) is needed to carry the control plane signalling
over DCCH. The devices support a single Default EPS Bearer Context, thus only
one data radio bearer (DRB) is needed to carry the user plane data over DTCH.
The PDCP sub-layer is a simplified version of the protocol specified in
E-UTRAN in TS 36.323 [18]. The following PDCP procedures are supported: UL
data transfer, DL data transfer, PDCP Discard, Header compression and
decompression, Ciphering and deciphering, Integrity protection and
verification procedures.
The MAC sub-layer is a new protocol in the NB-CIoT solution and the details
are described in subclauses 7.3.4 and 7.3.5.
##### 7.3.4.3.2.2 Logical channel mapping {#logical-channel-mapping-2 .H6}
Logical channels are determined by the information carried within the physical
channel. Logical channels are used to carry data and signalling information.
Different logical channels are mapped in either direction onto physical
channels
As the S1 interface is connection oriented, data and signalling are terminated
in the radio interface. The PDCP and RRC protocols are maintained to avoid
changes on the S1 interface and modifications to the MME. Data and signalling
are carried on logical channels between the PDCP/RRC layer and the MAC layer.
An example of channel mapping between logical channels and physical channels
is shown in Figure 7.3.4.3-4. The uplink mapping is shown with red lines, and
the downlink mapping is shown with blue lines.
Figure 7.3.4.3-4: Channel mapping for the S1-based architecture
NOTE: The transport channel details have been omitted from figure 7.3.4.3-4 to
align with figure 7.3.4.3-2 for Gb-based architecture.
\- Physical channels
> The physical channels are described in subclauses 7.3.2 and 7.3.3.
\- Logical channels
> The logical channels are listed in Table 7.3.4.3-2. Each logical channel
> type defines which information is transferred on the radio interface.
Table 7.3.4.3-2: Logical channels for the S1-based architecture
* * *
Logical channel name Acronym Downlink Uplink Description Random Access Channel
RACH X Carry random access request messages Dedicated Traffic Channel DTCH X X
Carry user data packets Dedicated Control Channel DCCH X X Carry control
messages ( (e.g. UL/DL assignment, UL/DL acknowledgment, RRC signalling, NAS
signalling) Paging Control Channel PCCH X Carry paging messages Broadcast
Control Channel BCCH X Carry system information Synchronization Channel SCH X
Carry synchronization information and the physical cell ID
* * *
#### 7.3.4.4 Scheduling
In NB-CIoT, the base station uses the Physical Downlink Control Channel
(PDCCH) to schedule uplink and downlink transmission allocations, including
normal data transmission, RACH Response, paging messages and other control
messages.
The PDCCH channel occupies multiple subcarriers and slots, and is used to
convey multiple PDCCH messages. A PDCCH message corresponds to the scheduling
of one MS and is encoded independently. The structure of the PDCCH messages is
indicated by the PDCCH configuration field in System Information.
Figure 7.3.4.4-1 is an example of scheduling for a MS.
Figure 7.3.4.4-1: Example Scheduling
In Figure 7.3.4.4-1, a MS receives the System Information (SI) after
synchronizing with the base station (1). The SI provides details of the
structure of PDCCH for each coverage class in each sub-frame. The MS then
receives the PDCCH message on the PDCCH corresponding to its coverage class
(e.g. CC2, as shown in Figure 2). The PDCCH message provides the timing and
subcarriers for a downlink allocation (DL1 (2)) or an uplink (UL1 (3))
allocation. The MS then receives DL1 or transmits UL1.
##### 7.3.4.4.1 PDCCH structure and reading on MS
In NB-CIoT, the overall PDCCH resource in a sub-frame is segmented into
coverage class resource blocks for multiple coverage classes, and then further
divided into PDCCH message resource blocks for multiple PDCCH messages.
Multiple PDCCH messages may be present for each coverage class. A single PDCCH
message conveys the control information for scheduling one specific MS or
scheduling a response to one RACH request message.
For improved MS energy consumption, it is important to minimize the number of
PDCCH message resource blocks that the MS needs to read in the corresponding
coverage class. Therefore, a mechanism is used to map the control information
(scheduling information) onto a set of candidate PDCCH message resource
blocks. A Hash function is used to achieve the mapping. For the scheduling of
a paging message or of a normal DL/UL transmission, the MS ID (e.g. IMSI,
TLLI/S-TMSI, C-RNTI) is used as the input to the hash function. For the
scheduling of a RACH response, the random number in the corresponding RACH
request is used as the input of the hash function. Based on this mapping
mechanism, only a subset of the PDCCH message resource blocks can be used by
the base station for the scheduling of the MS and, therefore, only these PDCCH
message resource blocks need to be read by the MS.
#### 7.3.4.5 Random access procedure
##### 7.3.4.5.1 RACH configuration
RACH resources are scheduled statically using system information broadcast.
Different RACH resources can be allocated for each coverage class. The MS
chooses a RACH allocation based on network indication, configuration, or
desired coverage class. RACH is mapped onto PUSCH.
When a MS performs a random access procedure it has to select a RACH resource
to use. The selection of the RACH resource is based on information available
to the MS, including the received signal quality of PSCH and PBCH
##### 7.3.4.5.2 Random access procedure with random number
When the MS is not in connected mode, it can initiate a random access
procedure with a random number.
This procedure performs several operations:
  * establishes a radio connection between the MS and the base station,
  * transfers the MS identity and the first uplink MAC PDU,
  * can assign a connection identifier C-RNTI to be used for PDCCH > messages from the base station for the MS, including uplink and > downlink allocations, and
  * performs contention resolution.
An overview of the procedure is shown in Figure 7.3.4.5-1.
Figure 7.3.4.5-1: Random access with random number contention resolution
procedure
The MS transmits a _Random Access Request_ message to the base station to
initiate the random access procedure with random number. The MS transmits a
random number, access cause, coverage class for PDCCH, and BSR when
transmitting a _Random Access Request,_ and then monitors PDCCH for a response
from the base station. The base station uses the parameters in the _Random
Access Request_ to schedule the required uplink resources.
When the base station receives a _Random Access Request_ message it responds
with an _Uplink Assignment_ PDCCH message. The _Uplink Assignment_ message
contains the random number from the _Random Access Request_ , RACH resource
identification of the RACH resource used for the _Random Access Request_
message and an uplink allocation.
The MS receives the _Uplink Assignment_ PDCCH message and compares the
contents with the random number and RACH resource used to transmit _Random
Access Request_. If the random number and identification of the RACH resource
matches then the base station has responded, otherwise the MS continues to
decode PDCCH messages looking for a response.
The MS then transmits a MAC PDU containing its identity (e.g. TLLI or S-TMSI)
and higher layer data or signalling in the uplink allocation. After
transmitting in the uplink allocation, the MS continues to monitor PDCCH.
The base station responds to the uplink transmission with an _Uplink
Acknowledgement_ PDCCH message. The _Uplink Acknowledgement_ message confirms
reception of the uplink MAC PDU containing the MS identity. The MS verifies
the received _Uplink Acknowledgement_ message contents and if the received
identity matches the identity MS sent in the uplink packet then contention
resolution has completed successfully.
During the random access with random number procedure, a C-RNTI value can be
assigned to the MS in the _Uplink Assignment_ message and confirmed in the
_Uplink Acknowledgement_ message. After the _Uplink Acknowledgement_ message
the C-RNTI can be used to address the MS in all subsequent control messages.
If the random access procedure fails then the MS waits for a period of time
before transmitting another _Random Access Request_. When the MS transmits a
new _Random Access Request_ message, the MS may increase the transmit power or
switch to a different coverage class.
##### 7.3.4.5.3 Random access procedure with C-RNTI
The MS uses this procedure to request uplink PUSCH resources when it has a
valid C-RNTI. An overview of the procedure is shown in Figure 7.3.4.5.2.
Figure 7.3.4.5-2: Random access procedure with C-RNTI
The MS transmits a _Random Access Request_ message including its C-RNTI. The
access cause and BSR provide information for the base station to schedule the
required uplink resources for the MS. The C-RNTI is a unique MS identifier in
the cell, and, therefore, the base station can directly schedule an uplink
resource allocation for the MS using the C-RNTI.
##### 7.3.4.5.4 Random Access Request
The fields of the Random Access Request message are shown in Table 7.3.4.5-1.
Table 7.3.4.5-1: Example of Random Access Request Fields
* * *
Field Description Type Random access type (i.e. with random number or with
C-RNTI) MS Identity Random number or C-RNTI BSR Buffer Status Report: Level of
uplink data buffered in the MS. Access Cause Random access cause Coverage
class Coverage class for PDCCH Uplink MAC PDU V(S) Uplink V(S) value of MAC
PDU MS is requesting access to transmit. Only used with random access with
C-RNTI procedure.
* * *
#### 7.3.4.6 Data transfer procedure
##### 7.3.4.6.1 General
##### 7.3.4.6.1.1 Sub-modes of Connected Mode {#sub-modes-of-connected-mode
.H6}
The data transfer procedure applies to MSs in Connected Mode.
Connected Mode has two sub-modes:
\- All PDCCH Reception (APR); and
\- Reduced PDCCH Reception (RPR).
The relationship between Connected Mode, Idle Mode or Power Save Mode, and the
sub-modes of Connected Mode is shown in Figure 7.3.4.6-1.
Figure 7.3.4.6-1: Connected Mode PDCCH Monitoring
When the MS enters Connected Mode it uses APR. Once data transfer and
signalling is complete the MS enters RPR. In RPR the MS receives a subset of
the PDCCHs transmitted by the base station. RPR allows the MS to be addressed
by the base station while saving power in the MS, should there be additional
data transfer, for example application acknowledgements to uplink messages.
The successful completion of an uplink data transfer is signalled by the base
station via a feedback indication in the PDCCH following the uplink data
transmission.
The successful completion of a downlink data transfer is signalled by the MS
via the transmission of a MAC PDU which, in turn, is acknowledged by the base
station in the next PDCCH as per the mechanism used for uplink MAC transfer.
Thus, the base station acknowledgement of the last uplink data transfer is an
unambiguous trigger to enter RPR.
The MS should only enter RPR when there is no more data pending for transfer
(uplink or downlink). The MS can inform the base station when it transmits the
last uplink data packet. If downlink data is pending, the base station should
schedule a resource allocation for it.
If the MS is in Connected Mode and new uplink data is to be sent but the base
station is not providing scheduled resources for the MS, for example because
the base station has provided all the resources indicated by the last BSR
report from the MS, then the MS may use the random access procedure to request
additional uplink resources. If the MS has been assigned a C-RNTI value it can
use the random access procedure with C-RNTI to request resource, otherwise the
random access with random number procedure is used.
While in RPR mode, the PDCCHs which the MS receives are called Anchor PDCCHs.
The anchor PDCCHs serve a similar purpose to the paging occasions in Idle
Mode, i.e. they define a point in time where the MS can be contacted by the
base station.
Anchor PDCCHs are defined by a RPR cycle (e.g. power of 2 number of frames)
and the use of MS specific information (e.g. MS C-RNTI, or TLLI/S-TMSI or time
of the PDCCH carrying the feedback information) to prevent all MSs from
attempting to use the same PDCCH as an anchor.
The RPR cycle used in the RPR sub-mode does not have any associated MS
specific latency requirements. It defines the frequency of opportunities the
base station has for addressing the MSs in Connected Mode, and it should be
short enough so as not to substantially impact the MS battery consumption
(over time) or have an impact on the legacy core network (e.g. NAS
retransmission timers), so is typically in the range of a few seconds. The
length of the RPR cycle is common to all MSs and can be broadcast in the
system information.
##### 7.3.4.6.1.2 C-RNTI in Connected Mode {#c-rnti-in-connected-mode .H6}
When the MS has been assigned a C-RNTI, it can be used to schedule resources
for the MS by the base station or it can be used by the MS in the random
access with C-RNTI procedure.
The C-RNTI is assigned by the base station during the random access with
random number procedure, see clause 7.3.4.5, or can optionally be assigned to
the MS after it has entered APR sub-mode of Connected Mode.
When the MS has a C-RNTI, it can use the random access with C-RNTI to request
additional resource in Connected Mode or signal change of coverage conditions,
see clause 7.3.5.3.
When the MS enters RPR it starts a C-RNTI Release Timer. After the C-RNTI
Release Timer expires the C-RNTI value is discarded; any procedure which uses
C-RNTI is not permitted, e.g. random access with C-RNTI, PDCCH downlink or
uplink assignments.
In the Gb architecture, the C-RNTI Release Timer value is not related to the
Connected Mode Release Timer value, see clause 7.3.4.2, and can be shorter or
longer. In the S1 architecture, the C-RNTI Release Timer is the same as the
Connected Mode Release Timer. The C-RNTI Release Timer can be broadcast in
system information or a default value can be used.
When the MS leaves Connected Mode, the C-RNTI value is discarded and cannot be
used by the MS.
##### 7.3.4.6.2 Segmentation and re-assembly
The segmentation function is responsible for segmenting upper layer (PDCP or
LLC) PDUs into MAC PDUs before transmission. The reassembly function
reassembles the upper layer PDUs in the proper order at the receiving end.
The general overview of this function is shown in Figure 7.3.4.6-2.
Figure 7.3.4.6-2: Segmentation and re-assembly overview
**Segmentation**
Segmentation allows transmitting an upper layer PDU over multiple MAC PDUs,
whereas concatenation allows transmitting multiple upper layer PDUs or
segments of upper layer PDUs within one MAC PDU. The upper layer PDUs, or
segments of upper layer PDUs, are placed in the MAC PDUs in the same order as
received from the upper layers. Segmentation information (e.g. sequence
number, length indicator) is included in the MAC header as described in
subclause 7.3.4.8.1.
**Re-assembly**
MAC PDUs are collected at the receiver side until all segments of an upper
layer PDU have been received. The MAC headers are removed, and the MAC data
elements re-assembled into an upper layer PDU.
The received upper layer PDUs are delivered to the upper layer in the order
they were originally transmitted. This is guaranteed by the single process
retransmission mechanism.
##### 7.3.4.6.3 Data transmission and retransmission
##### 7.3.4.6.3.1 Principle for single process retransmission {#principle-for-
single-process-retransmission-1 .H6}
A single process retransmission is proposed to reduce the buffer size while
guaranteeing the reliability of data transmission.
In single process retransmission, a new MAC PDU can be sent only when the
previous MAC PDU has been acknowledged.
Each MAC endpoint transmitter will have an associated send state variable
V(S). V(S) denotes the sequence number of the next in‑sequence MAC PDU to be
transmitted. V(S) can take on the value 0 or 1. The value of V(S) will be
incremented by 1 on transmission of the next in sequence MAC PDU.
Each MAC endpoint receiver will have an associated receive state variable
V(R).The receive state variable denotes the sequence number of the MAC PDU
which is expected by the receiver. V(R) can take on the value 0 or 1, and the
value of V(R) will be informed to the transmitter. The value of V(R) will be
incremented by 1 after a MAC PDU has been received correctly.
As shown in Figure 7.3.4.6-3, MAC PDUs in the transmitter are indexed as
either 0 or 1 and the value of V(S) can either be 0 or 1. The transmitter can
resend a MAC PDU or send a new MAC PDU, as shown by the shaded block. The
value of V(S) is always set as the index of the next MAC PDU outside the
transmitting window. The receiver informs the transmitter of the expected
index of the MAC PDU using V(R). The transmitter will select the MAC PDU
indexed by the value of V(R) to transmit next, which is either a new MAC PDU
or a retransmission of the previous MAC PDU.
Figure 7.3.4.6-3: Data transmission and retransmission
##### 7.3.4.6.3.2 Feedback mechanism and processing {#feedback-mechanism-and-
processing-1 .H6}
When a MAC PDU is scheduled, the receiver will attempt to demodulate and
decode the transmitted MAC PDU. The receiver may attempt decoding of the MAC
PDU by combining information from multiple receptions. If the MAC PDU is
decoded successfully and V(S) of the received MAC PDU matches the current
V(R), the receiver will increase V(R) by 1 (for 1-bit V(R) this is equivalent
to inverting V(R)), and then send the updated V(R) to the transmitter. If the
PDU is not decoded successfully or the MAC PDU is a retransmission of a
previously successfully received MAC PDU then the value of V(R) will be kept
the same and will be sent back to the transmitter.
The transmitter will check the value of V(R) from the feedback information.
From the received V(R), the expected MAC PDU from the receiver can be
identified by the transmitter:
\- If the received V(R) is different from the V(S) sent in the latest PDU
transmission, then this means the previous PDU has been received successfully
by the receiver side.
\- Otherwise, it means a reception failure by the receiver.
According to the received V(R), the transmitter chooses the MAC PDU to be sent
in the next scheduled allocation.
##### 7.3.4.6.3.3 Downlink Transmission Feedback Mechanism {#downlink-
transmission-feedback-mechanism .H6}
The downlink feedback mechanism is used to provide feedback to the base
station for downlink MAC PDUs transmitted to a MS.
When the base station schedules a downlink transmission using PDCCH, it
includes the V(S) value of the MAC PDU being transmitted to the MS. The MS can
use the V(S) value to determine whether the downlink MAC PDU is a
retransmission or a new transmission, and update V(R) to be sent to the base
station when reception of the downlink MAC PDU has completed.
After the base station has scheduled a downlink allocation it needs to
schedule an uplink allocation for the MS to provide feedback. The MS sends the
updated V(R) value in the uplink MAC PDU.
##### 7.3.4.6.3.4 Uplink Transmission Feedback Mechanism {#uplink-
transmission-feedback-mechanism .H6}
The uplink transmission feedback mechanism is used to provide feedback to the
MS for uplink MAC PDUs transmitted by the MS to the base station.
The base station provides V(R) values to the MS using PDCCH messages that
follow the uplink allocation. When the base station schedules an uplink
allocation, it includes the V(R) value of the MAC PDU the MS should transmit.
If the base station requests the transmission of the next MAC PDU, the MS can
discard the acknowledged MAC PDU, freeing buffer space.
The successful reception of the last uplink MAC PDU is used to trigger entry
of RPR from APR in Connected Mode, see 7.3.4.6.1.
#### 7.3.4.7 Paging
##### 7.3.4.7.1 General description
It is highly desirable for a CIoT MS to minimize wake period to conserve
energy. For this reason a downlink message indication (called PDCCH Message
Indication) is broadcast together with other essential information that is
required by the MS upon wake-up (see subclause 7.3.5.1). Broadcasting downlink
message indication rather than paging message minimizes the amount of
information the MS needs to receive upon wake-up when it is not paged.
Furthermore, the PDCCH Message Indication (PMI) allows for network to send
paging message, downlink assignment message or other kind of MAC control
messages to MS in idle mode.
Alternative mechanism for determining own paging resource that provide better
performance can be investigated.
##### 7.3.4.7.2 PDCCH Message Indication
The PMI information element is broadcast in the Primary System Information
message (see subclause 7.3.5.1) and this information element is 10 bits. Which
of the 10 paging groups a MS belongs to is determined by the last digit of the
IMSI and each bit in the information element corresponds to a different paging
group as shown in Table 7.3.4-7-1.
Table 7.3.4.7-1: Primary Message Indication coding
* * *
                 Bit 9   Bit 8   Bit 7   Bit 6   Bit 5   Bit 4   Bit 3   Bit 2   Bit 1   Bit 0
Paging Group 10 9 8 7 6 5 4 3 2 1 IMSI mod 10 9 8 7 6 5 4 3 2 1 0
* * *
NOTE: For S1 \'IMSI mode 10\' can be replaced with \'(IMSI mod 1024) mod 10.
##### 7.3.4.7.3 PDCCH Own Group
In a given cell, the PDCCH resource in one frame is segmented according to
coverage class as described in subclause 7.3.2.3.2. The amount of PDCCH
resource allocated for each coverage class depends on the distribution of
devices. Using the example PDCCH resource configuration given in subclause
7.3.2.3.2 the number of resource blocks for each coverage class within one
frame can be computed.
A MS needs to receive the PDCCH resource block from its own coverage class.
A default paging cycle is broadcast in system information (see subclause
7.3.5.1) and using this parameter the MS can compute the frame in which to
receive the PMI and the corresponding PDCCH category resource when required.
It is also possible to reduce the processing in the MS to decode only the
required PDCCH resource block, when required, with the following approach.
PDCCH~RB~ = (IMSI mod 1000) mod K~RB,CC~
For S1 like core network interface it is possible to use the expression:
PDCCH~RB~ = (IMSI mod 1024) mod K~RB~
where
> K~RB,CC~ is the number of resource blocks for the corresponding coverage
> class within one default paging cycle. This is simply given by the number of
> resource blocks for a given coverage class within one frame and multiplied
> by the number of frames in default paging cycle. Each PDCCH resource block
> is then numbered from 1 to K~RB~. For example with a paging cycle of 2
> frames then coverage class 4 has K~RB~ = 2x2 = 4.
>
> PDCCH~RB~ is the transmission block that may contain downlink control
> message for the MS.
Given that the Primary System Information message is repeated 4 times within a
frame to allow for successful decoding in extended coverage then for certain
coverage classes it may not be possible for the MS to decode PSI and PDCCH
within the same frame. Therefore, based on coverage class a MS may need to
start decoding of PSI message in an earlier sub-frame or even an earlier frame
than that corresponding to its own PDCCH group.
##### 7.3.4.7.4 Realizing time coordinated paging (subject to ongoing SA2
investigation)
##### 7.3.4.7.4.1 Achievement of frame synchronization {#achievement-of-frame-
synchronization .H6}
In order to achieve paging occasion synchronization between the different
cells, the frame numbers should be synchronized and the relative time
difference between the frame numbers of the cells will not exceed 4 seconds.
If all the cells start at the same time, frame synchronization can be
achieved. Cells in one base station may lose frame synchronization with other
cells in the same routing area when the corresponding base station starts or
restarts due to maintenance or abnormal causes. In order to make these cells
resynchronized again, the core network needs to maintain a common \"time
reference information\" (e.g. frame number and a corresponding absolute time
of the frame timing etc.) for the routing area, where cell synchronization is
required. The procedure is shown in Figure 7.3.4.7-1.
Figure 7.3.4.7-1: FN synchronization procedure
1) The base station sends the start/restart indication using the legacy
mechanism to the core network when it starts or restarts.
2) The core network receives the indication from some base station,
> If there is no \"time reference information\" available in the core network,
> the core network initiates a frame number (e.g. 0) and stores it together
> with the corresponding absolute time as the frame timing, then sends a
> response to the base station using the legacy mechanism, just adding a new
> IE \"time reference information\" in the response message.
> Else it sends a response with \"time reference information\" it has stored.
3) The base station receives the response from the core network, and uses the
\"time reference information\" to calculate the frame number and the frame
timing.
##### 7.3.4.7.4.2 Notification of \"time remaining until the next paging
occasion\" to CN {#notification-of-time-remaining-until-the-next-paging-
occasion-to-cn .H6}
The base station notifies \"time remaining until the next paging occasion\" to
the core network when receiving a paging request for a specific MS. The core
network will take this MS-specific information into account to resend the
paging request. The time remaining information remains valid after a base
station starting or restarting because the frame synchronization between cells
(as described in subclause 7.3.4.7.4.1).
The base station needs to evaluate the time duration between the point of time
when the paging message is received and the next paging occasion on the air.
If the time duration is larger than a predefined value (e.g. the maximum DRX
cycle 15s in GERAN), the base station will discard the paging request and
notify the \"time remaining until the next paging occasion\" to the core
network. Otherwise it will handle the paging request in legacy way. The
procedure is shown in Figure 7.3.4.7-2.
One additional paging request message and one additional notification message
are needed and hence will increase the signalling load between the base
station and the core network. However it is thought that the impact is
negligible, because the paging requests are infrequent when extended DRX is
used and because this only happens for the first paging request of a specific
MS sent to the base station.
Figure 7.3.4.7-2: Procedure of notification of \"time remaining until the next
paging occasion\" to CN
#### 7.3.4.8 MAC PDU format and structure
##### 7.3.4.8.1 MAC PDU general structure
Generally, a MAC PDU payload consists of a MAC header and a MAC payload. The
length of a MAC PDU is variable and the maximum size depends on the code block
size in physical layer. Padding and a CRC are appended to the MAC PDU.
A typical uplink MAC header includes TLLI/S-TMSI, BSR, sequence number, length
indicators (to indicate higher layer boundary information), last data block
indicator, MAC control or upper layer data indicator etc. TLLI/S-TMSI is only
needed in the first uplink data block, and any subsequent retransmissions
until contention is resolved. When MS has more uplink data to transmit, BSR
can be added to indicate the data buffer size. If TLLI/S-TMSI and BSR are
included, the total number of octets of the MAC header is about 6\~7 octets,
else it is about 2 octets (may be larger if there is more than one higher
layer PDUs).
There is no need to carry TLLI/S-TMSI and BSR in the downlink MAC PDU, since
network can schedule downlink by itself. A typical downlink MAC PDU header
includes sequence number, length indicators, last data block indicator etc.
The total number of octets of a downlink MAC PDU header is about 2 octets (may
be larger if there is more than one higher layer PDUs).
Optionally, the NB-CIoT solution allows multiplexing of MAC signalling and
data in one MAC PDU.
##### 7.3.4.8.2 MAC control messages
##### 7.3.4.8.2.1 Control messages sent on the PDCCH {#control-messages-sent-
on-the-pdcch .H6}
This subclause defines example control messages sent from network to MS.
##### 7.3.4.8.2.2 Uplink Assignment {#uplink-assignment .H6}
The Uplink Assignment message is sent in response to a MS sending a Random
Access Request message or a Buffer Status Report (BSR) in an uplink MAC PDU.
The information in the BSR is utilized by the network to determine the PUSCH
configuration for the uplink allocation. The key information elements are
shown in Table 7.3.4.8-1 and Table 7.3.4.8-2.
Table 7.3.4.8-1: Example Uplink Assignment message content in response to a
Random Access Request message
+----------------------+-------------+--------------------------+ | Information Element | Size (bits) | Purpose | +----------------------+-------------+--------------------------+ | Message ID | 5 | Identifies message | +----------------------+-------------+--------------------------+ | MS access Identity | 12 | Random number in the | | | | channel request | +----------------------+-------------+--------------------------+ | RACH frame | 2 | Frame relative to PDCCH: | | | | - 00 = current, 01 = | | | | previous, 10 = 2 frames | | | | ago, 11 = RFU | +----------------------+-------------+--------------------------+ | RACH start position | 5 | RACH position in fame | | | | 0.. 31, 40 ms slot | +----------------------+-------------+--------------------------+ | PUSCH sub-carrier | 6 | | +----------------------+-------------+--------------------------+ | PUSCH Start position | 8 | Start position of the | | | | uplink resource from the | | | | end of the PDCCH with a | | | | granularity of 10 ms. | | | | | | | | 8 bits allows for 2.56 s | +----------------------+-------------+--------------------------+ | PUSCH MCS | 4 | MCS index | +----------------------+-------------+--------------------------+ | PUSCH CBS | 5 | CBS index | +----------------------+-------------+--------------------------+ | VR | 1 | V(R) value of the MAC | | | | PDU to be expected to be | | | | received by BS. | +----------------------+-------------+--------------------------+ | C-RNTI | 20 | C-RNTI assignment | +----------------------+-------------+--------------------------+ | Total | 68 | | +----------------------+-------------+--------------------------+
Table 7.3.4.8-2: Example Uplink Assignment message content with
C-RNTI/TLLI/S-TMSI
+----------------------+-------------+--------------------------+ | Information Element | Size (bits) | Purpose | +----------------------+-------------+--------------------------+ | Message ID | 5 | Identifies message | +----------------------+-------------+--------------------------+ | MS access Identity | 20/32/40 | C-RNTI (if available), | | | | TLLI/S-TMSI otherwise | +----------------------+-------------+--------------------------+ | PUSCH sub-carrier | 6 | | +----------------------+-------------+--------------------------+ | PUSCH Start position | 8 | Start position of the | | | | uplink resource from the | | | | end of the PDCCH with a | | | | granularity of 10ms | | | | | | | | 8 bits allows for 2.56s | +----------------------+-------------+--------------------------+ | PUSCH MCS | 4 | MCS index | +----------------------+-------------+--------------------------+ | PUSCH CBS | 5 | CBS index | +----------------------+-------------+--------------------------+ | VR | 1 | V(R) value of the MAC | | | | PDU to be expected to be | | | | received by BS. | +----------------------+-------------+--------------------------+ | Total | 49/61/69 | | +----------------------+-------------+--------------------------+
This message can be used to allocate a new uplink resource and acknowledge the
previous uplink transmission (if transmitted by the mobile).
##### 7.3.4.8.2.3 Uplink Access Reject message {#uplink-access-reject-message
.H6}
The Uplink Access Reject message is used to manage network congestion. In the
event of a congestion the network can send a reject with a wait indication
which terminates the current access and prohibits the MS from performing
another random access procedure for a given period of time.
Table 7.3.4.8-3: Example Uplink Access Reject message
+---------------------+-------------+--------------------------------+ | Information Element | Size (bits) | Purpose | +---------------------+-------------+--------------------------------+ | Message ID | 5 | | +---------------------+-------------+--------------------------------+ | MS access Identity | 12/20 | Random Id/ C-RNTI | +---------------------+-------------+--------------------------------+ | RACH frame | 2 | RACH frame | | | | | | | | Frame relative to PDCCH: - 00 | | | | = current, 01 = previous, 10 = | | | | 2 frames ago, 11 = RFU | +---------------------+-------------+--------------------------------+ | RACH start position | 5 | RACH position in fame 0.. 31, | | | | 40 ms slot | +---------------------+-------------+--------------------------------+ | Wait time | 5 | Duration in number of frames | | | | before MS can make another | | | | attempt to access. | +---------------------+-------------+--------------------------------+ | Total | 29/37 | | +---------------------+-------------+--------------------------------+
##### 7.3.4.8.2.4 Uplink Acknowledgement message {#uplink-acknowledgement-
message .H6}
The Uplink Acknowledgement message is sent to the MS to indicate a positive or
negative acknowledgment of the last transmitted data block. This message can
be used when no further uplink allocation needs to be provided to the MS.
In the event of a negative acknowledgement the network will provide a new
uplink allocation for the MS to retransmit the un-acknowledged data.
In the event of a positive acknowledgment and the MS has more data to send the
network will provide a new uplink allocation for the MS to transmit the
remaining data.
In the event of a positive acknowledgement and the MS has no more data to
transmit the MS enters RPR mode.
Table 7.3.4.8-4: Example Uplink Acknowledgement message
* * *
Information Element Size (bits) Purpose Message ID 5  
Address info 20/32/40 C-RNTI/ TLLI/S-TMSI C-RNTI assignment present 1  
C-RNTI assignment 20 Optional VR 1 V(R) value of the MAC PDU to be transmitted
by the MS. Total 47/59/67
* * *
##### 7.3.4.8.2.5 Downlink Assignment message {#downlink-assignment-message
.H6}
In the event that the network has data to send to the MS, a Downlink
Assignment message will be sent containing the relevant configuration
information for the MS to receive the data on the PDSCH.
Table 7.3.4.8-5: Example Downlink Assignment content
+----------------------+-------------+--------------------------+ | Information Element | Size (bits) | Purpose | +----------------------+-------------+--------------------------+ | Message ID | 5 | | +----------------------+-------------+--------------------------+ | MS ID | 20/32/40 | C-RNTI/TLLI/S-TMSI | +----------------------+-------------+--------------------------+ | PDSCH sub-carrier | 6 | | +----------------------+-------------+--------------------------+ | PDSCH start position | 9 | Start position of the | | | | downlink resource from | | | | the end of the PDCCH | | | | with a granularity of | | | | one slot = 5ms | | | | | | | | 2\^9 = 512 slots, 2.56 s | | | | range | +----------------------+-------------+--------------------------+ | PDSCH MCS | 4 | MCS index, 0..10 | +----------------------+-------------+--------------------------+ | PDSCH CBS | 4 | CBS index, 0..13 | +----------------------+-------------+--------------------------+ | VS | 1 | V(S) value of the MAC | | | | being transmitted by the | | | | MS. | +----------------------+-------------+--------------------------+ | Total | 49/61/69 | | +----------------------+-------------+--------------------------+
##### 7.3.4.8.2.6 Paging message {#paging-message .H6}
In the event that the network has to contact the MS, a Paging message can be
sent containing the relevant information for the MS to respond.
Table 7.3.4.8-6: Example paging message content
* * *
Information Element Size (bits) Purpose Message ID 5  
MS ID 32/40/60 TLLI/S-TMSI/ IMSI Total 37/45/65
* * *
#### 7.3.4.9 Examples of message flows
##### 7.3.4.9.1 General
This clause provides examples of message flows related to basic data transfer
scenario, with the purpose to illustrate how the procedures available at the
link layer are used to support data transmission.
The examples are based on a Gb architecture, however the same principles apply
to a S1 architecture.
##### 7.3.4.9.2 Uplink data followed by downlink data
Figure 7.3.4.9-1 illustrates, for example, a mobile autonomous reporting with
a downlink application ack.
Figure 7.3.4.9-1: Example of uplink data followed by downlink data
Steps 1 - 5 illustrate the Random Access procedure with random number
described in subclause 7.3.4.5 and the uplink data transfer procedure
described in subclause 7.3.4.6.
\- 1. The MS determines its PDCCH coverage class, selects a RACH resource and
performs a random access procedure indicating the size of the UL data in the
Buffer Status Report (BSR) and the selected PDCCH coverage class.
\- 2. The base station allocates an uplink resource on PUSCH and sends an
Uplink Assignment message on the PDCCH channel associated with the MS\'s
coverage class. The base station also assigns a C-RNTI to the MS.
\- 3. The size of the uplink allocation is large enough to include the data
available in the MS. The MS sends a MAC PDU on PUSCH, including the data, the
MS identity (TLLI or S-TMSI), the sequence number (MS VS=0) and an indication
that there is no more data pending (last=true).
\- 4. The base station stores the MS identity together with the assigned
C-RNTI and sends a Uplink Acknowledgement message on the PDCCH, confirming the
MS identity (TLLI/S-TMSI and C-RNTI) and the successful reception of the UL
data ( BS VR =1) .
\- 5. The MS receives the Uplink Acknowledgement message on PDCCH, verifies
the identity included in the message and concludes that the contention
resolution is successful. It checks the confirmation of the successful uplink
transmission (BS VR=1) and enters the Reduced PDCCH Reception (RPR) mode.
Steps 6 - 11 illustrate the Reduced PDCCH Reception (RPR) mode and the
downlink data transfer procedure described in subclause 7.3.4.6.
\- The MS monitors periodically the PDCCH at the time corresponding to its
anchor PDCCHs.
\- 6. The base station receives downlink data for the MS. It waits until the
time of the MS anchor PDCCH, allocates a downlink resource on PDSCH and sends
a Downlink Assignment message on PDCCH, including the MS C-RNTI and the
downlink sequence number (BS VS =0).
\- 7. The MS listens to the PDCCH at its anchor PDCCH and receives the
Downlink Assignment message. It recognizes its identity (C-RNTI), exits the
Reduced PDCCH Reception (RPR) mode and receives the MAC PDU on the PDSCH
resource indicated in the allocation.
\- 8. The base station allocates an uplink resource on PUSCH for the MS to
provide the feedback of the downlink transmission. It sends an Uplink
Assignment message on the PDCCH including the MS C-RNTI and the uplink
sequence number of the MAC PDU for the MS to transmit (BS VR=1).
\- 9. The MS sends a MAC PDU on PUSCH, including the downlink transmission
feedback (MS VR=1), the uplink sequence number (MS VS =1) and an indication
that there is no more data pending (last=true).
> NOTE: the Uplink Assignment message can be sent in the same PDCCH as the
> Downlink Assignment message; they are shown separately to show the logic of
> the sequence.
\- 10. The base station sends an Uplink Acknowledgement message on the PDCCH,
confirming the successful reception of the MAC PDU (BS VR =0).
\- 11. The MS checks the confirmation of the successful uplink transmission
(BS VR =0) and enters the Reduced PDCCH Reception (RPR) mode.
Steps 12-13 illustrate the release of the C-RNTI and the transition to idle
mode as described in subclauses 7.3.4.6.1 and 7.1.4.6.1.
##### 7.3.4.9.3 Downlink data followed by uplink data
Figure 7.3.4.9-2 illustrates, for example, a network command with an uplink
application ack.
Figure 7.3.4.9-2: Example of downlink data followed by uplink data
Step 0 illustrates the paging procedure described in subclause 7.3.4.7.
\- The MS is in idle mode and monitors its PDCCH own group according to its
DRX cycle and IMSI.
\- The base station receives a paging request for the MS. It calculates the
next paging opportunity for the MS based on the DRX cycle and IMSI and sends
the Paging message on the PDCCH associated to the indicated coverage class.
The MS receives the Paging message on PDCCH and recognizes its identity
(P-TMSI/S-TMSI).
Steps 1 - 5 correspond to the sending of the paging response from the MS. They
are identical to steps 1-5 in subclause 7.3.4.9.2.
Steps 6 - 11 correspond to the transmission of the downlink data to the MS.
They are identical to steps 6-11 in subclause 7.3.4.9.2.
Steps 12 - 16 illustrate the Random Access procedure with C-RNTI described in
subclause 7.3.4.5, and how it can be used to request uplink allocation when
the MS is in connected mode.
\- 12: Data becomes available. The MS exits the Reduced PDCCH Reception (RPR)
mode, selects a RACH resource and sends a Random Access Request message on
PUSCH, including its C-RNTI and the size of the uplink data in the Buffer
Status Report (BSR).
\- 13: The base station allocates an uplink resource on PUSCH and sends an
Uplink Assignment message on the PDCCH associated to the MS coverage class,
including the MS C-RNTI and the uplink sequence number of the MAC PDU for the
MS to transmit (BS VR =1).
\- 14: The size of the uplink allocation is large enough to include the data
available in the MS. The MS sends a MAC PDU on PUSCH, including the data, the
sequence number (MS VS =1) and an indication that there is no more data
pending (last=true).
\- 15: The base station sends an Uplink Acknowledgement message on the PDCCH,
confirming the successful reception of the MAC PDU (BS VR =0).
\- 16: The MS checks the confirmation of the successful uplink transmission
(BS VR =0) and enters the Reduced PDCCH Reception (RPR) mode.
Steps 17- 18 are related to the release of the C-RNTI and the transition to
idle mode. They are identical to steps 12-13 in subclause 7.3.4.9.2.
##### 7.3.4.9.4 Multiple uplink data packets
Figure 7.3.4.9-3 illustrates a case where the MS sends multiple uplink data
packets.
Figure 7.3.4.9-3: Example of transmission of multiple uplink data packets
Steps 1 - 4 illustrate the Random Access procedure with random number
described in subclause 7.3.4.5 and the uplink data transfer procedure
described in subclause 7.3.4.6. They are similar to steps 1-4 in subclause
7.3.4.9.2 except that only part of the data can be transmitted in the PUSCH
allocation.
Steps 5-10 illustrate the uplink data transfer procedure described in
subclause 7.3.4.6, how the base station provides further uplink resource and
how the MS indicates new data arrival.
\- 5: The base station allocates a new uplink resource on PUSCH for the
remaining data, and sends an Uplink Assignment message on the PDCCH addressed
to the C-RNTI.
\- 6: New data has become available. The size of the uplink allocation is only
large enough to include the last segment of the first data packet. The MS
sends a MAC PDU on PUSCH, including the last segment of the first data packet,
the sequence number (MS VS =1), a new BSR and an indication that there is more
data pending (last=false).
\- 7: The base station allocates a new uplink resource on PUSCH and sends an
Uplink Assignment message on the PDCCH, confirming the successful reception of
the previous transmitted uplink MAC PDU (BS VR =0).
\- 8: The size of the uplink allocation is large enough to include the second
data packet. The MS sends a MAC PDU on PUSCH, including the data, the sequence
number (MS VS =0) and an indication that there is no more data pending
(last=true).
\- 9: The base station sends an Uplink Acknowledgement message on the PDCCH,
confirming the successful reception of the uplink MAC PDU (BS VR=1).
\- 10: The MS checks the confirmation of the successful uplink transmission
(BS VR =1) and enters the Reduced PDCCH Reception (RPR) mode.
##### 7.3.4.9.5 Uplink data retransmission
Figure 7.3.4.9-4 illustrates the retransmission of an uplink MAC PDU.
Figure 7.3.4.9-4: Example of uplink MAC PDU retransmission
\- The MS is in connected mode, Reduced PDCCH Reception (RPR) submode.
\- 1: Data becomes available. The MS exits the Reduced PDCCH Reception (RPR)
mode, selects a RACH resource and sends a Random Access Request message on
PUSCH, including its C-RNTI and the size of the uplink data in the Buffer
Status Report (BSR).
\- 2: The base station allocates an uplink resource on PUSCH and sends an
Uplink Assignment message on the PDCCH associated to the MS coverage class,
including the MS C-RNTI and the uplink sequence number of the MAC PDU for the
MS to transmit (BS VR =1).
\- 3: The MS sends a MAC PDU on PUSCH, including the data, the sequence number
(MS VS =1) and an indication that there is no more data pending (last=true).
\- 4: The base station fails to decode the uplink data, the BS allocates a new
uplink resource on PUSCH and sends an Uplink Assignment message on the PDCCH
requesting the retransmission of the last transmitted uplink MAC PDU (BS VR
=1).
\- 5: The MS sends a MAC PDU on PUSCH, including the same data, the sequence
number (MS VS =1) and an indication that there is no more data pending
(last=true).
> NOTE 1: The base station can use the same MCS/CBS for the new uplink
> resource allocation. In that case, the base station can combine the two
> uplink transmissions .
>
> NOTE 2: The base station could choose a more conservative MCS/CBS for the
> new uplink resource allocation. In that case, the MS may need to (re)segment
> the data.
\- 6: The base station sends an Uplink Acknowledgement message on the PDCCH,
confirming the successful reception of the MAC PDU (BS VR=0).
##### 7.3.4.9.6 Downlink data retransmission
Figure 7.3.4.9-5 illustrates the retransmission of a downlink MAC PDU.
Figure 7.3.4.9-5: Example of downlink data retransmission
\- The MS is in connected mode, Reduced PDCCH Reception (RPR) submode.
\- 1. The base station receives downlink data for the MS. It waits until the
time of the MS anchor PDCCH, allocates a downlink resource on PDSCH and sends
a Downlink Assignment message on the PDCCH channel associated to the MS
coverage class, including the MS C-RNTI and the downlink sequence number (BS
VS =0).
> The MS listens to the PDCCH at its anchor PDCCH and receives the Downlink
> Assignment message. It exits Reduced PDCCH Reception (RPR) mode.
\- 2. The base station allocates an uplink resource on PUSCH for the MS to
provide the feedback of the downlink transmission. It sends an Uplink
Assignment message on the PDCCH including the MS C-RNTI and the uplink
sequence number of the MAC PDU for the MS to transmit (BS VR=0).
\- 3. The base station sends the downlink data on the allocated PDSCH
resource. The MS fails to decode the downlink MAC PDU.
\- 4. The MS sends a MAC PDU on PUSCH, including the negative downlink
transmission feedback (MS VR=0), the uplink sequence number (MS VS =0) and an
indication that there is no data pending (last=true).
\- 5. The base station receives the negative downlink transmission feedback,
allocates a new downlink resource on PDSCH and sends a Downlink Assignment
message on the PDCCH channel, including the same downlink sequence number (BS
VS =0).
\- 6. The base station allocates a new uplink resource on PUSCH for the MS to
provide the feedback of the downlink transmission. It sends an Uplink
Assignment message on the PDCCH including the uplink sequence of the MAC PDU
for the MS to transmit (BS VR =1).
\- 7. The base station retransmits the downlink data on the allocated PDSCH
resource. The MS decodes the downlink MAC PDU correctly.
> NOTE 1: The base station can use the same MCS/CBS for the new downlink
> resource allocation. In that case, the MS can combine the two downlink
> transmissions .
>
> NOTE 2: The base station could choose a more conservative MCS/CBS for the
> new downlink resource allocation. In that case, the base station may need to
> (re)segment the data.
\- 8. The MS sends a MAC PDU on PUSCH, including the positive downlink
transmission feedback (MS VR=1), the uplink sequence number (MS VS =1) and an
indication that there is no data pending (last=true).
\- 9. The base station sends an Uplink Acknowledgement message on the PDCCH,
confirming the successful reception of the uplink MAC PDU (BS VR =0).
### 7.3.5 Radio resource management
#### 7.3.5.1 System Information
##### 7.3.5.1.1 System Information scheduling
The System Information is carried on the downlink physical broadcast channel
(PBCH), as described in subclause 7.3.2.3.1. The frame duration is 1280 ms,
and the frame is divided into eight sub-frames each of duration 160 ms. The
slot duration is 5 ms.
There are two physical resources defined for carrying System Information. One
physical resource carries the Primary System Information (PSI) message and the
other physical resource carries the Secondary System Information (SSI)
messages. The size and position of each physical resource is fixed within a
sub-frame, see subclause 7.3.2.3 for details. The size of the Primary System
Information (PSI) is 44 bits including the 8-bit CRC while the size of the
Secondary System Information (SSI) is 72 bits including the 12-bit CRC. The
PSI and SSI payload sizes excluding CRC are then 36 and 60 bits respectively.
The Primary System Information (PSI) resource carries exclusively the Primary
System Information message and the same PSI message is transmitted four times
within a frame to provide coverage beyond 164 dB maximum coupling loss (MCL).
The Secondary System Information (SSI) resource carries all other System
Information. The same System Information block is transmitted four times
within a frame. This allows the transmission of one System Information block
every frame.
As multiple System Information blocks are required, the System Information
blocks are time-multiplexed; a simple round-robin mechanism with equal
periodicity of for all instances of a system information message or some other
scheme that gives shorter periodicity for some messages while longer
periodicity for other messages can be defined.
If the contents of a System Information message exceeds the size of the
resource, the System Information message is split into multiple segments that
can be sent in as many frames as necessary, time-multiplexed with the other
System Information blocks.
##### 7.3.5.1.2 System Information contents
The System Information in a cell falls into three categories:
1) Mandatory System Information that needs to be broadcast every frame
2) Mandatory System Information that does not need to be broadcast every frame
and
3) Optional System Information is broadcast in a cell if required
This classification leads to the definition of a set of System Information
types belonging to one or the other categories as described in the following
subclauses.
Depending on core network architecture choices, it may be necessary to
broadcast system information for more than one type of system architecture
(e.g. legacy Gb interface based core network architecture and small data
optimized core network architecture).
##### 7.3.5.1.2.1 Primary System Information {#primary-system-information-1
.H6}
The Primary System Information (PSI) message is broadcast in every frame in
every cell.
The Primary System Information message does not share physical downlink
resource with any other System Information message hence there is no need to
add a message ID field. The Primary System Information message content is
identical for Gb or S1 based architectures and all information elements are
mandatory.
Table 7.3.5.1-1: Example Primary System Information message
+--------------------------+-------------+--------------------------+ | Information Element | Size (bits) | Purpose | +--------------------------+-------------+--------------------------+ | Frame number | 16 | 16 bit frame number | | | | provides a cycle length | | | | of 23h, 18m 6.08sec | +--------------------------+-------------+--------------------------+ | System Information | 4 | System Information | | Sequence No. | | sequence number. | | | | | | | | Used by the device to | | | | detect change of other | | | | System Information. | +--------------------------+-------------+--------------------------+ | PDCCH Message Indication | 10 | An indication of which | | (PI) | | specific groups of MSs | | | | need to read the PDCCH | +--------------------------+-------------+--------------------------+ | SI-change information | 6 | Indication which system | | | | information types have | | | | changed as a bitmap | +--------------------------+-------------+--------------------------+ | Total | 36 | | +--------------------------+-------------+--------------------------+
##### 7.3.5.1.2.2 Mandatory System Information {#mandatory-system-
information-1 .H6}
The Mandatory System Information is broadcast in every cell but not
necessarily in every frame. The Mandatory System Information messages share
the same downlink physical resource (Secondary System Information) with the
Optional System Information messages; hence a message ID is necessary.
There are four Mandatory System Information type messages defined, as shown in
Table 7.3.5.1-2, 7.3.5.1-3, 7.3.5.1-4 and 7.3.5.1-5.
\- System Information Type 1 carries general cell information for the common
PLMN
\- System Information Type 2 carries cell configuration parameters
\- System Information Type 3 radio resource configuration
\- System Information Type 4 carries neighbour cell information
NOTE: Description of the System Information Type messages below is only an
example. Depending on the details of the required parameters, more System
Information type messages may be used to provide the cell configuration.
Table 7.3.5.1-2: Example System Information Type 1
* * *
Information Element Size (bits) Purpose Message ID 4 System information
message identifier Common PLMN ID 24 Common PLMN ID: 24 bits Cell Identity
16/28 Gb: 16 bits, S1: 28 bits RAC 8 Gb only Cell barred 1 Indication barred/
not barred Network sharing supported 1 Indication that network sharing
information is broadcast in SI 5. Total 54/66
* * *
Table 7.3.5.1-3: Example System Information Type 2
* * *
Information Element Size (bits) Purpose Message ID 4 System information
message identifier LAC/TAC 16 LAC/TAC: 16 bits BS power 7 Downlink reference
power of PSCH (in dBm) for path loss calculation Rxlev minimum 6 Minimum
received level for cell selection/ reselection Access Class Barring 12
Comprises Access class barring (10 bits) and Access control category (2 bits)
Total 45
* * *
Table 7.3.5.1-4: Example System Information Type 3
* * *
Information Element Size (bits) Purpose Message ID 4 System information
message identifier Radio resource configuration  
PDCCH configuration 4 Codebook entry for the PDCCH configuration used in the
cell. PRACH configuration 4 Codebook entry for the PRACH configuration used in
the cell. RACH parameters  
Max Tx power 4 Max transmit power Power ramping step 2 Power ramping for RACH
Initial received target power 6 The power expected in BS side. Max RACH Tx 2
Max number of RACH transmission RACH Response window size 2 Minimum time, in
frames, to wait for response from BS RACH Retransmission spread 4 Parameter
used to determine random duration for RACH retransmission. PUSCH power control
parameters Parameters used to calculate MS transmit power used on PUSCH
channel. P0-Nominal PUSCH 8 dBm. Alpha 3 The is used to calculate MS transmit
power in a PUSCH Paging parameters  
Default paging cycle 4 Cell default paging cycle (e.g. 1 frame, 2 frames, 5
frames or 10 frames) Other parameters  
Reduced monitoring cycle 3 During ready timer. This parameter defines the
PDCCH monitoring period while ready timer is running. Total 50
* * *
Table 7.3.5.1-5: Example System Information Type 4
* * *
Information Element Size (bits) Purpose Message ID 4 System information
message identifier Segment count 2  
Segment index 2  
Cell reselection parameters  
q-hyst 4 Hysteresis value for cell ranking criteria s-search 5 Rx level
threshold for neighbour cell measurements t-reselection 3 Cell reselection
timer value Neighbour Cell List 2 0..3 neighbouring frequencies System 2 One
of the following Same as serving cell 1  
ARFCN/EARFCN indicator 1 0: indicates ARFCN, 1: indicates EARFCN ARFCN/EARFCN
10/18 Either ARFCN or EARFCN. PCID list 3 Number of neighbouring cells on the
given frequency PCID list 9 Physical Cell IDs Total 48/56 For one instance
containing one set of parameters for EARFCN
* * *
Broadcasting information to support frequency hopping is FFS.
##### 7.3.5.1.2.3 Optional System Information {#optional-system-information-1
.H6}
Optional System Information is only broadcast if required and this is
indicated in one of the Mandatory System Information messages.
Currently only one Optional System Information message is defined, as shown in
Table 7.3.5.1-6.
\- System Information Type 5 carries network sharing information
In the future, additional System Information messages can be added.
Table 7.3.5.1-6: Example System Information Type 5
* * *
Information Element Size (bits) Purpose Message ID 4 System information
message identifier Segment count 2  
Segment index 2  
PLMN list 3 1..5 additional PLMNs \- PLMN ID 24 PLMN Id: 24 bits \- Access
Barring information 12 This consist of Access class barring (10 bits) and
Access control category (2 bits) Total 47 For an instance containing
information for 1 PLMN.
* * *
At most 4 instances of this message required to broadcast maximum number of
sharing PLMNs.
Broadcasting information to support frequency hopping for PUSCH is FFS.
##### 7.3.5.1.3 System Information Reading
Due to the Primary System Information being broadcast immediately after PSCH,
the MS may wake-up just before the PSCH slot, decode the PSCH and, if
successful, decode the PSI to determine if other SIs need to be re-read and
whether the MS is being paged by the network. If neither the MS is paged nor
any SI has changed, then the MS can go back to sleep immediately after
receiving the PSI. This means that at each wake-up the MS needs to remain
awake between 4 and 15 slots (but actual Rx on time would be 3 slots - 1 slot
for PSCH and 2 slots for PSI) in normal coverage conditions.
One instance of Secondary SI message can be received in one frame. As System
information Type 4 & 5 have up to four instances each thus in the worst case
mobile would need to read 11 instances taking around 14 seconds. But if
minimum neighbour cell information and no network sharing is broadcast then
only 4 message blocks need to be read thus taking around 5.1 seconds.
#### 7.3.5.2 Idle more procedures
##### 7.3.5.2.1 General
Mobile station idle mode procedures, such as cell selection and reselection,
are intended to be based on E-UTRAN specification 3GPP TS 36.304 [30] but with
some modifications. This section provides key considerations that should be
taken into account when defining idle mode procedures.
##### 7.3.5.2.2 Considerations for cell selection, reselection, measurement
and OOS
It is imperative to ensure cell selection, reselection, neighbour cell
measurement and out of service searches are defined such that it keeps power
consumption as low as possible. Therefore one or more of the following should
be taken into account when defining cell selection, reselection and out of
service searches:
\- Minimum neighbour cell measurements. A CIoT MS is not expected to provide
real-time service hence it is not necessary for the MS to track one or more
neighbour cells in case serving cell quickly falls below desired threshold.
Perform neighbour cell measurements based on a trigger such as serving cell
becoming poor rather than performing periodic searches regardless of serving
cell condition.
\- Out of service searches need not be done with same periodicity as for
normal mobile stations.
\- Periodic system information supervision can be relaxed. CIoT MS can check
if system information has changed when it wakes-up for periodic reporting or
page decoding.
E-UTRAN specification TS 36.304 defines an extensive set of procedures but a
CIoT MS does not need to support all these procedures. Table below summarizes
the procedures defined in TS 36.304 and which of those services are applicable
to CIoT MS. Note, some of the procedures listed in the table are not in the
current version of 3GPP TS 36.304.
Table 7.3.5.2-1: Services/procedures applicability to CIoT MS
* * *
Service/Procedure Comment PLMN selection Required Cell selection (initial &
stored) Required Cell reselection (intra- & inter-frequency) Required
Measurement for cell reselection (intra- & inter- frequency) Required,
optimized for power consumption. Access restriction Required Cell reservation
Required Tracking area registration Required Normal paging DRX Required Power
saving mode Required Coverage class change detection and switching. Required.
This is not currently in E-UTRAN specification. Extended paging DRX Required.
This is not currently in E-UTRAN. MBMS Not required to be supported. Emergency
calls Not required to be supported Limited service/any cell state Not required
to be supported. CSG support Not required to be supported. RAN-assisted WLAN
interworking Not required to be supported. Inter RAT measurements/reselection
Not required to be supported. Redirection with connection release Not required
to be supported Priority based reselection Not required to be supported. Speed
dependent reselection Not required to be supported. Logged measurements Not
required to be supported. Accessibility measurements Not required to be
supported. Mobility history Not required to be supported. ProSe direct
operation Not required to be supported. ETWS/CMAS/PWS Not required to be
supported.
* * *
#### 7.3.5.3 Coverage class
##### 7.3.5.3.1 Definition of coverage class
Multiple coverage classes are supported to adapt to different path and
penetration losses experienced by different MSs. This allows MSs with better
than worst case coupling loss to benefit from improved battery life and lower
latency, and also benefits the network in terms of improved capacity.
A one to one mapping is constructed between coverage class and PDCCH
configuration, which mainly consists of MCS and resource information (sub-
carrier*slot) of PDCCH. The PDCCH configurations are predefined in the
specification. The codebook entry for the PDCCH configuration used in a cell
is indicated by the information element PDCCH configuration signalled in
system information.
##### 7.3.5.3.2 Initial coverage class selection
The MS selects an appropriate coverage class for PDCCH monitoring based on its
estimate of downlink signal quality. A typical procedure for the initial
coverage class selection is:
Step-1: The MS performs measurements on downlink pilot signals and PSS/SSS
contained in PSCH. (The detail measurements procedure will be described in
downlink physical layer contributions.)
Step-2: The MS acquires the PDCCH configuration from system information.
Step-3: The MS chooses a candidate coverage class as the most probable class
based on the downlink measurement results.
Step-4: The MS attempts to decode the PDCCH messages corresponding to the
candidate coverage class, and then applies the following decision process:
> 1> if a predefined decoding criterion (e.g. a predefined number of
> successive successful PDCCH decodes, or a predefined portion of successful
> PDCCH decodes) is met, the candidate coverage class is selected for
> subsequent communications;
>
> 1> else
>
> 2> if the candidate coverage class index is lower than the highest available
> value, the MS alters the candidate coverage class to a higher index and
> returns to Step-4.
>
> 2> else the MS may trigger cell (re)selection.
##### 7.3.5.3.3 Coverage class notification
The MS identity and its new coverage class need to be signalled so the network
can update the coverage class for the MS.
When the MS performs random access, the estimated downlink coverage class is
carried in the random access procedure to notify the base station.
The MS identity is passed to the base station in the first uplink transmission
when using the RACH with Random Number procedure and the base station can
identify the MS from the C-RNTI value used in the RACH with C-RNTI procedure.
##### 7.3.5.3.4 Coverage class adaptation
When the MS detects that its coverage class is improving or deteriorating the
updated coverage class can be signalled to the base station. Frequent
signalling of coverage class changes, which could happen in mobility
situations, can cause additional MS power consumption and signalling load to
the base station and core network. Therefore, the signalling of the coverage
class change should be minimized.
When a MS is in Idle Mode it wakes periodically to receive paging. The MS can
use this awake time to determine whether its coverage class has changed and
signal changes to the network before its paging occasion. The MS does not need
to wake-up between paging occasions only to check whether its coverage class
has changed and signal any changes to the network.
While in Connected Mode a MS periodically decodes PDCCH messages at the
current coverage class to determine if there is scheduling information
addressed to it. The MS can use the similar decoding criterion as initial
coverage class selection procedure to determine whether the coverage class has
changed and signal changes to the network.
##### 7.3.5.3.5. Load balancing among coverage classes
Load balancing mechanisms among coverage classes may be employed, examples of
which include: reconfiguring PDCCH resources associated with coverage classes,
etc.
### 7.3.6 Concept evaluation
#### 7.3.6.1 Coverage evaluation
##### 7.3.6.1.1 Network synchronization
The network synchronization is based on detecting the PSS and SSS sequences,
and the synchronization procedure is defined in subclause 7.2.2.3.3. The
network synchronization performance is evaluated according to the methodology
specified in subclause 5.3.4.
##### 7.3.6.1.1.1 Simulation settings {#simulation-settings-4 .H6}
The network synchronization performance is evaluated for two scenarios: (a)
initial cell search, and (b) non-initial cell search or cell re-confirmation.
In the initial cell search, the MS has no prior knowledge of any existing
cell, and has a large (up to 20 ppm) initial FO with respect to the available
cell(s). In this scenario, the device may choose any detected cell as its
serving cell. In the cell re-confirmation scenario, the MS has previously
acquired timing from a cell, but has lost its timing synchronization while its
FO to the target cell is limited (up to 2ppm). In this scenario, the device
requires to detect the same cell, potentially in the presence inter-cell
interference from the neighbouring cells.
For each synchronization scenario, two cases are evaluated: (1) single-cell,
and (2) multi-cell. In the multi-cell scenario, the path-loss values from the
three neighbouring cells to the MS are assumed to be the same. However, the
transmissions from different cells have different small-scale channel
variations.
For the multi-cell deployment, we also study two cases: (i) asynchronous
multi-cell, and (ii) synchronous multi-cell. In the former case, the
transmissions from the neighbouring cells arrive at the MS with random delays,
while in the latter we assume the neighbouring cells are roughly synchronized
in time and frequency and have the same receive delays at the MS.
Four coverage levels are simulated corresponding to coupling loss values of
164 dB, 154 dB and 144 dB. Table 7.3.6.1.1-1 summarizes the simulation setup.
Table 7.3.6.1.1-1: Simulation setting
+----------------------+----------------------+----------------------+ | Scenario | Initial cell search | Cell re-confirmation | +----------------------+----------------------+----------------------+ | Number of cells | 1, 3 | 1, 3 | +----------------------+----------------------+----------------------+ | Target cell to | Any cell | Cell no 1 | | select | | | +----------------------+----------------------+----------------------+ | MS initial carrier | Randomly chosen from | Randomly chosen from | | frequency offset | | | | | {-20ppm, +20ppm} | {-2ppm, +2ppm} | +----------------------+----------------------+----------------------+ | Cell initial carrier | Asynchronous | Randomly chosen from | | frequency offset | | {-0.05ppm, +0.05ppm} | | | | for each cell | +----------------------+----------------------+----------------------+ | | Synchronous | Randomly chosen from | | | | (-0.05, +0.05) ppm | | | | for each cell | +----------------------+----------------------+----------------------+ | Cell initial timing | Asynchronous | Randomly chosen from | | offset (Rx delay at | | 0 to 1 sync period | | MS) | | duration (160ms) for | | | | each cell, with a | | | | granularity of 1 | | | | sample | +----------------------+----------------------+----------------------+ | | Synchronous | Randomly chosen from | | | | -2 to +2 samples for | | | | each cell, with a | | | | granularity of 1 | | | | sample | +----------------------+----------------------+----------------------+ | Interference | Interfering cells | | | | have the same Tx | | | | power and path loss | | | | to MS as the serving | | | | cell | | +----------------------+----------------------+----------------------+ | MCL (dB) | 164, 154, 144 | | +----------------------+----------------------+----------------------+ | BS Tx power (dBm) | 40 | | +----------------------+----------------------+----------------------+ | Channel Model | TU-1 Hz | | +----------------------+----------------------+----------------------+ | Pulse Shaping Filter | [0.0 | | | coefficients | 15,0.042,-0.058,0.03 | | | | 5,0.474,0.474,0.035, | | | | -0.058,0.042,0.015] | | +----------------------+----------------------+----------------------+
##### 7.3.6.1.1.2 Simulation results {#simulation-results-9 .H6}
In what follows, we provide the performance analysis for the initial cell
search, subclause 7.3.6.1.1.2.1, and cell re-confirmation, subclause
7.3.6.1.1.2.2, in terms of the following metrics: (a) synchronization latency:
this is the time required for the MS to declare a successful cell acquisition,
(b) false alarm probability: for those cases where the MS declares a
successful acquisition, this is the probability that either the acquired cell
ID is invalid, or the residual timing error is unacceptably large (e.g. larger
than 2 samples = 8.3 usec), or the residual frequency error is unacceptably
large (e.g. larger than 200 Hz), (c) residual frequency error: this is the CFO
estimation error after a successful cell acquisition, and (d) residual timing
error: this is the timing error after a successful cell acquisition.
##### 7.3.6.1.1.2.1 Initial cell search performance {#initial-cell-search-
performance-1 .H6}
Figure 7.3.6.1.1-1 demonstrates the synchronization latency CDF curves for the
single-cell, synchronous multi-cell and asynchronous multi-cell scenarios. It
can be seen from the plots that the worst case 90^th^ percentile
synchronization latency for the MCL values 164 dB, 154 dB and 144 dB are
respectively 1.28 sec, 0.48 sec and 0.48 sec.
{width="2.4875in" height="1.8in"} {width="2.495138888888889in"
height="1.8111111111111111in"}
(a) Single-cell scenario (b) Synchronous multi-cell
{width="2.911111111111111in" height="1.91875in"}
(c) Asynchronous multi-cell
Figure 7.3.6.1.1-1: Synchronization latency for initial cell search
Table 7.3.6.1.1-2 shows the false alarm probabilities for the initial cell
search.
Table 7.3.6.1.1-2: False alarm probability for initial cell search
* * *
MCL 164 dB 154 dB 144 dB Single-cell \ L) to the output of the L x L DFT precoding.
Thereafter, the $l$th baseband time-continuous signal is generated based on
frequency-domain symbols as described below.
$s_{l}\left( t \right) = \sum_{k = \frac{- M}{2}}^{\frac{M}{2} - 1}{a_{k,l}
\cdot e^{j2\pi\left( k + 1/2 \right)\text{Δf}\left( t - N_{\text{CP},l}T_{s}
\right)}}$ (2)
for$0 \leq t  As the 3GPP standards do not limit the number of BSSs that can be connected
> to an SGSN, and, GPRS mobiles in READY state send \'cell update\'
> indications to the SGSN (not the BSS), it can be seen that using the Gb
> based architecture for a network where every base station site contains its
> own BSC is feasible.
>
> In clause 9.2.1.38 of TS 36.413 [23], the E-UTRAN Cell Global Identity is
> split into 20 bits of Global eNB ID and 8 bits are used to identify the cell
> within the eNB. Hence multiple base station sites could be connected to a
> centralized node (c.f. \"BSC\") that terminates an S1 interface from an MME.
> The allocation of multiple IP addresses to that node could permit it to
> handle > 128 cells.
>
> Thus both Gb and S1 based architectures are able to support both \"flat
> RAN\" and \"BSC\" based approaches.
### 8.1.4 Architecture requirements related to GERAN Evolution solutions
It is agreed that:
a) the Gb interface should be used for the GERAN evolution option.
### 8.1.5 Core network enhancements for paging devices in extended coverage
Independent of the choice of radio access solutions for ultra low complexity
and low throughput Internet of Things (Cellular IoT) there is a need for core
network assistance for transmission of paging as well as storage of coverage
situation in the CN. The following common working assumptions apply:
WA 1: The MS will determine if currently estimated coverage class is different
from last reported Coverage Class.
WA 2: The MS should report changes of its coverage class to the CN. The
trigger of the reporting, to avoid frequent signaling, is for the stage 3
design, but can be anticipated to contain some hysteresis.
WA 3: At least the estimated coverage class for downlink will be indicated to
the RAN when attempting system access.
WA4: The changes of estimated coverage class for downlink may be indicated to
the RAN during data transmission.
WA 5: The RAN will include the coverage class information in the uplink data
PDU sent to the CN.
WA 6: Upon reception of the device specific coverage class information the CN
stores it for use in subsequent paging for delivery of downlink data to that
device.
WA 7: In order for RAN to send a page with the appropriate coverage
enhancements the CN needs to convey the latest known coverage class
information in the downlink paging PDU.
#### 8.1.5.1 Synchronization for paging in CIoT
##### 8.1.5.1.1 Potential impact introduced by extended DRX cycle
In Cellular IoT, extended DRX cycles are used for MSs in sleep mode in order
to save power. In the unsynchronized network the time offset between
neighboring cells may be several super frames. As a result, the time offset
between the paging occasions in two neighbouring cells may be also long, i.e.
in the same order as the extended DRX cycle length. During such a long
duration, even for a CIoT MS with no mobility or low mobility, the radio
environment and the location of the MS may change.
The first impact caused by the extended DRX cycle is the loss of paging
messages. As an example, for a MS (MS1), the time between the paging occasions
in two adjacent cells (e.g. cell 1 and cell2) can be long. If MS1 moves out of
the coverage of the previous cell (cell1) and camps on another cell (cell2)
before the paging occasion in cell 1, MS1 loses the first paging message in
cell1 and needs to wait for the first paging occasion in cell2. Because the
duration is long, it is possible that MS1 moves out of the coverage of cell2
before the paging occasion in cell2, then the next paging message will also be
lost. So some CIoT MSs, e.g. MS1, may experience very long delay in
successfully receiving the paging message. Furthermore, the MS may wake up in
a new cell and miss the paging occasion because the cells are unsynchronized
(e.g. MS1, in extended DRX in cell2, wakes up for paging occasion in cell2,
then determines it needs to camp on cell1, however it has now missed paging
occasion on cell1).
The second impact is that paging messages triggered by the same downlink PDU
may be received by the mobile station several times. As an example, cell 1 and
cell 2 are two neighboring cells. A MS (MS2) receives the paging message
triggered by a downlink PDU in cell1, and accordingly MS2 uses the RACH
procedure to send the paging response. The downlink PDU will be sent to cell1
and be forwarded to MS2. However, due to the long time duration between the
paging occasions in cell1 and cell2, MS2 may move and camp on cell2 before the
paging occasion in cell2. MS2 will receive the paging message triggered by the
same downlink PDU again in cell2. In this case, MS2 triggers a RACH procedure
again to send the paging response which is not required as the DL message
which triggered the paging has already been delivered.
There are also impacts on base stations if an extended DRX cycle is used for
CIoT MS. The SGSN does not know the exact time of the paging occasions in
every cell for a CIoT MS. So the paging message arrives at each base station
an undetermined amount of time ahead of the paging occasion, therefore the
base station may need to buffer the paging message for a long time.
Considering the high number of CIoT MSs that are supported in each cell, there
will be relatively high requirement on buffer size on each base station.
##### 8.1.5.1.2 SFN level synchronization for paging
If the base stations in the same routing area can be synchronized with a
granularity of a time unit in the order of seconds, which is used as the time
unit for defining extended DRX cycle length, the impacts caused by extended
DRX cycle can be avoided. For simplicity, we use super frame here to represent
this time unit and also use NB M2M as an example to show the principle of the
solution. Alternatively, the time unit can be any definition of frame or super
frame with the length of several seconds, depending on the specific candidate
solutions.
When the cells are synchronized at SFN level, the maximum time offset between
two neighbouring cells is less than one SFN. As shown in Figure 8.1.5.1-1, the
maximum time offset between the paging occasions in two neighbouring cells is
also shorter than one super frame. During this short period the probability of
cell change is relatively low for a MS with no mobility or low mobility.
Figure 8.1.5.1-1: SFN level synchronization for paging
As the duration of a super frame is in the order of seconds, the amount of
precision required for SFN level synchronization is quite low. This can be
achieved by implementation or signaling exchange between the SGSN and the base
stations without too much complexity. For example a reference time for SFN
start can be synchronized by signalling exchange between the SGSN and the base
stations.
In this approach, a CIoT MS in sleep mode should wake up before the next
paging occasion in the original cell so as not to miss the paging occasion if
it has to move to another cell. As illustrated in Figure 8.1.5.1-2, the
maximum time offset between two neighbouring cells is one super frame. The
earlier wake up time should also take into account the maximum time offset
between cells (one SFN) and the time required for cell reselection and
synchronization. After having synchronized with the new cell, the MS knows the
exact time of the following paging occasion, and can go to sleep until it to
save battery life.
In a SFN level synchronized network, it is much easier for the SGSN to control
the buffer size on base stations used for paging messages. Only the relative
SFN offset to the next paging occasion of the MS is needed on SGSN to achieve
this. This relative time information can be easily known by SGSN through a SFN
level synchronization procedure.
### 8.1.6 Indicative Capacity and Latency requirements for the CIoT Core
Network with large number of devices
This clause is equally applicable to solutions based on New Radio Accesses and
those based on an Evolution of GSM.
Using as an example:
\- an illustrative relatively large European network of 17500 base station
sites;
\- each containing 3 CIoT cells;
\- the 52547 devices/cell density of devices from Annex E.1 extended as a
uniform density in all cells; and
\- a data throughput of 50 bytes per device every 2 hours,
\- results in a mean Core Network user plane throughput of slightly greater
than 150 Mbit/s for the complete network.
This can be contrasted with the peak data rate of a single LTE Cat 4 device
(LTE Rel 8) of 150 Mbit/s or a single LTE Cat 6 device (2 downlink carrier
aggregation) of 300 Mbit/s.
**Observation 8.1.6-1** The user plane data rate requirements of CIoT on the
core network are very low compared to that of an LTE Core Network.
This illustrative network would have a large number of devices, i.e.
17500*3*52547 which is > 2.5 billion devices. Each device transmits once every
2 hours (= 7 200 seconds) giving an average rate of about 400 000 independent
transmissions per second. In an S1 based architecture this would be e.g.
similar to a network of 70 million LTE devices continually establishing and
releasing an RRC connection once every 3 minutes.
An alternative, less active, network model would be 40 devices per household;
2 people per household; 60 million population per country giving 1.2 billion
devices/country. With only one transmission per device per day this gives a
rate of around 14 000 transactions/second (c.f. 2.5 million LTE devices
connecting and releasing every 3 minutes.)
**Observation 8.1.6-2** Control plane efficiency is important for the CIoT
Core Network.
The CIoT RAN has a minimum data rate of 160 bps. Hence a data packet or
signalling message of 80 bytes could take 4 seconds to be transferred across
the radio interface. The timers and protocols (e.g. in TS 24.301 [20], clause
10, or TS 24.008, clause 11) on both the device and network need to take these
radio latencies into account. Given such extreme radio interface latencies,
the addition of a few tens of ms of delay within the core network can be
tolerated: e.g. the CIoT core network is an ideal candidate for
\'virtualisation\' on hardware platform(s) that are located a long way from
the CIoT RAN. Conversely the (good) desire to provide low(er) latency services
on high-end LTE devices mean that the LTE Core Network ought to be positioned
to take the \"speed of light\" delay in the transmission path from eNB to
S/PGW into account.
**Observation 8.1.6-3** There is no latency related reason to locate the CIoT
Core Network physically close to the CIoT RAN. Given these latencies, a
\'virtualised\' implementation may be suitable for the CIoT Core Network.
**Working Assumption 8.1.6-4** Given the low data rates on the CIoT radio
interface, the NAS timers in the selected Core Network are anticipated to need
modification.
From section 5.7 of TS 23.401 [32] and Section 13 of TS 23.060 [31], it can be
estimated that the per-UE context that needs to be stored in an
MME/SGSN/SGW/PGW/GGSN for a CIoT type of device (e.g. using only one
bearer/PDP context) is less than one kilobyte. Hence for a network with 2
billion devices, 2 Terabyte of storage is needed. Internet searches indicate
that this appears to be within the capabilities of current consumer grade
solid state drives.
**Observation 8.1.6-5** Storage of context information for large numbers of
devices should not be a problem on a newly implemented CIoT Core Network.
### 8.1.7 Initial rollout of CIoT with existing Core Network for small number
of devices
Clause 8.1.6 indicates that, for a mature CIoT network, there could be good
reasons to use a separate Core Network for CIoT devices to that used for LTE
(and 3G and possibly 2G) devices.
Despite this operators might be interested in launching a CIoT network by
reusing the installed base of the operators\' Packet Core Network. There may
also be other, e.g. O&M related, reasons why an operator wishes to reuse
existing vendors\' equipment.
The results of the web searches conducted in May 2015 show that many core
network vendors are currently marketing hardware platforms that could support
a combined MME and SGSN.
Noting that \"Gb over IP\" was a 3GPP Release 4 feature, it would appear that
adding Gb interface capability to most \"MMEs\" appears to be a software
(licencing) issue, not a hardware rollout/maintenance issue.
### 8.1.8 **Migration from CIoT \"launch\" Core Network to future
\"lightweight core network\"**
3GPP SA2\'s Study Item on \"Study on architecture enhancements of cellular
systems for ultra low complexity and low throughput Internet of Things\"
(FS_AE_CIoT) is not currently scheduled to deliver normative changes in 3GPP
Release 13. Hence it is useful to plan how to migrate from the Core Network
used at CIoT launch to the future, \"CIoT optimized\" Core Network.
One straightforward mechanism is to build on the \"Gb-flex\"/\"S1-flex\"
concepts already supported in 3GPP (e.g. see TS 23.236 [25]) as follows:
\- System Information indicates whether the CIoT cell is connected to the
\"CIoT optimized\" Core Network.
\- When starting the Mobility Management Attach procedure, the UE decides
whether it wants to use the \"R13\" CN or the \"CIoT optimized\" CN. This
decision is simple in the case that the UE only supports software for one of
the CNs.
\- The choice of CN is sent to the RAN in signalling that occurs prior to the
first signalling for that UE being sent from the RAN to the Core Network.\ An
example of the subsequent signalling is as follows:
\- Prior to standardization for the \"CIoT optimized\" CN, codepoint(s) should
be reserved so that its selection can be signalled from the UE to the RAN. An
example coding is shown below for the case that the Random Access message is
used to carry this information:
{width="6.5in" height="2.571527777777778in"}
\- The RAN routes Signalling messages to the appropriate Core Network.
\- TMSI ranges for CIoT are divided (by O&M) between the \"CIoT optimized\" CN
nodes and the other CN nodes.
\- The CN node allocates a TMSI from the correct range to the device. The
device uses this TMSI for subsequent data transfer and signalling activity.
\- When subsequently accessing the RAN, the RAN selects the CN node based on
the core network routeing information contained in the P-TMSI/S-TMSI.
This approach does require the Network Routeing Information (c.f. \"CN-
routeing\") bits within the R13 and R14 temporary IDs to be allocated to the
same bit positions, or, RRC provides some rules to provide the base station
with release-independent CN node routeing information. The Radio interface
signalling may also need to accommodate TMSIs of different size (e.g. the GPRS
P-TMSI is 4 octets while the E-UTRAN S-TMSI is 5 octets.)
It is anticipated that the device would only support one software stack
(either R13 or R14). It is anticipated that networks would support both R13
and R14 devices while there were significant numbers of R13 devices.
## 8.2 Architecture evaluation criteria
### 8.2.1 Transmission efficiency
The choice of an architecture option inherently impacts the amount of
signalling the MTC device has to perform before sending or receiving user
plane data and the header overhead associated with each user plane packet. The
amount of signalling and overhead imposed by an architecture option has an
impact on the system capacity and energy consumption of the device. It is thus
important to analyse the transmission efficiency of each architecture option.
For the purpose of the architecture evaluation, the transmission efficiency is
defined as the ratio of the application data size to the total amount of data
(application data, signalling data and associated header overheads for the
transmission of the signalling and data).
E_~transmission~=D_~application~/ (D_~application~+H~_CN~ + H~_access~ +
S~_radio~ + H~_signalling~)
Where
D_~application~ is the amount of application layer data to transmit,
H_~CN~ is the overhead from protocols below the application layer and above
equivalent of SNDCP layer (See Annex E for an example protocol stack),
H~_access~ is the header overhead for user plane data due to radio access
network (which is dependent on the architecture and radio access technology),
S~_radio~ is the amount of signalling information exchanged before transfer of
the user plane data and
H~_signalling~ is the header overhead for signaling information.
H_~access~ + S~_radio~ + H~_signalling~ represents the overhead related to a
specific core network architecture.
In a zero overhead architecture, H~_access~, S~_radio~ and H~_signalling~
would all be equal to \"zero\". This can be used as a baseline for comparison.
NOTE: The evaluation of transmission efficiency of an architecture option
should be done using the MAR periodic traffic model only (See Annex E).
## 8.3 Architecture evaluation results
_e.g. evaluation of signalling overhead, security implications, user plane
handling etc._
### 8.3.1 Evaluation of transmission efficiency
The transmission efficiency is evaluated for one uplink data transfer (further
details of the methodology are in GP-150496 [8.3.1-1]). The MS is assumed to
have attached successfully and activated a PDP context/default bearer, and the
Attach/RAU/TAU procedures are not taken into account (e.g. the periodic
RAU/TAU timer is longer than MAR reporting period). In the S1- based
architecture, a MS in RRC_IDLE mode needs to establish the RRC and NAS
connection via a NAS Service Request procedure before sending the periodic
report.
The size of the uplink data payload is 20 bytes, the size of the application
layer ACK is 0 byte, and the header overhead is defined in subclause Annex
E.3. Retransmissions are not considered. The values are based on the NB M2M
solution defined in subclause 7.1.
The transmission efficiency is evaluated for a zero overhead architecture
(i.e. without any overhead on radio interface), the Gb-based architecture and
the S1-based architecture RRC_IDLE mode. The results are given in Table
8.3.1-1.
Table 8.3.1-1: Transmission efficiency for different architectures
+--------------+--------------+--------------+--------------+-------+ | Item | Zero | Gb based | S1 based | | | | overhead on | architecture | architecture | | | | radio | | | | | | interface | | - idle mode | | +--------------+--------------+--------------+--------------+-------+ | PDT | Without IP | 13.30% | 10.36% | 9.13% | | | header | | | | | | compression | | | | +--------------+--------------+--------------+--------------+-------+ | | With IP | 25.64% | 16.53% | 9.13% | | | header | | | | | | compression | | | | +--------------+--------------+--------------+--------------+-------+ | SMS | 35.48% | 15.70% | 11.60% | | +--------------+--------------+--------------+--------------+-------+ | NOTE 1: | | | | | | Transmission | | | | | | efficiency | | | | | | using the | | | | | | header | | | | | | overhead | | | | | | defined in | | | | | | subclause | | | | | | Annex E.3; | | | | | | | | | | | | NOTE 2: The | | | | | | size of the | | | | | | uplink data | | | | | | payload is | | | | | | 20 bytes as | | | | | | an example, | | | | | | changing of | | | | | | this payload | | | | | | size will | | | | | | not impact | | | | | | the | | | | | | conclusion | | | | | | in clause | | | | | | 8.4.1. | | | | | +--------------+--------------+--------------+--------------+-------+
### 8.3.2 Evaluation of device energy consumption
Device energy efficiency is a very important aspect, however, the radio
interface signalling flows for Gb and S1 based architectures may be different
(e.g. because the base station and UE do not know if the MME will want to
change the encryption key (in which case the MME first responds to a Service
Request message with a NAS Authentication Request message before supplying new
encryption key information to the eNB in the S1AP Initial Context Setup
procedure)).
The present document provides Energy Consumption comparisons between the
candidate radio solutions using a Gb based architecture. Once the radio
related signalling flows (including layer 2 ack/nacks) for an S1 based
architecture are established, the data provided for the Energy Consumption
Evaluations by the different candidate solutions can be reused to evaluate the
difference in battery life between Gb and S1 based architectures.
## 8.4 Conclusions on architecture options evaluation
### 8.4.1 Conclusion on evaluation of transmission efficiency
Based on subclause 8.3.1, the transmission efficiency is higher in the Gb
based architecture than in the S1 based architecture - RRC_IDLE mode due to
the significant signalling overhead required to establish the connection.
### 8.4.2 Conclusion on device energy consumption
Given that clause 8.3.1 shows that the S1 interface is less efficient in terms
of transmission efficiency, and, (as mentioned in the first paragraph of
subclause 8.3.2) that control of cipher key change is the responsibility of
the MME, it can be concluded that a Gb based architecture will have lower
device energy consumption than the current (June 2015) S1 based architecture.
# 9 General Requirements for all CIoT proposals
The applicability for these requirements for EC-GSM is FFS.
## 9.1 Network Sharing principles
Network sharing using the \"MOCN\" concept is supported:
\- Transmission of 1 up to 6 PLMN identities on the BCCH is supported
\- there is no need for a common / additional PLMN id (unlike in UMTS)
\- MOCN network sharing support is mandatory for CIoT UEs.
\- The selected PLMN is reported from the UE by using a \"pointer\" to the
transmission order on the BCCH (as in LTE RRC).
The CIoT system design also supports the \"GWCN\" concept.
## 9.2 Cell Barring and Reservation principles
\- The cell baring concept of LTE is supported by using a cell baring
indication (1 bit).
\- The \"cell reserved for operator use\" concept of LTE is supported by using
a cell reserved for operator use indication (1 bit).
> Note 1: Only UE with AC11 and/or AC15 are allowed to select/reselect such as
> cell.
\- A \"cell reserved for future use\" (1 bit) should be supported by the CIoT
system with the default that UE do not select or reselect such as cell.
Note 2: This is a hook for a later introduction of a concept similar to the
\"CSG concept\"or other use cases where a specific handling of cells is
required.
## 9.3 Access Barring principles
\- The Access Control concept is based on the availability of Access Classes
in the SIM/UICC like in GSM/UMTS/LTE.
\- The Access Control is based on a Access Class Barring bitmap (like for GSM
& UMTS).
\- The Access Barring time for CIoT is fixed.
\- The support of EAB or any other enhanced Access Barring feature is not
needed for the CIoT system.
\- Access Class Barring only applies for mobile originated calls.
\- It is possible to allow exceptional reporting in case the access control
for normal reporting would prevent a UE from access to the CIoT system.
\- This is realized by a single bit on the BCCH which overwrites the access
restriction.
\- It is possible to configure a UE individually with the allowance to use the
AC barring overwrite for exceptional reporting.
\- This is done dedicated per UE with (NAS) signalling as part of the
registration procedure.
\- For the network sharing case the indication of Access Barring information
is per sharing PLMN.
# 10 Summary and overall conclusions
## 10.1 Compliance with the objectives and radio interface conclusions
In the tables below the compliance to the objectives, of the various candidate
techniques, set by the study is summarized. For all performance evaluations
the Gb architecture has been assumed.
Table 10.1-1: Summary of compliance with performance objectives for completed
techniques
+-------------------------+----------------------+---------------+ | Performance | Completed techniques | | | | | | | Objective | | | +-------------------------+----------------------+---------------+ | | EC-GSM | NB-CIoT | +-------------------------+----------------------+---------------+ | Improved indoor | **Compliant** | **Compliant** | | coverage (see 4.1.1) | | | +-------------------------+----------------------+---------------+ | Support of massive | **Compliant** | **Compliant** | | number of low | | | | throughput devices (see | | | | 4.1.2) | | | +-------------------------+----------------------+---------------+ | Reduced device | **Compliant** | **Compliant** | | complexity (see 4.1.3) | | | +-------------------------+----------------------+---------------+ | Improved power | **Compliant** | **Compliant** | | efficiency (see 4.1.4) | | | +-------------------------+----------------------+---------------+ | Latency (see 4.1.5) | **Compliant** | **Compliant** | +-------------------------+----------------------+---------------+
Table 10.1-2: Summary of compliance with performance objectives for partially
described techniques
+----------+----------+----------+----------+----------+----------+ | Per | P | | | | | | formance | artially | | | | | | | d | | | | | | O | escribed | | | | | | bjective | te | | | | | | | chniques | | | | | +----------+----------+----------+----------+----------+----------+ | | NB-LTE | NB-M2M | NB-OFDMA | N-GSM | C-UNB | +----------+----------+----------+----------+----------+----------+ | Improved | ** | **Com |** Com | ** | **Not | | indoor | Expected | pliant** | pliant**| Expected | com | | coverage | to be | | | to be | pliant** | | (see | ful | | | ful | | | 4.1.1) | filled**| | | filled** | | +----------+----------+----------+----------+----------+----------+ | Support | **In |** Com | ** | **In |** Not | | of | conclusi | pliant**| Expected | conclusi | com | | massive | ve/FFS** | | to be | ve/FFS**| pliant** | | number | | | ful | | | | of low | | | filled**| | | | th | | | | | | | roughput | | | | | | | devices | | | | | | | (see | | | | | | | 4.1.2) | | | | | | +----------+----------+----------+----------+----------+----------+ | Reduced |** In | ** | ** | ** | **Not | | device | conclusi | Expected | Expected | Expected | com | | co | ve/FFS** | to be | to be | to be | pliant**| | mplexity | | ful | ful | ful | | | (see | | filled** | filled**| filled** | | | 4.1.3) | | | | | | +----------+----------+----------+----------+----------+----------+ | Improved | **In |** Com | **Com |** In | **Not | | power | conclusi | pliant** | pliant**| conclusi | com | | ef | ve/FFS** | | | ve/FFS**| pliant** | | ficiency | | | | | | | (see | | | | | | | 4.1.4) | | | | | | +----------+----------+----------+----------+----------+----------+ | Latency | ** | **Com |** Com | **Com |** Not | | (see | Expected | pliant**| pliant** | pliant**| com | | 4.1.5) | to be | | | | pliant** | | | ful | | | | | | | filled** | | | | | +----------+----------+----------+----------+----------+----------+
Table 10.1-3: Summary of compliance with compatibility objectives for
completed techniques
+-------------------------+----------------------+---------------+ | Compatibility | Completed techniques | | | | | | | Objective | | | +-------------------------+----------------------+---------------+ | | EC-GSM | NB-CIoT | +-------------------------+----------------------+---------------+ | Co-existence with | **Compliant** | **Compliant** | | GSM/UMTS/LTE (see | | | | 4.2.1) | | | +-------------------------+----------------------+---------------+ | Impact on GSM/EDGE BTS | **Compliant** | **Compliant** | | hardware (see 4.2.2) | | | +-------------------------+----------------------+---------------+
Table 10.1-4: Summary of compliance with compatibility objectives for
partially described techniques
+----------+----------+----------+----------+----------+----------+ | Compa | P | | | | | | tibility | artially | | | | | | | d | | | | | | O | escribed | | | | | | bjective | te | | | | | | | chniques | | | | | +----------+----------+----------+----------+----------+----------+ | | NB-LTE | NB-M2M | NB-OFDMA | N-GSM | C-UNB | +----------+----------+----------+----------+----------+----------+ | Co-e | **In | ** | ** | ** |** Not | | xistence | conclusi | Expected | Expected | Expected | com | | with | ve/FFS**| to be | to be | to be | pliant** | | GSM/ | | ful | ful | ful | | | UMTS/LTE | | filled**| filled** | filled**| | | (see | | | | | | | 4.2.1) | | | | | | +----------+----------+----------+----------+----------+----------+ | Impact |** In | ** | ** | **Com |** Not | | on | conclusi | Expected | Expected | pliant**| com | | GSM/EDGE | ve/FFS** | to be | to be | | pliant**| | BTS | | ful | ful | | | | hardware | | filled** | filled** | | | | (see | | | | | | | 4.2.2) | | | | | | +----------+----------+----------+----------+----------+----------+
TSG GERAN has in the study on Cellular System Support for Ultra Low Complexity
and Low Throughput Internet of Things\" studied various candidate techniques.
The following is the outcome of the study:
\- EC-GSM concluded and shown compliance to all objectives.
\- NB-CIoT concluded and shown compliance to all objectives.
\- NB-LTE, NB-M2M, NB-OFDMA, N-GSM, C-UNB are partially described.
* * *
Classification  
Compliant Expected to be fulfilled Inconclusive/FFS Not compliant
* * *
## 10.2 Overall Architecture Conclusions
For evolutions of GSM, a Gb based architecture is selected.
For \'clean slate\' concepts described in clause 7, clause 8.4 has concluded
that a Gb based architecture is better than the current (June 2015) S1 based
architecture in terms of transmission efficiency and device energy
consumption.
NOTE: Since June 2015, 3GPP TSG SA WG 2 has commenced work to examine
improvements to the S1 based architecture for the type of traffic models
considered in this Technical Report.
###### ### Annex A: Deployment scenarios for Cellular IoT
Table A.1
+----------------------------------+----------------------------------+ | Scenario | Description | +----------------------------------+----------------------------------+ | Deep coverage (in building) | Cellular IoT devices are | | | typically expected to be | | | deployed indoor, with some | | | devices in basements or | | | underground or embedded in | | | objects, where they may be | | | subjected to deep penetration | | | losses (up to 20 dB more than | | | legacy GPRS). | +----------------------------------+----------------------------------+ | Extended geographic coverage | When the Maximum Coupling Loss | | | is not exceeded, it is required | | | that Cellular IoT can support a | | | cell radius of 35 km. | | | | | | Operation at values of cell | | | radius >35 km according to the | | | Maximum Coupling Loss is | | | desirable but a secondary | | | objective. | +----------------------------------+----------------------------------+ | Mobility | The majority of cellular IoT | | | devices will be stationary. | | | Cellular IoT is expected to be | | | designed and optimized for | | | stationary devices. | | | | | | The performance requirements and | | | methodology for performance | | | evaluation for stationary and | | | non-stationary scenarios are | | | summarized in the following | | | table. | | | | | | ------ | | | -------------------------------- | | | ----------------- -------------- | | | ------------ ------------------- | | | ---- -------------------------- | | | -------------------------------- | | | | | | | | | **20 dB extr | | | a-coverage** **160 bps data ra | | | te** **10-year battery life** | | | **system capacity evaluation** | | | **Station | | | ary CIoT devices^5^** | | | Yes | | | Yes | | | Yes Yes | | | **Non-st | | | ationary (up to 30 km/h) CIoT de | | | vices** No^1^ | | | Yes^2^ | | | No^3^ No | | | **Non-st | | | ationary (higher than 30 km/h) C | | | IoT devices** No^1^ | | | No^4^ | | | No No | | | ------ | | | -------------------------------- | | | ----------------- -------------- | | | ------------ ------------------- | | | ---- -------------------------- | | | -------------------------------- | | | | | | ^1^GPRS coverage requirements | | | apply | | | | | | ^2^Performance evaluated with | | | link level simulations | | | | | | ^3^Battery life analysis is | | | required | | | | | | ^4^Link level simulations may be | | | provided by proponents to | | | indicate actual performance at | | | high speeds. | | | | | | ^5^Modelled by radio channel | | | TU1.2 and Doppler spread 1 Hz | +----------------------------------+----------------------------------+ | Re-use of existing | It is expected that the Cellular | | infrastructure | IoT technology is at least | | | deployable on existing radio | | | access sites based on: | | | | | | - 3GPP GSM/EDGE multicarrier | | | Base Stations | | | | | | - Multi Standard Radio Base | | | Station, which may or may | | | not support GSM/EDGE | | | operation specifications. | | | | | | > The re-use of existing | | | > equipment, such as antennas, | | | > feeder cables etc.-is required | | | > and the Cellular IoT | | | > technology can preferably be | | | > introduced as a software load | | | > on the above mentioned | | | > existing radio access nodes _._ | | | | | | It is expected that the Cellular | | | IoT technology is deployable on | | | an existing core network (e.g. | | | re-using CN nodes and interfaces | | | according to the selected CIoT | | | architecture). | +----------------------------------+----------------------------------+ | Use of small amounts of licensed | It is expected that an initial | | spectrum | release of a \'clean slate\' | | | Cellular IoT technology is | | | deployable in small amounts of | | | licensed spectrum which may be | | | available by (re)using GSM | | | carriers, small unused parts of | | | licensed spectrum for UMTS and | | | small parts of licensed spectrum | | | for LTE. | | | | | | _Editor\'s Note: RAN 4 need to | | | be consulted on the deployment | | | options in UMTS/ LTE spectrum._ | +----------------------------------+----------------------------------+ | Spectrum sharing with GSM | Deployment of Cellular IoT based | | | on a GERAN evolution approach is | | | expected to share spectrum with | | | an existing GSM network. It is | | | expected that Cellular IoT based | | | on a \'clean slate\' solution | | | will not have to share any 200 | | | kHz channel with GSM. | +----------------------------------+----------------------------------+
###### ### Annex B: Calculation of MCL for legacy GPRS
# B.1 Downlink
The proposed calculation of Maximum Coupling Loss (MCL) for the legacy GPRS
downlink is shown in Table B.1 for an antenna configuration of 1T1R and is
based on the MCL calculation methodology in subclause 5.1 of TR 36.888 [3].
The BS transmit power is set to +43 dBm to reflect the common assumption for
this study (**See assumption 6 in Table D.1, Annex D, on system level
simulation assumptions)**.
The MS receiver sensitivity calculation is based on Table 6.2.1a of TS 45.005
[5] which specifies a reference sensitivity level of -102 dBm for \"GSM900
small MS\". This value is then adjusted by 4 dB to reflect the improved noise
figure of 5 dB that is assumed in this study for typical MS receivers (See
Table 5.1-2: Assumptions on MCL calculation). This results in the -106 dBm
Receiver Sensitivity value shown in Table B.1.
Table B.1: Link budget table for legacy GPRS downlink
+---------------------------------------------+-----------------------+ | | Downlink MCL based on | | | | | | TS 45.005 [5] | +---------------------------------------------+-----------------------+ | Transmitter | | +---------------------------------------------+-----------------------+ | (1) Total Tx power (dBm) | 43 | +---------------------------------------------+-----------------------+ | Receiver | | +---------------------------------------------+-----------------------+ | (2) Thermal noise density (dBm/Hz) | -174 | +---------------------------------------------+-----------------------+ | (3) Receiver noise figure (dB) | 5 | +---------------------------------------------+-----------------------+ | (4) Interference margin (dB) | 0 | +---------------------------------------------+-----------------------+ | (5) Occupied channel bandwidth (kHz) | 180 | +---------------------------------------------+-----------------------+ | (6) Effective noise power\ | -116.4 | | = (2) + (3) + (4) + 10 log((5)) (dBm) | | +---------------------------------------------+-----------------------+ | (7) Required SINR (dB) | 10.4 (See note) | +---------------------------------------------+-----------------------+ | (8) Receiver sensitivity\ | -106.0 | | = (6) + (7) (dBm) | | +---------------------------------------------+-----------------------+ | (9) Receiver processing gain (dB) | 0 | +---------------------------------------------+-----------------------+ | Maximum coupling loss (MCL)\ | 149.0 | | = (1) -- (8) + (9) (dB) | | +---------------------------------------------+-----------------------+ | Note: This value has been derived from the | | | \"Receiver sensitivity\" value shown in row | | | (8) and is shown for completeness. | | +---------------------------------------------+-----------------------+
# B.2 Uplink
The proposed calculation of Maximum Coupling Loss (MCL) for the legacy GPRS
uplink is shown in Table B.2 for an antenna configuration of 1T2R and is based
on the MCL calculation methodology in subclause 5.1 of TR 36.888 [3].
The MS transmit power is set to +33 dBm to reflect the assumption for this
study of the MS transmit power of legacy GPRS modem operating at 850/900 MHz
(See subclause 5.5.6: GPRS reference)
The BS receiver sensitivity calculation is based on the specification of -104
dBm for PDTCH/CS-1 (TU50, no FH) taken from TS 45.005 [5]. This value is then
adjusted by 2 dB to reflect the improved noise figure of 3 dB that is assumed
in this study for typical BS receivers (See Table 5.1-2: Assumptions on MCL
calculation). This results in the Receiver Sensitivity value of -106 dBm that
is shown in Table B.2. The Receiver Processing Gain value of 5 dB has been
taken from TR 36.888 [3] to reflect the use of two receiver antennas at the
base station.
Table B.2: Link budget table for legacy GPRS uplink
+----------------------------------+----------------------------------+ | | Uplink MCL based on TS | | | 45.005[5]\ | | | (adjusted for2 x Rx gain) | +----------------------------------+----------------------------------+ | Transmitter | | +----------------------------------+----------------------------------+ | (1) Total Tx power (dBm) | 33 | +----------------------------------+----------------------------------+ | Receiver | | +----------------------------------+----------------------------------+ | (2) Thermal noise density | -174 | | (dBm/Hz) | | +----------------------------------+----------------------------------+ | (3) Receiver noise figure (dB) | 3 | +----------------------------------+----------------------------------+ | (4) Interference margin (dB) | 0 | +----------------------------------+----------------------------------+ | (5) Occupied channel bandwidth | 180 | | (kHz) | | +----------------------------------+----------------------------------+ | (6) Effective noise power\ | -118.4 | | = (2) + (3) + (4) + 10 log((5)) | | | (dBm) | | +----------------------------------+----------------------------------+ | (7) Required SINR (dB) | 12.4 (See Note 1) | +----------------------------------+----------------------------------+ | (8) Receiver sensitivity= (6) | -106.0 | | + (7) (dBm) | | +----------------------------------+----------------------------------+ | (9) Receiver processing gain | 5 (See Note 2) | | (dB) | | +----------------------------------+----------------------------------+ | Maximum coupling loss (MCL)= (1) | 144.0 | | -- (8) + (9) (dB) | | +----------------------------------+----------------------------------+ | Note 1: This value has been | | | derived from the \"Receiver | | | sensitivity\" value shown in row | | | (8) so is just shown for | | | completeness. | | | | | | Note 2: This value is taken from | | | TR 36.888[3] for the | | | processing gain for a typical | | | BS, and is assumed to include | | | the use of two receive antennas | | | at the base station. | | +----------------------------------+----------------------------------+
# B.3 Overall MCL for legacy GPRS
From Tables B.1 and B.2, it can be observed that the overall MCL for legacy
GPRS is 144.0 dB, since the uplink is limiting the MCL.
###### ### Annex C: Link level simulation assumptions
The assumptions for the MS transmit power and BS transmit power are as
described in Table D.1 (system level simulation assumptions). The other
relevant link level simulation assumptions are summarized in Table C.1.
Table C.1: Assumptions for link level simulations
+----------------------+----------------------+----------------------+ | No. | Parameter | Value | +----------------------+----------------------+----------------------+ | 1 | Frequency band | 900 MHz | +----------------------+----------------------+----------------------+ | 2 | Propagation channel | TU | | | model | | +----------------------+----------------------+----------------------+ | 3 | Doppler spread | 1 Hz with model for | | | | Doppler spectrum | | | | taken from TR 36.888 | | | | [3]^1^ | +----------------------+----------------------+----------------------+ | 4 | Interference/noise | Sensitivity^2^ | +----------------------+----------------------+----------------------+ | 5 | Antenna | BS: 1T2R\ | | | configuration | MS: 1T1R | +----------------------+----------------------+----------------------+ | 6 | Frequency error | F_offset(t) = | | | | F_est_error + | | | | (F_drift_inactive | | | | *T_inactive) + | | | | (F_drift_active * | | | | t). See Note 3. | +----------------------+----------------------+----------------------+ | 7 | MS initial frequency | Randomly chosen from | | | error (for | -20 ppm and 20 ppm | | | evaluation of | (i.e. either -20 ppm | | | synchronization | or 20 ppm), | | | performance) | generated per | | | | synchronization | | | | attempt. | +----------------------+----------------------+----------------------+ | Note 1: Doppler | | | | spread of 1 Hz, with | | | | model from TR 36.888 | | | | [3], is a working | | | | assumption. This | | | | will be revisited if | | | | a more appropriate | | | | model is identified | | | | which shows | | | | significant | | | | difference in | | | | performance results. | | | | Doppler spread of | | | | 1Hz will model a | | | | non-stationary | | | | surrounding | | | | environment and not | | | | a non-stationary | | | | mobile device. Link | | | | level simulation | | | | results assuming 1Hz | | | | Doppler will be used | | | | in system level | | | | evaluation. | | | | | | | | Note 2: | | | | **Sensitivity will | | | | be modelled as a | | | | baseline. | | | | Interference | | | | scenarios need to be | | | | developed.** | | | | | | | | Note 3: F_offset(t) | | | | is the frequency | | | | offset at time t | | | | relative to the | | | | start of an uplink | | | | transmission. | | | | | | | | F_est_error (Hz) | | | | is the candidate | | | | technology specific | | | | estimation of the | | | | downlink frequency | | | | error, which should | | | | be justified and | | | | declared for each | | | | candidate | | | | technology. . In | | | | order to ensure | | | | sufficient margin to | | | | different | | | | impairments, such as | | | | TXCO precision, the | | | | candidate technology | | | | specific assumption | | | | on frequency offset, | | | | if expressed as a | | | | distribution, will | | | | not have a Root Mean | | | | Square Error (RMSE) | | | | lower than 10 Hz, or | | | | if a fixed offset is | | | | used, will not be | | | | lower than 10 Hz. | | | | | | | | F_drift_inactive | | | | (0.010 ppm/s) | | | | represents the | | | | frequency drift rate | | | | during the interval | | | | between the end of | | | | the last downlink | | | | reception used for | | | | frequency error | | | | estimation and the | | | | start of the uplink | | | | transmission. The | | | | polarity (sign) of | | | | the | | | | F_drift_inactive | | | | rate should be | | | | selected randomly | | | | for each simulated | | | | uplink packet. | | | | | | | | T_inactive (sec) is | | | | the time interval | | | | between the end of | | | | the last downlink | | | | reception used for | | | | frequency error | | | | estimation and the | | | | start of the uplink | | | | transmission. | | | | | | | | F_drift_active | | | | (0.025 ppm/s) is the | | | | frequency drift rate | | | | during the uplink | | | | transmission. The | | | | polarity (sign) of | | | | the F_drift_active | | | | rate should be | | | | selected randomly | | | | for each simulated | | | | uplink packet (so | | | | where a packet is | | | | composed of many | | | | repetitions, the | | | | polarity should be | | | | the same for each | | | | repetition). | | | | | | | | Refinement to the | | | | basic model which | | | | takes into account | | | | the candidate | | | | Cellular IoT radio | | | | interface technology | | | | proposal is allowed | | | | but the changes will | | | | be declared. | | | +----------------------+----------------------+----------------------+
###### ### Annex D: System level simulation assumptions
The assumptions for system level simulations are summarized in Table D.1.
Table D.1: Assumptions for system level simulations
+-------------------+-------------------+-------------------+-----+ | No | Parameter | Assumption | | +-------------------+-------------------+-------------------+-----+ | 1 | Cellular Layout | Hexagonal grid, 3 | | | | | sectors per | | | | | site^1^ | | +-------------------+-------------------+-------------------+-----+ | 2 | Frequency band | 900 MHz | | +-------------------+-------------------+-------------------+-----+ | 3 | Inter site | 1732 m | | | | distance | | | +-------------------+-------------------+-------------------+-----+ | 4 | MS speed | 0 km/h as the | | | | | baseline^2^ | | +-------------------+-------------------+-------------------+-----+ | 5 | User distribution | Users dropped | | | | | uniformly in | | | | | entire cell | | +-------------------+-------------------+-------------------+-----+ | 6 | BS transmit power | 43 dBm^3^ | | | | per 200 KHz (at | | | | | the antenna | | | | | connector) | | | +-------------------+-------------------+-------------------+-----+ | 7 | MS Tx power (at | Candidate | | | | the antenna | solution | | | | connector) | specific^4^ | | +-------------------+-------------------+-------------------+-----+ | 8 | Pathloss model | L=I + | | | | | 37.6log10(.R), R | | | | | in kilometers | | | | | | | | | | I=120.9 for the | | | | | 900 MHz band | | +-------------------+-------------------+-------------------+-----+ | 9 | Shadowing | 8 dB | | | | standard | | | | | deviation | | | +-------------------+-------------------+-------------------+-----+ | 10 | Correlation | 110 m | | | | distance of | | | | | Shadowing | | | +-------------------+-------------------+-------------------+-----+ | 11 | Shadowing | Between cell | 0.5 | | | correlation | sites | | +-------------------+-------------------+-------------------+-----+ | | | Between sectors | 1.0 | | | | of the same cell | | | | | site | | +-------------------+-------------------+-------------------+-----+ | 12 | Antenna pattern | See table 5-7, | | | | (horizontal) | 3GPP TR 45.914 | | | | | [4], 65° | | | | (For 3-sector | H-plane. | | | | cell sites with | | | | | fixed antenna | | | | | patterns) | | | +-------------------+-------------------+-------------------+-----+ | 13 | BS antenna gain | 18 dBi | | +-------------------+-------------------+-------------------+-----+ | 14 | MS Antenna gain | -4 dBi | | +-------------------+-------------------+-------------------+-----+ | 15 | BS cable loss | 3 dB | | +-------------------+-------------------+-------------------+-----+ | 16 | Building | Based on | | | | Penetration Loss | distributions | | | | | derived from | | | | | adapted COST 231 | | | | | NLOS model. See | | | | | clause D.1 and | | | | | note 5 | | +-------------------+-------------------+-------------------+-----+ | 17 | Inter-site | Two inter-site | | | | correlation | correlation | | | | coefficient | coefficients will | | | | | be used for | | | | | simulations: 0.5 | | | | | and 0.75 | | +-------------------+-------------------+-------------------+-----+ | Note 1: | | | | | Simulations | | | | | should consider | | | | | enough BS sites | | | | | to obtain | | | | | reliable results. | | | | | | | | | | Note 2: Mobility | | | | | scenario has to | | | | | be defined | | | | | | | | | | Note 3: The | | | | | carrier PSD | | | | | compared to GSM | | | | | will not be | | | | | exceeded. | | | | | | | | | | Note 4: The | | | | | highest MS Tx | | | | | power level at | | | | | which PA | | | | | integration on | | | | | chip is feasible | | | | | needs to be | | | | | identified | | | | | (working | | | | | assumption is 23 | | | | | dBm). The | | | | | supported MS Tx | | | | | power levels will | | | | | be declared and | | | | | evaluated for any | | | | | candidate | | | | | solution. | | | | | | | | | | Note 5: | | | | | Simulations | | | | | should be | | | | | performed for two | | | | | scenarios of | | | | | building | | | | | penetration loss | | | | | described in | | | | | clause D.1.All | | | | | evaluations | | | | | should provide | | | | | results for both | | | | | scenarios. | | | | +-------------------+-------------------+-------------------+-----+
# D.1 Building penetration loss
The building penetration loss is a component of the overall path loss model
for cellular devices in conditions of deep penetration loss and is in addition
to the outdoor pathloss model (see simulation assumption#8 in Table D.1).
Path loss indoor = outdoor path loss + Building Penetration Loss
The building penetration loss model for this study is based on the COST 231
Non Line of Sight (NLOS) model for building penetration loss which is adapted
to reflect the attenuation characteristics of both old and modern construction
materials and also with parameters chosen to reflect the expected environment
in which cellular IoT devices will be placed.
Building Penetration Loss = External wall penetration loss + max (Tor1, Tor3)
-- GFH
> Tor1 = Wi*p, where Wi is the loss in internal walls and p is the number of
> penetrated internal walls.
>
> Wi = 4-10 dB (uniformly distributed)
>
> p =0, 1, 2 or 3 (with p =3 also accounting for devices in deep penetration
> loss e.g. basement)
>
> Tor3 = alpha*d, where alpha is the penetration distance coefficient and d is
> the penetration distance.
>
> Penetration distance coefficient (alpha) = 0.6 dB/m
>
> d = uniformly distributed in the range 0-15m
>
> GFH = n*Gn, where Gn is the floor height gain per floor, n is the floor
> number
>
> n = 0,1,2,3 or 4 (uniform distribution)
>
> Gn = 1.5 dB/floor
>
> External wall loss is modelled as uniformly distributed either in range 4-11
> dB, 11-19 dB or 19-23 dB.
>
> The two scenarios to be simulated for the evaluation in this study are
> summarized in Table D.2 (scenario#1) and Table D.3 (scenario#2)
Table D.2: Definition of scenario#1 for building penetration loss
* * *
Distribution of external wall penetration loss  
External wall penetration loss 4-11 dB 11-19 dB 19-23 dB Percentage of devices
uniformly distributed in range 25% 65% 10% Assumptions related to additional
penetration loss due to internal walls  
Percentage of devices mapped to case p=3 ( with remaining devices equally
distributed among cases p=0,1,2) 15%  
Assumption for dependency of penetration loss of internal walls of a building.
Independent i.e. a different value of Wi is randomly generated for each
internal wall.
* * *
Table D.3: Definition of scenarios#2 for building penetration loss
* * *
Distribution of external wall penetration loss  
External wall penetration loss 4-11 dB 11-19 dB 19-23 dB Percentage of devices
uniformly distributed in range 25% 50% 25% Assumptions related to additional
penetration loss due to internal walls  
Percentage of devices mapped to case p=3 ( with remaining devices equally
distributed among cases p=0,1,2) 20%  
Assumption for dependency of penetration loss of internal walls of a building.
Dependent i.e. one value of Wi is randomly generated and applies to all
internal walls.
* * *
###### ### Annex E: Traffic Models
# E.1 Cellular IoT device density per cell site sector
The cellular IoT device density per cell site sector is calculated by assuming
40 devices per household. The household density is based on the assumptions of
TR 36.888 [3] for London in Table E.1-1.
Calculation
{width="6.5in" height="1.9930555555555556in"}
Figure E.1-1: Cell site Sector area definition
Calculation:
Inter-site Distance (ISD) = 1732m
Cell site sector radius, R = ISD/3 = 577.3m
Area of cell site sector (assuming a regular hexagon) = 0.86 Sq Km
Number of devices per cell site sector = Area of cell site sector*Household
density per Sq km*number of devices per household
= 52547
Table E.1-1: Device density assumption per cell
* * *
Case Household Density per Sq km Inter-site Distance (ISD) (m) Number of
devices within a household Number of devices within a cell site sector Urban
1517 1732 m 40 52547
* * *
# E.2 Traffic models for Cellular IoT
## E.2.0 General
The traffic models in this annex are required to perform capacity evaluations
using system level simulations and for latency analysis.
Four different application traffic models are defined to reflect the traffic
characteristics of applications expected to be supported using Cellular IoT.
## E.2.1 Mobile Autonomous Reporting (MAR) exception reports
Many sensor type applications are expected to monitor a physical condition and
trigger an exception report when an event is detected. Such events are
expected to be generally rare, typically occurring every few months or even
years. Examples of such applications include smoke alarm detectors, power
failure notifications from smart meters, tamper notifications etc.
For the purpose of latency analysis, it is assumed that MAR exception reports
have an uplink application payload of 20 bytes. It is required that such
reports are delivered in near real time, with a latency target of 10s.
For every generated uplink report (i.e. 100% of uplink exception reports), it
is also assumed that the application will send a downlink application ACK. The
size of the application layer ACK size is zero. The total packet size (above
equivalent of SNDCP layer) is the overhead due COAP/DTLS/UDP/IP..
## E.2.2 Mobile Autonomous Reporting (MAR) periodic reports
Periodic uplink reporting is expected to be common for cellular IoT
applications such as smart utility (gas/water/electric) metering reports,
smart agriculture, smart environment etc. The MAR periodic uplink reporting
traffic model is used in system level simulations for capacity analysis.
Table E.2-1 summarizes the characteristics of MAR periodic reporting:
Table E.2-1: MAR periodic UL reporting traffic model
* * *
Characteristic  
Application payload size distribution Pareto distribution with shape parameter
alpha = 2.5 and minimum application payload size = 20 bytes with a cut off of
200 bytes i.e. payloads higher than 200 bytes are assumed to be 200 bytes.
Periodic inter-arrival time Split of inter-arrival time periodicity for MAR
periodic is: 1 day (40%), 2 hours (40%), 1 hour (15%), and 30 minutes (5%)
* * *
A DL application layer ACK for an uplink periodic reporting event is assumed
in 50% of UL MAR periodic reports generated. The application downlink ACK
payload size is assumed to be 0 bytes. The total packet size (above equivalent
of SNDCP layer) is the overhead due COAP/DTLS/UDP/IP and is immediately sent
after the base station successfully receives an application UL packet. No
application layer retransmission of the APP DL ACK or UL MAR periodic report
is required.
## E.2.3 Network Command
The Network Command (NC) traffic model is used to model applications where an
application server generates an application layer command to the device to
perform an action without the need for an uplink response from the device e.g.
command to switch on the lights or to trigger the device to send an uplink
report as a result of the network command e.g. request for a smart meter
reading.
It is assumed that 50% of such Network Commands will require the MS to send an
application layer UL response whilst the other 50% will not generate a
response in system level simulations. Moreover, for the case where there is an
uplink response, there is no need for an application DL ACK for the response.
The size of the downlink Network Command is assumed to be 20 bytes and the
distribution of the periodic inter-arrival time is the same as for MAR
periodic model (Table E.2-1). The distribution of the application payload size
in response to the Network Command, where applicable, is the same as
application payload size distribution of MAR periodic in Table E.2-1.
## E.2.4 Software update/reconfiguration model
It is expected that all Cellular IoT devices will require some form of
application layer software update/reconfiguration occasionally. Software
reconfigurations (patches) are expected to make up most of the events and are
not expected to result in the large payload sizes expected for complete
software updates.
For the purpose of capacity evaluations, the traffic characteristics for
Software update/reconfiguration are described in Table E.2-2. The assumption
of maximum payload size in Table E.2-2 takes into consideration that the
downloads will be done using unicast (See clause 8.1.1)
Table E.2-2: Traffic characteristics for Software download/reconfiguration
model.
* * *
Characteristic  
Application payload size distribution Pareto distribution with shape parameter
alpha = 1.5 and minimum application payload size = 200 bytes with a cut off of
2000 bytes i.e. payload higher than 2000 bytes are assumed to be 2000 bytes.
Periodic inter-arrival time (180 days)
* * *
# E.3 Assumptions for header overhead
The total packet size at the equivalent of the SNDCP layer (excluding
equivalent of SNDCP layer overhead) is made up of the application payload size
and header overhead of protocols below the application layer and above the
equivalent of the SNDCP layer.
For the purpose of this study, the example protocol stack is assumed to be
CoAP (Constrained Application Protocol)/DTLS (Datagram Transport Layer
Security/UDP (User Datagram Protocol) /IP (Internet Protocol)
**The assumptions for header sizes for the different protocols are summarized
in Table E.2-3.**
Table E.2-3: Assumptions for header overhead above the equivalent of the SNDCP
layer
* * *
Protocol Size in bytes  
COAP 4  
DTLS 13  
UDP 8  
IP 40 (without IP header compression) 4 (with IP header compression) Total
header size 65 29
* * *
###### ### Annex F: Link layer design principles and radio resource management
concepts
This clause describes the general principles of the link layer design for
Cellular IoT and outlines the concept for radio resource management.
# F.1 Multiplexing principles
\- Multiplexing of UE specific signaling and data is required.
\- MS only needs to support one IP address.
# F.2 Scheduling principles
\- A scheduling mechanism to support flexible resource utilization is
required.
# F.3 MAC layer retransmissions
\- A feedback mechanism for MAC layer transmissions (ACK/NACK) is required.
The interaction with the PHY layer are described within the descriptions of
the specific solutions.
# F.4 Segmentation and reassembly of MAC layer SDU
\- Segmentation and re-assembly of upper layer PDU is required.
# F.5 Random access procedure
\- Random access for data transmission and NAS signalling is required (at
least for contention based access.
\- For clean slate concepts, it should be possible to allocate different set
of RACH resources depending on the coverage conditions of the MS.
\- Other RACH aspects are described within the solution specific descriptions.
# F.6 MS mobility states
\- The system will support devices that need low or medium latency (e.g. of
the order of seconds or minutes) mobile terminating services. The system also
supports other devices that want to use PSM.
\- The system will only apply PSM to devices with applications that generate
Mobile Autonomous Reporting (MAR) traffic type and applications that are
triggered with a Network Command without any latency requirement.
\- The device negotiates whether to use PSM with the Core Network during the
Attach/RAU/TAU procedures. AT commands (clause 7.38 of 3GPP TS 27.007 [24])
and/or other mechanisms can be used to configure the device\'s PSM request.
# F.7 System information (SI)
Each solution provides its own SI description.
# F.8 Paging
\- Paging mechanism needs to be optimized for different coverage classes.
\- The DRX/paging cycle should be configurable to support applications with
different latency requirements for application server triggered events
(Network Commands). This should range from 1-30s (typical for existing 3GPP
technologies) for low latency applications to 1-30 minutes to reduce energy
consumption for medium latency applications that need to \'listen\' to paging.
###### ### Annex G: Simulation assumptions for coexistence study
# G.1 Coexistence with GSM
General simulation assumptions for coexistence between CIoT and GSM are
summarized in Table G.1.
Table G.1: Summary of simulation assumptions for coexistence with GSM
+----+---------------------------+-------------------------------+ | No | Parameter | Assumption | +----+---------------------------+-------------------------------+ | 1 | Analysis method | - Snapshot based Monte-Carlo | | | | simulation | | | | | | | | - The victim performance | | | | losses as a function of ACIR | +----+---------------------------+-------------------------------+ | 2 | Network layout | CIoT and GSM networks are | | | | deployed in, | | | | | | | | - Coordinated operation | | | | | | | | - Uncoordinated operation | | | | (i.e. worst-case shift | | | | between operators, GSM site | | | | being located at CIoT cell | | | | edge) | +----+---------------------------+-------------------------------+ | 3 | Simulation cases | There are four simulation | | | | cases for each network | | | | layout, | | | | | | | | - Case 1, GSM MS victim and | | | | CIoT BS aggressor. | | | | | | | | - Case 2, GSM BS victim and | | | | CIoT MS aggressor. | | | | | | | | - Case 3, CIoT MS victim and | | | | GSM BS aggressor. | | | | | | | | - Case 4, CIoT BS victim and | | | | GSM MS aggressor. | +----+---------------------------+-------------------------------+ | 4 | Channel allocation | There are two channel | | | | allocation scenarios, | | | | | | | | - Scenario 1, the CIoT | | | | system is placed at one end | | | | of a number of contiguous GSM | | | | carriers in uncoordinated | | | | operation. | | | | | | | | - Scenario 2, the CIoT | | | | system is placed in the | | | | middle of a number of | | | | contiguous GSM carriers in | | | | coordinated operation. | +----+---------------------------+-------------------------------+ | 5 | Cellular Layout | - Macro environment | | | | | | | | - Hexagonal grid | | | | | | | | - 3 sectors per site | | | | | | | | - Inter-site distance 1732m | +----+---------------------------+-------------------------------+ | 6 | Frequency usage | - GSM cell frequency reuse: | | | | 3/9 and 4/12 | | | | | | | | - No frequency hopping for | | | | GSM | +----+---------------------------+-------------------------------+ | 7 | User distribution | - Users dropped uniformly in | | | | entire cell | +----+---------------------------+-------------------------------+ | 8 | System parameters | - BS Antenna pattern | | | | (horizontal) see table 5-7, | | | | 3GPP TR 45.914, 65° H-plane. | | | | | | | | - BS antenna gain 18dBi | | | | | | | | - BS cable loss 3dB | | | | | | | | - BS-MS minimum coupling | | | | loss 59dB | | | | | | | | For GSM, | | | | | | | | - MS antenna gain 0dBi | +----+---------------------------+-------------------------------+ | 9 | Propagation model | - Frequency band 900 MHz | | | | | | | | - L=I + 37.6log10(.R), R in | | | | kilometers | | | | | | | | - I=120.9 for the 900 MHz | | | | band | | | | | | | | - Shadowing standard | | | | deviation 8dB | | | | | | | | - Correlation distance of | | | | shadowing 110m | | | | | | | | - Shadowing correlation, 0.5 | | | | between cell sites and 1 | | | | between sectors of same site | +----+---------------------------+-------------------------------+ | 10 | Building Penetration Loss | For GSM, | | | | | | | | - No additional building | | | | penetration loss. | | | | | | | | For CIoT, | | | | | | | | - - See Annex D.1 of 3GPP TR | | | | 45.820. (No additional | | | | building penetration loss for | | | | the case of CIoT UE | | | | aggressor) | +----+---------------------------+-------------------------------+ | 11 | Power control | For GSM, | | | | | | | | Stabilization algorithm same | | | | as for WCDMA (C/I based) with | | | | a margin of 5 dB added to the | | | | SIR target. | | | | | | | | - Maximum power (TRx): 43 | | | | dBm | | | | | | | | - Minimum power (TRx): 10 | | | | dBm (non-BCCH) | | | | | | | | - Maximum power (MS): 33 dBm | | | | | | | | - Minimum power (MS): 5 dBm | +----+---------------------------+-------------------------------+ | 12 | SINR target | For GSM speech, | | | | | | | | - Downlink: 9 dB | | | | | | | | - Uplink: 6 dB | +----+---------------------------+-------------------------------+ | 13 | Performance metrics | For GSM speech, | | | | | | | | - Outage (i.e. 0.5 dB less | | | | than target SINR) degradation | | | | due to CIoT interference. | | | | | | | | For GSM data, | | | | | | | | - Throughput reduction in | | | | percent relative to the | | | | reference throughput without | | | | CIoT interference, separately | | | | for all UE and for the 5% | | | | throughput CDF UE.. | | | | | | | | For CIoT, | | | | | | | | - SINR reduction due to GSM | | | | interference. | +----+---------------------------+-------------------------------+ | 14 | ACIR | For GSM, | | | | | | | | - ACLR for BS and UE are | | | | derived from 3GPP TS 45.005, | | | | with the assumption that ACLR | | | | for the base station includes | | | | both wideband noise emissions | | | | and IM products. | | | | | | | | - ACS for BS and UE are | | | | derived from 3GPP TS 45.005, | | | | under the condition that a | | | | guard band of 100 kHz or more | | | | between CIoT and GSM is | | | | assumed. | +----+---------------------------+-------------------------------+
# G.2 Coexistence with E-UTRA and UTRA
General simulation assumptions for coexistence with E-UTRA and UTRA are
summarized in Table G.2.
Table G.2: Summary of simulation assumptions for coexistence with E-UTRA and
UTRA
+----+--------------------+--------------------+--------------------+ | No | Parameter | Assumption | Remarks | | | | (common) | | +----+--------------------+--------------------+--------------------+ | 1 | Analysis method | - Snapshot based | _\- According to | | | | Monte-Carlo | section 5.1 in | | | | simulation. | 3GPP TR 36.942 | | | | | [22]_ | | | | - The victim | | | | | performance losses | _\- According to | | | | as a function of | section 5.1.7.1.2 | | | | ACIR. | in 3GPP TR 25.942 | | | | | [21] and section | | | | | 5.1.1.9 in 3GPP TR | | | | | 36.942_ | +----+--------------------+--------------------+--------------------+ | 2 | Network layout | E-UTRA/UTRA | _\- According to | | | | networks are | section 4.4.2.1 in | | | | deployed in, | 3GPP TR 36.942_ | | | | | | | | | - Uncoordinated | | | | | deployment (i.e. | | | | | worst-case shift | | | | | between operators, | | | | | E-UTRA/UTRA site | | | | | being located at | | | | | CIoT cell edge) | | +----+--------------------+--------------------+--------------------+ | 3 | Simulation cases | There are four | _\- According to | | | | simulation cases | section 6.1 in | | | | for each network | 3GPP TR 36.942_ | | | | layout, | | | | | | | | | | - Case 1, | | | | | E-UTRA/UTRA UE | | | | | victim and CIoT BS | | | | | aggressor. | | | | | | | | | | - Case 2, | | | | | E-UTRA/UTRA BS | | | | | victim and CIoT UE | | | | | aggressor. | | | | | | | | | | - Case 3, CIoT UE | | | | | victim and | | | | | E-UTRA/UTRA BS | | | | | aggressor. | | | | | | | | | | - Case 4, CIoT BS | | | | | victim and | | | | | E-UTRA/UTRA UE | | | | | aggressor. | | +----+--------------------+--------------------+--------------------+ | 4 | Channel allocation | The CIoT system is | _\- According to | | | | placed at one end | section 4.2 in | | | | of E-UTRA/UTRA | 3GPP TR 25.816 | | | | carrier in | [33]_ | | | | uncoordinated | | | | | operation. | | +----+--------------------+--------------------+--------------------+ | 5 | Cellular Layout | - Macro | _\- According to | | | | environment | Table C.1 in 3GPP | | | | | TR 36.942_ | | | | - Urban area | | | | | | | | | | - Hexagonal grid | | | | | | | | | | - 3 sectors per | | | | | site | | | | | | | | | | - 19 sites (i.e. | | | | | 57 sectors) with | | | | | wrap-around | | | | | | | | | | - Inter-site | | | | | distance 750m | | +----+--------------------+--------------------+--------------------+ | 6 | Frequency usage | - E-UTRA/UTRA | _\- According to | | | | frequency reuse 1. | section 5.1.1.4 in | | | | | TR36.942_ | +----+--------------------+--------------------+--------------------+ | 7 | User distribution | - Users dropped | _\- According to | | | | uniformly in | section 5.1.5.1 in | | | | entire cell | TR 25.942_ | +----+--------------------+--------------------+--------------------+ | 8 | System parameters | - BS antenna | _\- According to | | | | pattern | Table C.1 in 3GPP | | | | (horizontal) see | TR 36.942_ | | | | subclause 4.2.1.1, | | | | | 3GPP TR 36.942. | | | | | | | | | | - BS antenna gain | | | | | (including cable | | | | | loss) 15dBi | | | | | | | | | | - Minimum | | | | | coupling loss 70dB | | | | | | | | | | For E-UTRA/UTRA, | | | | | | | | | | - MS antenna gain | | | | | 0dBi | | | | | | | | | | - Handover margin | | | | | 3dB | | | | | | | | | | - BS noise figure | | | | | 5dB | | | | | | | | | | - UE noise figure | | | | | 9dB | | +----+--------------------+--------------------+--------------------+ | 9 | Propagation model | - Frequency band | _\- According to | | | | 900 MHz | Table C.1 in 3GPP | | | | | TR 36.942_ | | | | - L=I + | | | | | 37.6log10(.R), R | | | | | in kilometers | | | | | | | | | | - I=120.9 for the | | | | | 900 MHz band | | | | | | | | | | - Shadowing | | | | | standard deviation | | | | | 10dB | | | | | | | | | | - Shadowing | | | | | correlation, 0.5 | | | | | between cell sites | | | | | and 1 between | | | | | sectors of same | | | | | site | | +----+--------------------+--------------------+--------------------+ | 10 | Building | For CIoT, | | | | Penetration Loss | | | | | | - see Annex D.1 | | | | | of 3GPP TR 45.820. | | +----+--------------------+--------------------+--------------------+ | 11 | ACIR | | _\- According to | | | | | section 5.1.1.3 | | | | | and section | | | | | 9.1.2.5 in 3GPP TR | | | | | 25.942_ | +----+--------------------+--------------------+--------------------+ | No | Parameter | Assumption | | | | | (E-UTRA) | | +----+--------------------+--------------------+--------------------+ | 12 | System bandwidth | - 10MHz | _\- According to | | | | | Table C.1 in 3GPP | | | | | TR 36.942_ | +----+--------------------+--------------------+--------------------+ | 13 | Power control | - See subclause | _\- According to | | | | 5.1.1.6 of 3GPP TR | section 5.1.1.6 | | | | 36.942 | and Table C.1 in | | | | | 3GPP TR 36.942_ | | | | - BS max tx | | | | | power: 46dBm | | | | | | | | | | - UE max tx | | | | | power: 23dBm | | | | | | | | | | - UE min tx | | | | | power: -40dBm | | +----+--------------------+--------------------+--------------------+ | 14 | System loading | - Traffic model: | _\- According to | | | | full buffer | section 12.1.2 and | | | | | Table C.1 in 3GPP | | | | - Resource Block | TR 36.942_ | | | | size: 180kHz | | | | | | | | | | - 1 active UE per | | | | | sub-frame with 50 | | | | | RBs per UE for | | | | | downlink | | | | | | | | | | - 3 active UEs | | | | | per sub-frame with | | | | | 16 RBs per UE for | | | | | uplink (total 48 | | | | | RBs) | | +----+--------------------+--------------------+--------------------+ | 15 | ACLR/ACS | For BS, | _\- According to | | | | | table 9.1 in 3GPP | | | | - ACLR: 45dB | TR 25.942, section | | | | | 6.6.2.3 and | | | | - ACS: 45dB | section 7.5 in | | | | | 3GPP TS 36.101, | | | | For UE, | section 6.6.2 in | | | | | 3GPP TS 36.104 | | | | - ACLR1: 30dB, | [36]_ | | | | ACLR2: 43dB (over | | | | | bandwidth of | | | | | aggressor) | | | | | | | | | | - ACS: 33dB | | +----+--------------------+--------------------+--------------------+ | 16 | Performance metric | - Throughput | _\- According to | | | | reduction in | section 5.1.1.9 in | | | | percent relative | 3GPP TR 36.942_ | | | | to the reference | | | | | throughput without | | | | | external | | | | | interference vs. | | | | | ACIR, separately | | | | | for all UE and for | | | | | the 5% throughput | | | | | CDF UE. | | | | | | | | | | - Link level | | | | | performance model | | | | | see Annex A, 3GPP | | | | | TR 36.942 | | +----+--------------------+--------------------+--------------------+ | No | Parameter | Assumption (UTRA) | | +----+--------------------+--------------------+--------------------+ | 17 | System bandwidth | - 5MHz | _\- According to | | | | | Table C.1 in 3GPP | | | | | TR 36.942_ | +----+--------------------+--------------------+--------------------+ | 18 | Power control | - See subclause | _\- According to | | | | 5.1.6.2 and | section_ 5.1.6.2 | | | | 5.1.6.3 of 3GPP TR | and section | | | | 25.942 | 5.1.6.3 of 3GPP TR | | | | | 25.942 and _Table | | | | - BS max tx | C.1 in 3GPP TR | | | | power: 43dBm | 36.942_ | | | | | | | | | - UE max tx | | | | | power: 21dBm | | | | | | | | | | - UE min tx | | | | | power: -50dBm | | +----+--------------------+--------------------+--------------------+ | 19 | System loading | - Traffic model: | _\- According to | | | | Speech (8kbps), | Table C.1 in 3GPP | | | | full buffer | TR 36.942 and | | | | | section 5.1.7 in | | | | - The number of | 3GPP TR 25.942_ | | | | users in the | | | | | uplink is | | | | | evaluated | | | | | according to a 6 | | | | | dB noise rise over | | | | | the thermal noise | | | | | in the UL. | | | | | | | | | | - The number of | | | | | users in the | | | | | downlink is | | | | | evaluated that 95 | | | | | % of the users | | | | | achieve an Eb/No | | | | | of at least | | | | | (target Eb/No -0,5 | | | | | dB) (i.e. 95 % of | | | | | users are | | | | | satisfied). | | +----+--------------------+--------------------+--------------------+ | 20 | Non orthogonality | - UL: N/A | _\- According to | | | factor | | Table C.1 in 3GPP | | | | - DL: 0.4 | TR36.942_ | +----+--------------------+--------------------+--------------------+ | 21 | Target Eb/N0 | For speech | _\- According to | | | | (8kbps), | Table C.1 in 3GPP | | | | | TR 36.942_ | | | | - UL: 6.1dB | | | | | | | | | | - DL: 7.9dB | | +----+--------------------+--------------------+--------------------+ | 22 | ACLR/ACS | For BS, | _\- According to | | | | | section 6.6.2.2 | | | | - ACLR: 45dB | and section 7.5 in | | | | | 3GPP TS 25.101 | | | | - ACS: 45dB | [34], section | | | | | 6.6.2.2 in 3GPP TS | | | | For UE, | 25.104 [35], | | | | | table 9.1 in 3GPP | | | | - ACLR: 33dB | TR 25.942_ | | | | | | | | | - ACS: 33dB | | +----+--------------------+--------------------+--------------------+ | 23 | Performance metric | - Capacity | _\- According to | | | | reduction in | section 5.1.1.9 in | | | | percent relative | 3GPP TR 36.942 and | | | | to the reference | section 5.1.7 in | | | | capacity without | 3GPP TR 25.942_ | | | | external | | | | | interference vs. | | | | | ACIR, separately | | | | | for downlink and | | | | | uplink. | | | | | | | | | | - For downlink, | | | | | capacity is the | | | | | number of | | | | | satisfied speech | | | | | users. | | | | | | | | | | - For uplink, | | | | | capacity is the | | | | | number of users | | | | | when 6dB noise | | | | | rise is reached. | | +----+--------------------+--------------------+--------------------+
Note: in case RAN4 do not agree with any of the above assumptions for
coexistence with E-UTRA and UTRA, the assumptions will be updated to take
RAN4\'s opinion into account.
###### ### Annex H: Bibliography
> [5.5-1] http://www.analysysmason.com/Research/Content/Reports/Low-powered-
> wireless-solutions-have-the-potential-to-increase-the-M2M-market-by-
> over-3-billion-connections/
[6.2-1] GP-020645, \"Discussion paper -- Fixed Allocation\", source Nokia.
GERAN#9.
[6.2-2] GPC150064, \"EC GSM -- EC-SCH design, performance and mapping\",
source Ericsson LM, GERAN1 Adhoc#1 on FS_IoT_LC
[6.2-3] GP-140603, \"GSM Evolution for cellular IoT -- BCCH overview\", source
Ericsson LM. GERAN#63.
[6.2-4] GP-150208, \"EC-GSM, EC-SCH design, performance and mapping\", source
Ericsson LM, GERAN#65
[6.2-5] GPC150089, \"EC-GSM, FCCH overview\", source Ericsson LM, GERAN1
Adhoc#1 on FS_IoT_LC
[6.2-6] GPC150437, \"EC-GSM, Network synchronization with alternative EC-SCH
design (update of GPC150198)\", source Ericsson LM. GERAN#65.
[6.2-7] GP-150155, \"EC-GSM, Performance evaluation - Coverage improvement
target\", source Ericsson LM, GERAN#65.
[6.2-8] GPC150064, \"EC-GSM, EC-SCH design, performance and mapping\", source
Ericsson LM. GERAN Ad Hoc #1 on FS_IoT_LC.
[6.2-9] GP-150140, \"EC-GSM, Sensitivity to carrier frequency offset\", source
Ericsson LM. GERAN#65.
[6.2-10] GP-150429, \"EC-GSM, On the impact to legacy GSM/EDGE Base
stations\", source Ericsson LM, GERAN#66.
[6.2-11] GP-150355, \"EC-GSM, Overlaid CDMA for extended coverage\", source
Ericsson LM. GERAN#66.
[6.2-12] GP-150139, \"EC-GSM, Incremental redundancy and chase combining\"
source Ericsson LM. GERAN#65.
[6.2-13] GPC150485, \"EC-GSM, Simulation Results for Coexistence with GSM
(update of GPC150445)\", source Ericsson LM. GERAN Ad Hoc #3 on FS_IoT_LC.
[6.2-14] GP-150760, \"EC-GSM, Random access system capacity evaluation (update
of GPC150491)\", source Ericsson LM. GERAN#67.
[6.2-15] GP-150435, \"EC-GSM, Link modelling methodology for EC-RACH capacity
evaluations\", source Ericsson LM. GERAN #66.
[6.2-16] GP-150204, \"Accelerated System Access Procedure\", source Ericsson
LM. GERAN#65.
[6.2-17] GP-150366, \"NB M2M -- Complexity analysis\", source u-blox AG, Neul
Limited. GERAN#66.
[6.2-18] GP-150756, \"EC-GSM, MAR periodic and network command system capacity
evaluation (update of GPC150622)\" source Ericsson LM. GERAN#67.
[6.2-19] GP-150764 EC-GSM, \"Simulation Results for Coexistence with UTRA and
E-UTRA\", source Ericsson LM, GERAN#67.
[6.2-20] GP-150433 \"EC-GSM, EC-RACH System Capacity Evaluation (update of
GPC150189),\" source Ericsson LM, GERAN #66.
[6.2-21] GPC150304 \"CIoT -- Coexistence with LTE and UMTS (update of
GPC150182),\" source VODAFONE Group plc, GERAN Ad Hoc#2.
[6.3-1] Militzer, Burkhard, et.al., \"Evolutionary search for low
autocorrelated binary sequences\", Evolutionary Computation, IEEE
Transactions, Vol. 2, 1998.
[6.3-2] GPC150089, \"EC-GSM FCCH Overview\", Ericsson, 3GPP TSG GERAN Ad Hoc#1
on FS_IoT_LC.
[7.3-1] Moreira et al; A Single-Chip HSPA Transceiver with Fully Integrated 3G
CMOS Power Amplifiers; Proceedings of 2015 IEEE International Solid-State
Circuits Conference; Session 9.2.
[7.3-2] Muhammad et al; A Low Cost Quad Band Single Chip GSM/GPRS Radio in 90
nm Digital CMOS; Proceedings of the 2009 IEEE Radio Frequency Integrated
Circuits Symposium; pp 197 -- 200.
[7.3-3] Darabi et al; A Quad-Band GSM/GPRS/EDGE SoC in 65 nm CMOS; IEEE
Journal of Solid-State Circuits, Vol. 46, No. 4, April 2011; pp 870 \-- 882.
[8.3.1-1] GP-150496, \" NB M2M - Evaluation of Transmission Efficiency (update
of GPC150153)\" source Huawei Technologies Co., Ltd. , HiSilicon Technologies
Co., Ltd. GERAN#66.
#