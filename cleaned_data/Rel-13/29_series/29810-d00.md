# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document investigates possible enhancements of the Diameter base
protocol (IETF RFC 6733 [2]) and existing Diameter applications to support
load control mechanisms in 3GPP core networks.
This work is based on the related work done in the IETF Diameter Maintenance
and Extensions (DiME) working group. The Diameter overload control work and
specifications done in IETF (e.g. IETF RFC 7068 [3] and IETF RFC 7683 [4]) and
3GPP will be taken into account.
This study covers:
\- the identification of the set of requirements for load information exchange
over Diameter based signalling interfaces used in 3GPP core networks, compared
to those already expressed in IETF RFC 7068 [3] and any other requirements
specified by the DiME working group;
\- the evaluation of the IETF solution for load information exchange and
applicability to 3GPP;
\- possible enhancements specific to 3GPP;
\- the identification of the 3GPP interfaces as possible candidates for the
support of the load information exchange.
The results of this study will contribute to and rely on the work done within
the IETF DiME working group on Diameter load control. Objective is to use the
solution(s) that will be defined for Diameter load control by IETF DiME for
3GPP Diameter based networks and to avoid 3GPP specific enhancements.
Depending on this study outputs, normative work may be required to support
load control mechanisms over Diameter-based 3GPP interfaces and applications.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] IETF RFC 6733: \"Diameter Base Protocol\".
[3] IETF RFC 7068: \"Diameter Overload Control Requirements\".
[4] IETF RFC 7683: \"Diameter Overload Indication Conveyance\".
[5] 3GPP TS 29.213: \"Policy and Charging Control signalling flows and Quality
of Service (QoS) parameter mapping\".
[6] IETF draft-ietf-dime-load-02: \"Diameter Load Information Conveyance\".
[7] 3GPP TS 23.335: \"User Data Convergence (UDC); Technical realization and
information flows\".
[8] 3GPP TS 29.229: \"Cx and Dx interfaces based on the Diameter protocol;
Protocol details\".
[9] 3GPP TS 29.272: \"Evolved Packet System (EPS); Mobility Management Entity
(MME) and Serving GPRS Support Node (SGSN) related interfaces based on
Diameter protocol\".
[10] IETF RFC 2782: \"A DNS RR for specifying the location of services (DNS
SRV)\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] apply.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
BBERF Bearer Binding and Event Reporting Function
BPCF Broadband Policy Control Function
BSF Bootstrapping server functionality
DiME Diameter Maintenance and Extensions
DRA Diameter Routing Agent
ePDG Evolved Packet Data Gateway
GMLC Gateway Mobile Location Centre
MTC Machine Type Communication
PCC Policy and Charging Control
PCEF Policy and Charging Enforcement Function
PCRF Policy and Charging Rule Function
RCAF RAN Congestion Awareness Function
TDF Traffic Detection Function
# 4 Introduction
The Diameter base protocol is widely adopted in 3GPP as protocol support of
numerous signalling interfaces in IMS, EPC, PCC and charging architectures.
Load control could be used to improve the distribution of the Diameter traffic
within the 3GPP Diameter networks, which prevents, as much as possible, from
overload situations to occur when the resources of one or several Diameter
node(s) are insufficient to process all the incoming requests.
Although vendor-specific solutions might be already available in some
networks, a standardization effort is required to cope with a multi-
vendor/operator environment in large scale networks and roaming cases.
The following clauses describe main 3GPP use cases, load usage and analyse the
IETF requirements for a load control mechanism. IETF having defined a solution
for a Diameter load control, this report then analyses the applicability of
the IETF solution to 3GPP Diameter networks and interfaces.
Any enhancement should have minimal impacts on existing infrastructures and be
generic enough to be suitable for multiple Diameter based interfaces. The
exact solution to implement will be decided per Diameter based interface,
depending on the specific requirements of each interface.
# 5 Requirements
## 5.1 Existing standardisation
Diameter load control and load balancing can be currently achieved in a node
though various ways e.g.:
\- according to load balancing algorithms (e.g. round robin); and/or
\- by locally evaluating the traffic compared to a configured capacity; and/
or
\- by externally acquiring load information by proprietary or standardised
means.
A standardised way for a Diameter node to acquire load information occurs when
the Diameter node proceeds to a dynamic discovery of peer nodes through the
use of DNS. The DNS returns SRV records indicating peer addresses with a
weight factor to the querying Diameter node. The weight factor is then used to
distribute traffic among the peers. It may be discussed if this weight can be
considered as load information but it is an indication for traffic
distribution. Its limitation is that it is acquired for peer discovery so not
on a regular basis and is a static data which does not reflect the actual
load.
## 5.2 Design considerations
### 5.2.1 Introduction
The following subclauses review main 3GPP use cases regarding load control,
namely HSS, AAA server and PCRF use cases with the host selection topic. Load
usage is then addressed.
### 5.2.2 3GPP network implications
#### 5.2.2.1 Introduction
This subclause will analyse some load characteristics associated to several
main 3GPP networks elements, e.g. HSS, 3GPP AAA Server, PCRF taking into
account various topologies (e.g. set of independent servers, distributed
systems, partitioned systems).
#### 5.2.2.2 HSS
##### 5.2.2.2.1 Variety of interfaces
The HSS supports a large number of 3GPP Diameter based interfaces with their
own Diameter application:
\- S6a / S6d with MME / SGSN;
\- Cx, with I/S-CSCF;
\- Sh with AS;
\- SWx with AAA server;
\- Zh with BSF
\- S6m / S6n with MTC IWF / MTC AAA;
\- SLh with GMLC;
\- S6c with SMS central functions.
##### 5.2.2.2.2 Variety of HSS topologies
HSS topologies are various:
\- one HSS;
\- multiple separated and independent HSSs, which require a user identity to
HSS resolution mechanism as the subscription data of a user is stored in only
one of the HSSs (partitioned system);
\- a distributed HSS, following the UDC architecture, with one UDR and several
front-ends which could be geographically distributed, but allowing access to
any user subscription data; each front end may appear as one Diameter host;
\- several distributed HSSs, which also require a user identity to HSS
resolution mechanism, as the subscription data of a user is stored in only one
of the distributed HSSs (partitioned system).
This list is not exhaustive and other topologies may exist.
Load balancing is not applicable between separated and independent HSS, or
between several distributed HSS (partitioned systems).
Load balancing may be applied between multiple front-ends of a distributed
HSS. In this case, load information supplied by each front-end would help to
achieve load balancing in a downstream Diameter node.
##### 5.2.2.2.3 Selection of the HSS host
Regarding the user identity to HSS resolution mechanism, 3GPP specifications
describe the possible use of a Redirect or a Proxy DA without excluding other
possibilities. They are here recapitulated, as they may have impacts on how
load control can be handled:
\- When a redirect server is used, a client or a DA which has to send a
request to a HSS of which it does not know the identity, will only provide the
Diameter realm and send its request to the Redirect DA, that will return one
or several HSS host identities. If several host identities are returned, the
client or the DA may select the host by taking into account the host load
information and achieve load balancing between the HSS hosts.
\- When a proxy DA is used, the client which does not know the identity of the
HSS, only provides the Diameter realm and sends the request that will reach
the proxy DA which will determine the HSS host identity, If several HSS host
identities are possible, this proxy DA may select the host by taking into
account their load information and achieve load balancing.
For a given user, the origin host which is returned in the Diameter answers,
may be stored by the client and reused as host destination for next requests
regarding this user, In these cases where the destination host is determined,
no load balancing between hosts is applied.
#### 5.2.2.3 3GPP AAA Server
##### 5.2.2.3.1 Variety of interfaces
The 3GPP AAA Server supports a large number of 3GPP Diameter based interfaces
with their own Diameter application:
\- SWx with HSS;
\- S6b with PGW;
\- SWa with untrusted non-3GPP access;
\- STa with trusted non-3GPP access;
\- SWm with ePDG;
For the SWx interface, the 3GPP AAA Server has the role of a client toward the
HSS and for the other interface has the role of a server.
##### 5.2.2.3.2 Variety of 3GPP AAA Server topologies
3GPP AAA Server topologies are various:
\- one 3GPP AAA Server;
\- multiple separated and independent 3GPP AAA Servers:
\- they may be shared, meaning that any user can register on any 3GPP AAA
Server, but when a user has been registered in a 3GPP AAA Server, all
subsequent Diameter traffic related to this user is routed to this 3GPP AAA
Server.
This list is not exhaustive and other topologies may exist.
Load balancing between 3GPP AAA Servers is limited to the initial request of a
user which is not yet registered in a 3GPP AAA Server. It is reminded that
e.g. a PGW which is not aware if the user is already registered may select a
3GPP AAA Server which, from the information received from the HSS, will
request the PGW to redirect its traffic to the 3GPP AAA Server on which the
user is already registered, so without load balancing. Nevertheless the
selection of the 3GPP AAA Server based on load information, although only done
for initial requests outside redirection cases, is important as all the
subsequent requests for this user will be routed to the same 3GPP AAA Server,
It may be expected that, when load conditions of one or several 3GPP AAA
Servers are rapidly evolving, it will take more time to adapt the load
balancing as it applies to a fraction of requests.
For SWx, there is no load balancing for requests sent by the HSS to the 3GPP
AAA Server, as the HSS sends all these requests to the 3GPP AAA Server that
registered the user.
##### 5.2.2.3.3 Selection of the 3GPP AAA Server host
The Diameter routing rules, described in IETF RFC 6733 [2], apart the case of
a direct connection between the client and the 3GPP AAA servers, are based on
the realm up to the DA(s) in front of the 3GPP AAA Servers and so are not
dependent of the Destination Host. Then if no Destination Host is present in
the Diameter request, the selection of the 3GPP AAA Server among those listed
in the peer table of the DA can be done on the basis of the load information
that the DA has received from these peer 3GPP AAA Servers.
#### 5.2.2.4 PCRF
##### 5.2.2.4.1 Variety of interfaces
The PCRF supports a large number of 3GPP Diameter based interfaces with their
own Diameter application:
\- Gx with PCEF;
\- Gxx with BBERF;
\- Sd with TDF;
\- Rx with AF;
\- Sy with OCS:
\- S9 between H-PCRF and V-PCRF;
\- S9a with BPCF;
\- Np with RCAF;
\- S15 with HNB.
Apart for Sy and S9, the PCRF has the role of a server. For S9, it has both
the role of a client and of a server.
Sy being a charging interface is not currently addressed in this study.
##### 5.2.2.4.2 Variety of PCRF topologies
PCRF topologies are various:
\- one PCRF;
\- multiple separated and independent PCRFs:
\- they may be shared, meaning that a a certain IP-CAN session of a UE can be
allocated to any PCRF, but when an IP-CAN session of a UE has been allocated
to a PCRF, all subsequent Diameter traffic related to this IP-CAN session of
the UE is routed to this PCRF;
\- this is the role of the DRA to be aware of the PCRF allocated to an IP-CAN
session of a UE.
This list is not exhaustive and other topologies may exist.
When a client sends a Diameter request without a Destination-Host AVP, the
request is routed to the DRA which will check if the IP-CAN session of the UE
has a PCRF allocated. If yes, the DRA populates the Destination Host with the
Diameter identity of the allocated PCRF.
Load balancing between PCRFs is limited to the requests related to an IP-CAN
session of a UE for which no PCRF has been allocated yet and does not apply
when a PCRF has been allocated.
Nevertheless the selection of the PCRF based on load information, although
only done for requests for which there is no allocated PCRF, is important as
all the subsequent requests for this IP-CAN session of a UE will be routed to
the same PCRF, It may be expected less reactivity when load conditions of one
or several PCRFs are rapidly evolving.
##### 5.2.2.4.3 Selection of the PCRF host
The Diameter routing rules described in IETF RFC 6733 [2] are based on the
realm up to the DA(s) in front of the PCRFs (i.e. peer DA(s) of the PCRFs) and
so are not dependent of the Destination Host.
If the DRA is peer of the PCRFs and processes a request for which no PCRF has
yet been allocated to a IP-CAN session of a UE (i.e. the first request
received as part of the IP-CAN session establishment procedure (Gxx, Gx, S9)),
the DRA selects a PCRF among the peer PCRFs and can use the load information
that it has received from these peer PCRFs for this selection and does not
need additional load control information.
If the DRA is not peer of the PCRFs (at least for a certain number of them)
and processes a request for which no PCRF has yet been allocated to a IP-CAN
session of a UE, the DRA as according to 3GPP TS 29.213 [5] subclause 7.3.5
selects a PCRF, but if it wants to take into account the load of the PCRFs to
do this selection, it would need a load information from the PCRFs which are
not peers. This case may be avoided if the DRA which is a logical entity who
can group several DAs is a direct peer of all the PCRFs.
For large networks, when routing is only based on the Diameter routing rules
described in IETF RFC 6733 [2], this may bring strong deployment constraints,
e.g. all servers (e.g. PCRFs) in a given realm and for a given Diameter
application, have direct connections with the same peer DAs (which can be the
DRA considered as a logical entity grouping several DAs); if it is not the
case, this requires additional routing rules out of the IETF RFC 6733 [2]
scope.
It can be considered the following possibilities:
\- no additional load control features can be standardised in IETF in
association with routing rules outside the scope of IETF RFC 6733 [2]. For
example when the selection of a non allocated PCRF is done by the DRA when it
is not a peer of all the PCRFs, the DRA may not be able to use the
standardized load control information it has received as a criteria to select
the PCRF;
\- the DRA, as a logical entity grouping several DAs, is always a peer of all
the PCRFs, and then can select the PCRF by taking into account the load
information that it has received from its peer PCRFs; this way to proceed does
not require additional load control information. The way the DRA internally
handles the load control information (e.g. with a common database) is
implementation specific;
\- for cases where the DRA is not a peer of all the PCRFs, the DRA, to achieve
the PCRF selection by taking into account the load of the different PCRFs
would need to get the load information of non peer PCRFs.
The above possibilities depend of the content and applicability of the IETF
solution described in clause 6.
### 5.2.3 Load usage
#### 5.2.3.1 Dynamic load balancing
##### 5.2.3.1.1 Server selection
Diameter Nodes that perform Server Selection (see e.g. clause 5.2.2.2.3) may
take into account the reported load of servers that are candidates for the
selection. Without any load information (from candidate servers) the selection
process can e.g. be based on configured static weights. With load information
available, dynamic weights can be calculated from configured static weights
and reported load information. Based on dynamic weights a dynamic load
balancing can be performed.
##### 5.2.3.1.2 Overload diversion
When a Diameter Nodes has selected a Server (e.g. based on reported load
information, see clause 5.2.3.1.1) but cannot send a request to that server
due to Overload Control, diversion to a non-overloaded server may become
applicable. Without any load information (from candidate diversion targets)
the selection of the diversion target (among the non-overloaded servers) can
e.g. be based on configured static weights. With load information available,
dynamic weights can be calculated from configured static weights and reported
load information. Based on dynamic weights a dynamic load balancing can be
performed.
##### 5.2.3.1.3 Next hop selection
When the selected server is not an immediate peer, or server selection is
performed upstream, a client may have more than one alternative available when
selecting the next hop Diameter node. Without any load information (from
candidate next hop Diameter nodes) the selection process can e.g. be based on
configured static weights. With load information available, dynamic weights
can be calculated from configured static weights and reported load
information. Based on dynamic weights a dynamic load balancing can be
performed.
##### 5.2.3.1.4 Load information per node or per Diameter application
Between two peers, the traffic can be related to several Diameter
applications. This is true between two Diameter agents but also in the HSS,
AAA server and PCRF use cases, where the HSS, AAA server and PCRF support many
applications.
The assumption is that the load information that a node would transfer to its
peers represents the overall load of the node linked to the traffic from all
applications. It is not identified that load information per application would
bring an actual additional value.
#### 5.2.3.2 Overload preparation
Load information may be used by DOIC reacting nodes to prepare for the
occurrence of overload especially when stateful algorithms are supported.
## 5.3 Existing IETF requirement analysis
#### 5.3.1 General
The IETF RFC 7068 [3] provides a set of requirements for an overload control
solution over Diameter. Some of these requirements are related to load control
and are listed in the hereafter table 5.3.1-1.
The aim of this subclause is to review this set of requirements related to
load control from a 3GPP point of view, considering that 3GPP will be a major
consumer of this foreseen load control mechanism.
The list of requirements is ordered as currently defined in the IETF RFC 7068
[3]. For each requirement, a status (Y/N) is given to indicate whether the
requirement is relevant from a 3GPP point of view. Further clarifications are
provided in the \"Comments\" column.
Table 5.3.1-1: IETF RFC 7068 Requirements Review
+-------+--------------------------+-----+--------------------------+ | # | Existing Requirement | Y/N | Comments | +-------+--------------------------+-----+--------------------------+ | REQ1 | The solution MUST | Y | | | | provide a communication | | | | | method for Diameter | | | | | nodes to exchange load | | | | | and overload information | | | +-------+--------------------------+-----+--------------------------+ | REQ2 | The solution MUST allow | Y | In an overload | | | Diameter nodes to | | condition, load | | | support overload control | | information may be used | | | regardless of which | | to select alternative | | | Diameter applications | | destinations (c.f. REQ | | | they support. Diameter | | 23), | | | clients and agents must | | | | | be able to use the | | Load information may be | | | received load and | | used at the end of the | | | overload information to | | overload condition when | | | support graceful | | coming back to normal | | | behavior during an | | conditions. | | | overload condition. | | | | | Graceful behavior under | | | | | overload conditions is | | | | | best described by REQ 3. | | | +-------+--------------------------+-----+--------------------------+ | REQ12 | When a single network | Y | REQ1 and REQ24 rely on | | | node fails, goes into | | this requirement | | | overload, or suffers | | | | | from reduced processing | | | | | capacity, the solution | | | | | MUST make it possible to | | | | | limit the impact of the | | | | | affected node on other | | | | | nodes in the network. | | | | | This helps to prevent a | | | | | small-scale failure from | | | | | becoming a widespread | | | | | outage. | | | +-------+--------------------------+-----+--------------------------+ | REQ24 | The solution MUST | Y | | | | provide a mechanism for | | | | | indicating load levels, | | | | | even when not in an | | | | | overload condition, to | | | | | assist nodes in making | | | | | decisions to prevent | | | | | overload conditions from | | | | | occurring. | | | +-------+--------------------------+-----+--------------------------+ | REQ29 | It MUST be possible for | Y | This is applicable to | | | a supporting node to | | the load information | | | make authorization | | that will be sent to | | | decisions about what | | other peers. | | | information will be sent | | | | | to peer nodes based on | | | | | the identity of those | | | | | nodes. This allows a | | | | | domain administrator who | | | | | considers the load of | | | | | their nodes to be | | | | | sensitive information to | | | | | restrict access to that | | | | | information. Of course, | | | | | in such cases, there is | | | | | no expectation that the | | | | | solution itself will | | | | | help prevent overload | | | | | from that peer node. | | | +-------+--------------------------+-----+--------------------------+ | REQ34 | The solution SHOULD | Y | | | | provide a method for | | | | | exchanging overload and | | | | | load information between | | | | | elements that are | | | | | connected by | | | | | intermediaries that do | | | | | not support the | | | | | solution. | | | +-------+--------------------------+-----+--------------------------+
In addition, the IETF draft-ietf-dime-load-02 [6] defines a solution
addressing the following other requirements:
\- delivery of load information on peers of a node, this load information
being used as an input to select a peer when several are possible for a
request to be routed;
\- delivery of load information on servers to a node (a client or an agent)
performing server selection. Typically, this node is an immediate peer of the
server; however, there are scenarios where a client or a proxy that is not the
immediate peer to the selected servers performs server selection;
\- flexibility left to implementation on how the load of a node is evaluated,
when it is delivered and on how it is used by the sender of requests;
\- extensibility to include future additional information.
## 5.4 Additional requirements
No requirements specific to 3GPP Diameter based interfaces and networks are
added to those from IETF.
# 6 Solutions for Diameter load control
## 6.1 Introduction
## 6.2 IETF solution
IETF is specifying a Diameter load control solution in the IETF draft-ietf-
dime-load-02 [6] (Diameter Load Information Conveyance). This solution is
analysed as a solution for Diameter load control in the 3GPP networks. This
analysis will evolve according to the evolution of the successive versions of
the IETF draft-ietf-dime-load-02 [6] until it is considered stable enough to
be recommended.
A summary of the IETF Diameter load control mechanisms is hereafter presented.
The IETF Diameter load control mechanism complements the Diameter overload
control mechanism defined in IETF RFC 7683 [4] and answer requirements
expressed in IETF RFC 7068 [3]. In particular, it can avoid overload
situations in the network by optimising the traffic distribution (load
balancing within the network). In overload situations, and if traffic
diversion is possible to non overloaded nodes, it may help to select the right
routing.
Load information received by a node can be used, with other criteria, for
routing decisions to select the peer node to which to send a request or to
select a server (Destination host) when the node is in charge of such a
selection.
Load information is conveyed in a Load AVP which can contain:
\- a Load-Type AVP defining two types of load report: a PEER load report (used
to select a peer) and a HOST load report (used to do server selection);
\- a Load-Value AVP with a definition similar to the weight value in DNS SRV
(see IETF RFC 2782 [10]);
\- a SourceID AVP identifying the node source of the load information.
A Diameter end point (a server) supporting the mechanism generates HOST load
reports which are sent and then forwarded by intermediate DAs in answer
commands.
A Diameter agent supporting the mechanism generates PEER load reports which
are sent in answer commands.
The evaluation of the load value and the frequency to which load reports are
sent are implementation specific.
How the load information is used by a receiving node (e.g. for load balancing)
is implementation specific.
The load control mechanism does not require for a node to advertise its
support. A Diameter agent not supporting the mechanism will transfer the load
information (Load AVP) unchanged. An end point Diameter node (e.g. client) not
supporting the mechanism will ignore the received load information.
## 6.3 3GPP networks
### 6.3.1 IETF solution applicability
#### 6.3.1.1 Server selection
The IETF draft-ietf-dime-load-02 [6] subclause 4.2 mentions that \"Typically,
server selection is performed by a node (a client or an agent) that is an
immediate peer of the servers\". For this, the load information of a server
needs only to be transferred to the peers of a server. A Diameter agent or a
client which is peer of several servers may then select the server to which it
will send requests by taking into account the load information it has received
from the peer servers.
It also mentions that: \"However, there are scenarios where a client or proxy
that is not the immediate peer to the selected servers performs server
selection\". In this case, the node doing the selection of the server
destination needs to receive the load information of the servers, even if it
is not peer of the servers, so to take into account the load of servers in the
server selection process.
The IETF draft-ietf-dime-load-02 [6] has defined the HOST load report which
may be taken into account to proceed to the server selection. Here is
described the use of the HOST load report for two main 3GPP examples.
A first example concerns the node doing the user identity to HSS resolution
mechanism to find the HSS destination (as described e.g. in 3GPP TS 29.229 [8]
and 3GPP TS 29.272 [9]); this node may not be an immediate peer of HSSs.
Nevertheless the node selecting the HSS destination when several destinations
are possible (e.g. with a UDC architecture described in 3GPP TS 23.335 [7])
may take into account the load of the HSSs if it receives HOST load reports
from the HSSs.
Another example is with the DRA in the PCC architecture (see 3GPP TS29.213
[5]). The DRA selects the PCRF when the PCRF has not yet been allocated; the
DRA may be not a peer of all the PCRFs of the concerned realm. The DRA when
selecting the PCRF may take into account the load of the PCRFs if it receives
HOST load reports from the PCRFs.
So from the above analysis, it can be considered that there may be a need to
transfer the load information of a server not only to the peers of the server
but also towards nodes achieving a server selection within a realm. This need
depends on the network topology and the location of the node performing the
server selection.
### 6.3.2 Load balancing and distribution
Load balancing is a main use that a node can do from the received load
information. The definition of two types of load reports in the IETF draft
allows on one side to handle a load balancing between the peers of a node and
on another side to take into account the load of servers when doing a server
selection as it may happen in 3GPP Diameter networks.
A node should take care of not balancing too much traffic at once towards a
node if it receives a quite lower load value than the load value from other
nodes and should analyse the evolution of the load information it receives
from a node as this acts as a regulator towards the optimal load balancing.
This dynamic aspect of load balancing is an added value of this load control
mechanism compared to the existing static load balancing mechanism.
### 6.3.3 Impacts on existing networks
The impacts on existing 3GPP networks are those in compliance with IETF draft-
ietf-dime-load-02 [6]:
\- the generation of HOST load reports by a Diameter end point (e.g. server)
receiving Diameter request commands; this HOST reports being sent in Diameter
answer commands;
\- the handling of HOST load reports received by a node (e.g. client or
Diameter agent doing server selection) and their forwarding by a Diameter
agent;
\- the generation of PEER load reports by intermediate Diameter agents, these
PEER load reports being inserted in the Diameter answer commands they are
forwarding;
\- the handling of PEER load reports received by a node (e.g. client or
Diameter agent).
There is no specific handling identified for 3GPP in addition to what is
described in IETF draft-ietf-dime-load-02 [6].
### 6.3.4 Considerations for new applications
The load information is defined for a node and not per application. The impact
of a new application on the evaluation of the load information of anode sent
in load reports and on its use in received load reports is left to
implementation.
If the support of the load control mechanism is optional over a new 3GPP
interface, the M-bit of the related load control AVPs shall not be set. If the
support of a load control mechanism is mandatory in the first release of a
3GPP specification of a new interface, the M-bit of the related load control
AVPs shall be set.
# 7 Conclusions and recommendations
The solution as currently defined in the IETF draft-ietf-dime-load-02 [6] is
recommended as the basis for a usage over 3GPP Diameter based interfaces given
that this usage and possible specific complements will be defined per 3GPP
Diameter based interface.
The 3GPP working groups can start their normative work on the use of this
solution for the 3GPP Diameter based interfaces under their responsibility.
They will decide the interfaces for which the solution can be used and its
characteristics (e.g. load reports used on one or both ways of the interface).
They will take into account the evolution of the IETF draft to a RFC, while
analyzing and evaluating the changes in each of the future versions for the
impact on 3GPP.
#