# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
This specification gives the stage 2 description of the subscriber data
management handling between:
\- the Home Location Register (HLR) and the Visitor Location Register (VLR);
\- the Home Location Register (HLR/HSS) and the Serving GPRS Support Node
(SGSN).
A number of procedures require updating of subscriber information:
\- location updating;
\- restoration;
\- modification of data by the operator;
\- modification of data by the subscriber via the Mobile Station (MS).
Updating of subscriber information from HLR/HSS to SGSN is required in the
following situations:
\- GPRS location updating;
\- EPS location updat ing;
\- modification of data by the operator.
Only the rules for the updating of subscriber data from the HLR to the VLR and
from the HLR/HSS to the SGSN are described in this specification; these rules
only apply when the MAP protocol is used for subscriber data updating (see
3GPP TS 29.002 [23]). Public Land Mobile Network (PLMN) specific and
Unstructured Supplementary Service Data (USSD) subscriber data are out of
scope of this specification. The GPRS context update from the SGSN to the GGSN
and the EPC bearer context update from the SGSN to the P-GW via S-GW are out
of scope of this specification.
NOTE: The term \'HLR\' should be read \'HLR/HSS\' throughout the document.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document _in the same Release as the present document_.
[1] 3GPP TS 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.002: \"**Circuit Bearer Services (BS) supported by a Public
Land Mobile Network (PLMN)** \".
[3] 3GPP TS 22.004: \"General on supplementary services\".
[4] 3GPP TS 23.007: \"Restoration procedures\".
[5] 3GPP TS 23.008: \"Organization of subscriber data\".
[6] 3GPP TS 23.011: \"Technical realization of Supplementary Services\".
[7] 3GPP TS 23.015: \"Technical realization of Operator Determined Barring
(ODB)\".
[8] 3GPP TS 23.060: \"**General Packet Radio Service (GPRS) Service
description; Stage 2** \".
[9] 3GPP TS 23.067: \"Enhanced Multi‑Level Precedence and Preemption service
(EMLPP); Stage 2\".
[10] 3GPP TS 23.078: \"**Customized Applications for Mobile network Enhanced
Logic (CAMEL) phase 3 - Stage 2** \".
[11] 3GPP TS 23.081: \"Line identification supplementary services; Stage 2\".
[12] 3GPP TS 23.082: \"Call Forwarding (CF) Supplementary Services; Stage 2\".
[13] 3GPP TS 23.083: \"Call Waiting (CW) and Call Hold (HOLD) Supplementary
Services; Stage 2\".
[14] 3GPP TS 23.084: \"Multi Party (MPTY) Supplementary Service; Stage 2\".
[15] 3GPP TS 23.085: \"Closed User Group (CUG) Supplementary Service; Stage
2\".
[16] 3GPP TS 23.086: \"Advice of Charge (AoC) Supplementary Service; Stage
2\".
[17] 3GPP TS 23.088: \"Call Barring (CB) Supplementary Service; Stage 2\".
[18] 3GPP TS 23.090: \"Unstructured Supplementary Service Data (USSD); Stage
2\".
[19] 3GPP TS 23.091: \"Explicit Call Transfer (ECT) Supplementary Service;
Stage 2\".
[20] 3GPP TS 23.093: \"**Technical realization of Completion of Calls to Busy
Subscriber (CCBS); Stage 2** \".
[21] 3GPP TS 23.096: \"**Name Identification Supplementary Service; Stage 2**
\".
[22] 3GPP TS 23.116: \"Super-Charger technical realization; Stage 2.\"
[23] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".
[24] 3GPP TS 29.060: \"**General Packet Radio Service (GPRS); GPRS Tunnelling
Protocol (GTP) across the Gn and Gp Interface** \".
[25] 3GPP TS 22.001: \"**Principles of circuit telecommunications services
supported by a Public Land Mobile Network (PLMN)** \".
[26] 3GPP TS 22.003: \"**Circuit Teleservices supported by a Public Land
Mobile Network (PLMN)** \".
[27] 3GPP TS 42.032: \" Immediate Service Termination (IST); Service
Description - Stage 1\".
[28] 3GPP TS 43.035: \" Immediate Service Termination (IST); Stage 2\".
[29] 3GPP TS 43.068: \" Voice Group Call Service (VGCS); Stage 2\".
[30] 3GPP TS 43.069: \" Voice Broadcast Service (VBS); Stage 2\".
[31] 3GPP TS 23.071: \"Location Services (LCS); Functional Description; Stage
2\".
[32] 3GPP TS 23.135: \"Multicall supplementary service; Stage 2\".
[33] 3GPP TS 23.072: \"Call Deflection Supplementary Service; Stage 2\".
[34] 3GPP TS 23.012: \"Location Management Procedures\".
# 3 Definitions and abbreviations
## 3.1 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TS
21.905 apply.
## 3.2 Definitions
Subscriber data to be stored in the HLR, VLR and SGSN are defined in 3GPP TS
23.008, 3GPP TS 23.271, 3GPP TS 23.135 and in 3GPP TS 23.06x, 3GPP TS 23.08x
and 3GPP TS 23.09x-series of technical specifications.
Voice Broadcast Service (VBS), Voice Group Call Service (VGCS) and enhanced
Multi Level Precedence and Pre-emption Service (eMLPP) Data related to group
call area, cell or dispatcher attributes is only stored in the Group Call
Register (GCR) which is linked to each MSC/VLR.
The GCR and its stored data is out of scope of this specification.
Subscriber related VBS, VGCS and eMLPP Data only concerns entitlement data for
these-services and is seen as shared non-GPRS subscriber data.
**GPRS and non-GPRS subscriber data:**
The HLR has to download data to the VLR and to the SGSN. In this specification
those data sent to the VLR are called non-GPRS subscriber data and those data
sent to the SGSN are called GPRS subscriber data.
Whenever the refining identifier non-GPRS or GPRS is missing a common rule is
addressed which hold for both kinds of subscriber data.
Subscriber data specific to non-GPRS shall only be sent from the HLR to the
VLR. Subscriber data specific to GPRS shall only be sent from the HLR to the
SGSN.
Subscriber data common to both non-GPRS and GPRS (regional subscription
information) are downloaded from the HLR to both entities.
**Shared non-GPRS subscriber data:** Common subset of subscriber data defined
to be stored in both the HLR and VLR. Subscriber data only stored in the HLR
is not part of shared subscriber data. Shared subscriber data includes:
> BS: Bearer Service (see 3GPP TS 22.002);
>
> TS: Teleservice (see 3GPP TS 22.003);
>
> BSG: Basic Service Group (see 3GPP TS 22.001, 3GPP TS 22.004 and 3GPP TS
> 23.011);
>
> EBSG: Elementary Basic Service Group (see 3GPP TS 23.011);
>
> CBSG: Collective Basic Service Group (see 3GPP TS 23.011);
>
> LSA Information: Localized Service Area Information (see 3GPP TS 23.073);
>
> SC Information: Super-Charger Information (see 3GPP TS 23.116);
>
> IST Information: Immediate Service Termination Information (see 3GPP TS
> 43.035).
**Shared GPRS subscriber data:** Common subset of subscriber data defined to
be stored in both the HLR and SGSN. Subscriber data only stored in the HLR is
not part of shared subscriber data. Shared GPRS subscriber data includes:
> TS: Teleservice (see 3GPP TS 22.003);
>
> PDP Context (see 3GPP TS 23.060);
>
> LSA Information: Localized Service Area Information (see 3GPP TS 23.073);
>
> SC Information: Super-Charger Information (see 3GPP TS 23.116);
>
> Charging Information (see 3GPP TS 23.060).
**Mandatory data:** Data required to form a self-consistent set of subscriber
data. The context governs whether a specific parameter is mandatory, e.g. the
data set for a specific service may be optional, however if data for this
service is present, then parameters within this data set may be mandatory.
Mandatory data is defined by the service description (see e.g. 3GPP TS 23.06x,
3GPP TS 23.08x and 3GPP TS 23.09x-series of technical specifications, 3GPP TS
23.015, 3GPP TS 23.071 and 3GPP TS 23.135) and by PLMN defined requirements.
NOTE: The above definition is seen from a semantic point of view.
Semantically, mandatory parameters may be defined as syntactically optional or
mandatory by the protocol.
**Optional data:** Data which is defined as subscriber data, but which is not
required to form a self-consistent set of subscriber data; the context governs
whether a specific parameter is optional.
Optional data is data which is defined by the service description (see e.g.
3GPP TS 23.06x, 3GPP TS 23.08x and 3GPP TS 23.09x-series of technical
specifications, 3GPP TS 23.015, 3GPP TS 23.271 and 3GPP TS 23.135) or by PLMN
defined requirements but is not defined as mandatory data.
NOTE: The above definition is seen from a semantic point of view. Semantically
optional parameters are always defined as syntactically optional by the
protocol.
**Missing data:** Data which is mandatory in a given context but is not
received nor is valid data available locally.
**Unexpected data:** Data which is received and cannot be further processed.
This may be either:
\- optional data not required in a given context; or
\- optional or mandatory data, required in this context but received with an
unexpected value.
**Overlapping data:** Two different cases of overlapping within subscriber
data are possible:
\- two or more parameters are to be stored at the same address in the data
structure (see subclause 4.4);
\- two or more BSGs within a BSG list include or are identical with one and
the same EBSG.
The following groups of non-GPRS subscriber information are defined:
\- Subscriber information (Group A):
\- International Mobile Subscriber Identity (IMSI);
\- basic Mobile Station International ISDN Number (MSISDN);
\- category;
\- subscriber status;
\- LMU identifier (GSM only).
\- Basic service information (Group B):
\- Bearer Service list;
\- Teleservice list.
NOTE: VBS and VGCS entitlement data are subsumed under Teleservices.
\- Supplementary Service (SS) information (Group C):
\- forwarding information including deflection information;
\- call barring information;
\- Closed User Group (CUG) information;
\- eMLPP data;
\- MC data;
\- SS Data.
\- Operator Determined Barring (ODB) information (Group D):
\- ODB Data for non-GPRS services;
\- Roaming restriction information (Group E):
\- roaming restriction due to unsupported feature.
\- Regional subscription information (Group F):
\- regional subscription data.
\- VBS/VGCS subscription information (Group G):
\- VBS subscription data;
\- VGCS subscription data.
\- CAMEL subscription information (Group H):
\- Originating CAMEL Subscription Information (O-CSI);
\- Dialled Service CAMEL Subscription Information (D-CSI);
\- VMSC Terminating CAMEL Subscription Information (VT-CSI);
\- Supplementary Service Invocation Notification CAMEL Subscription
Information (SS-CSI);
\- Translation Information Flag CAMEL Subscription Information (TIF-CSI);
\- Mobile Originating Short Message Service CAMEL Subscription Information
(MO-SMS-CSI);
\- Mobile Terminating Short Message Service CAMEL Subscription Information
(MT-SMS-CSI);
\- Mobility Management Event Notification CAMEL Subscription Information
(M-CSI).
\- LSA Information (Group I):
\- LSA data.
\- Super-Charger (SC) Information (Group K):
\- Age Indicator.
\- Location Services (LCS) information (Group X):
\- GMLC List;
\- LCS Privacy Exception List;
\- MO-LR List;
\- LCS Service Types.
  * IST Information (Group J):
\- IST data.
  * Bearer Service Priority Information (Group L):
\- Bearer Service Priority Data.
  * Administrative Restriction Information (Group M):
Access Restriction Data.
The following groups of GPRS subscriber information are defined:
\- Subscriber information (Group P1):
\- International Mobile Subscriber Identity (IMSI);
\- basic Mobile Station International ISDN Number (MSISDN);
\- subscriber status.
\- Basic service information (Group P2):
\- Teleservice list.
\- Operator Determined Barring (ODB) information (Group P3):
\- ODB Data for GPRS services.
\- Roaming restriction information (Group P4):
\- roaming restriction in SGSN due to unsupported feature.
\- Regional subscription information (Group P5):
\- regional subscription data.
\- GPRS subscription information (Group P6):
\- GPRS subscription data.
\- EPS subscription information (Group P6a):
\- EPS subscription data.
\- SGSN CAMEL subscription information (Group P7):
\- GPRS CAMEL subscription information;
\- Mobile Originating Short Message Service CAMEL Subscription Information
(MO-SMS-CSI);
\- Mobile Terminating Short Message Service CAMEL Subscription Information
(MT-SMS-CSI);
\- Mobility Management Event for GPRS Notification CAMEL Subscription
Information (MG-CSI).
\- LSA Information (Group P8):
\- LSA data.
\- Super-Charger (SC) Information (Group P9):
\- Age Indicator.
\- Charging Information (Group P10):
  * Subscribed Charging Characteristics.
\- Location Services (LCS) information (Group P11):
\- GMLC List;
\- LCS Privacy Exception List;
\- MO-LR Lis;
> \- LCS Service Types.
  * Administrative Restriction Information (Group P12):
> Access Restriction Data.
# 4 General on handling of subscriber information
In general, the VLR and SGSN stores only a subset of the subscriber data
available in the HLR. Similarly, the GGSN stores only a subset of the
subscriber data available in the SGSN. Updating of subscriber information
shall be done in a way to make available and to keep consistency of data
shared between the HLR and the VLR, and between the HLR and the SGSN as
appropriate.
Two different cases for the updating of subscriber data can be identified:
1\. framed operation: during location update or restoration a complete set of
the shared subscriber data needs to be inserted in the VLR or the SGSN;
2\. stand-alone operation: whenever subscriber data are added, deleted or
changed in the HLR, this may need partial insertion, deletion or change of
shared subscriber data in the VLR or the SGSN.
Subclauses 4.1 to 4.4 explain the actions of the HLR and the VLR or the SGSN
within a framed or stand-alone dialogue on subscriber data handling.
## 4.1 Updating of the VLR or the SGSN in framed operation
For some services the VLR or the SGSN shall indicate in the subscriber data
request to the HLR whether it supports the service, or (in case of a service
with multiple phases) which phases it supports. Whether or not this indication
is required for the service is defined in service specification.
If requested by the framing operation, the HLR shall send all relevant stored
shared subscriber data to the VLR or the SGSN. This may be done with one or
more messages within a single dialogue.
For services for which the VLR or the SGSN is required to indicate support of
the service, the HLR shall send subscriber data to the VLR or the SGSN only if
corresponding indication was received from the VLR or the SGSN in the
subscriber data request. If both the originating entity and the HLR support
the Super-Charger functionality the HLR may provide no subscriber data as part
of the location update procedure, see 3GPP TS 23.116. For control of
stand‑alone operation the HLR shall store the information for which of these
services the subscriber data was sent.
For services for which the VLR or the SGSN is required to indicate supported
phases of the service, the HLR shall send subscriber data to the VLR for at
most one of the supported phases of service indicated in the subscriber data
request. In this case the HLR may send also no data at all if none of the
supported phases is suitable. For the case of stand-alone operation the HLR
shall store the information for which phase of service the data was sent.
The HLR may send all stored shared subscriber data to the VLR or the SGSN with
one or more messages within a single dialogue.
The VLR or the SGSN shall check the received messages, and:
a) if mandatory data is missing in a message:
\- the VLR or the SGSN may immediately reject the message towards the HLR; or
\- the VLR or the SGSN may acknowledge the message towards the HLR and wait
for further data from the HLR.
NOTE: Which of the two options apply is either defined by the protocol
specification or is an implementation option.
b) if unexpected data are received in a message:
\- the VLR or the SGSN may reject the message towards the HLR; or
\- in case of unexpected data not required in a given context, the VLR or the
SGSN may acknowledge the message towards the HLR and ignore this unexpected
data. All other data shall be stored by the VLR or the SGSN.
NOTE: Which of the two possibilities apply is an implementation option.
c) if data for unsupported services or features is received:
\- the VLR or the SGSN shall respond towards the HLR to the message indicating
these features and shall ignore all received data related to them. All other
subscriber data shall be stored;
d) if cases a), b) and c) do not apply for a message, the VLR or SGSN shall
store all subscriber data received.
If during the entire dialogue none of the messages was rejected by the VLR or
the SGSN and at termination of the dialogue no mandatory subscriber data are
missing, the VLR or the SGSN shall erase all previously stored data and shall
store the data received from the HLR and mark the subscriber data as
\"confirmed by HLR\". Otherwise the subscriber data shall remain marked as
\"not confirmed by HLR\" (see TS 3GPP TS 23.007).
The HLR shall check all responses from the VLR or the SGSN, and:
a) if a message is rejected, no further updating of the VLR or the SGSN shall
occur. The further action on the framing operation is out of scope of this
specification;
b) if one or more unsupported features are indicated by the VLR or the SGSN,
the HLR may:
\- store subscriber data including replacement feature(s) locally;
\- store and send subscriber data including replacement feature(s);
\- ignore this indication.
NOTE: Which of the three options apply for which feature is out of scope of
this specification
c) if a message is acknowledged by the VLR or the SGSN, this shall be
recognized by the HLR.
The further action on the framing operation after all shared subscriber and
replacement data have been sent (e.g. closing of the dialogue) is out of scope
of this specification.
## 4.2 Updating of VLR and the SGSN in stand alone operation
If shared subscriber data are added, deleted or changed in the HLR, the HLR
shall insert or delete this subscriber data in the VLR or the SGSN to keep
consistency of data stored.
For services for which the VLR or the SGSN is required to indicate support of
the service in the request, the HLR shall insert or delete this subscriber
data in the VLR or the SGSN only if an appropriate indication is stored in the
HLR (see subclause 4.1).
For services for which the VLR or the SGSN is required to indicate supported
phases of the service in the request, the HLR shall insert or delete
subscriber data in the VLR or the SGSN only if it was added, deleted or
changed for the phase of the service for which the data was sent to the VLR or
the SGSN in the framed operation.
### 4.2.1 Insertion of data in the VLR or the SGSN
For the insertion of data, the HLR may send one or more messages in a single
dialogue.
The VLR or the SGSN shall check the received data, and:
a) if mandatory data is missing in a message:
\- the VLR or the SGSN may reject the message towards the HLR; or
\- the VLR or the SGSN may acknowledge the message towards the HLR and wait
for further data from HLR.
NOTE: Which of the two possibilities apply is either defined by the protocol
specification or an implementation option.
b) if unexpected data are received:
\- the VLR or the SGSN may reject the message towards the HLR; or
\- in case of unexpected data not required in a given context, the VLR or the
SGSN may acknowledge the message towards the HLR and ignore this unexpected
data. All other data shall be stored by the VLR or the SGSN.
NOTE: Which of the two possibilities apply is an implementation option.
c) if data for unsupported services or features is received:
\- the VLR or the SGSN shall respond towards the HLR to the message indicating
these features and shall ignore all data assigned to them. All other
subscriber data shall be stored.
d) if cases a), b) and c) do not apply for a message, the VLR or the SGSN
shall store all subscriber data received.
If during the entire dialogue none of the messages was rejected by the VLR or
the SGSN and at termination of the dialogue no subscriber data are missing,
the VLR or the SGSN shall mark the subscriber data as \"confirmed by HLR\".
Otherwise the subscriber data shall be marked as \"not confirmed by HLR\" (see
3GPP TS 23.007).
The HLR shall check all responses from the VLR or the SGSN, and:
a) if a message is rejected no further updating of the VLR or the SGSN is
allowed and the HLR shall terminate the dialogue;
b) if one or more unsupported features are indicated by the VLR or the SGSN,
the HLR may:
\- store subscriber data including replacement feature(s) locally;
\- store and send subscriber data including replacement feature(s);
\- ignore this indication.
NOTE: Which of the three possibilities apply for which feature is out of scope
of this specification
c) if a message is acknowledged by the VLR or the SGSN, this shall be
recognized by the HLR.
After all required shared subscriber and replacement data have been sent, the
HLR shall terminate the dialogue with the VLR or the SGSN.
### 4.2.2 Deletion of data in the VLR or the SGSN
Deletion needs a separate dialogue.
HLR and VLR or SGSN actions are the same as above except for the following
case:
\- if, in response to deletion, one or more unsupported features are indicated
by the VLR or the SGSN, the HLR may:
\- delete subscriber data including replacement feature(s) locally;
\- delete subscriber data including replacement feature(s) locally and in the
VLR or the SGSN (NOTE);
\- take no further action.
NOTE 1: Which of the three options apply for which feature is out of scope of
this specification.
NOTE 2: This deletion in the VLR or the SGSN needs a separate dialogue.
The VLR or SGSN shall terminate the dialogue VLR or SGSN the response to the
HLR.
### 4.2.3 Change of data in the VLR or in the SGSN
If existing data in the VLR or the SGSN is to be modified, the HLR may insert
the replacing data, which overwrites the existing data according to the rules
described in subclause 4.4. Alternatively, the HLR may delete the existing
data as described in subclause 4.2.2 and then insert the replacing data as
described in subclause 4.2.1.
## 4.3 Order of information and distribution over message boundaries
### 4.3.1 Order of information sent by the HLR
The order of information is defined by the order in which the transfer syntax
is generated by the HLR. This includes a sequence of messages as well as the
syntax within a message (first to last message, component, operation,
parameter, etc...).
With the above definitions, the following rules shall apply for non-GPRS
subscriber data for the order of information within an HLR-VLR dialogue:
\- Group A information (subscriber status) shall be sent first;
\- Group B information shall be sent after Group A information and before any
Group C, E, F, G, H, J, L, M or X information;
\- Group D information shall be sent after Group A information and in any
order with respect to Group B, C, E, F, G, H, J, K, L, M and X information;
\- a specific order of Group C, E, F, G, H, J, K, L, M or X information is not
required.
There is no requirement for the sending of subscriber information groups in
the same message.
With the above definitions, the following rules shall apply for GPRS
subscriber data for the order of information within a dialogue:
\- Group P1 information (subscriber status) shall be sent first;
\- Group P2 information shall be sent after P1 information and before P4 and
P5 information;
\- Group P3 information shall be sent after Group P1 information and in any
order with respect to Group P2, P4, P5, P6, P6a, P7, P8, P11 and P12
information;
\- a specific order of Group P4, P5, P6, P6a, P9, P10, P11 and P12 information
is not required.
### 4.3.2 Order of information received by the VLR or the SGSN
Normally, the order of information sent and received shall be identical.
However, if subscriber data are sent distributed over several messages within
a dialogue in exceptional cases the order of these messages may change during
transmission.
If the order of information received violates the rules given above, the VLR
or the SGSN has the following options:
\- the VLR or the SGSN rejects all messages which cannot be processed due to
violation of these rules. In this case, checking of missing mandatory
parameters is done for each message;
\- the VLR or the SGSN processes and accepts all received messages although
rules are violated. In this case, checking of missing mandatory parameters is
done after the last message i.e. after termination of the dialogue.
Both options may be used in a single implementation. Missing parameters may be
detected during the dialogue. For other parameters, the checking is done after
termination of the dialogue between the HLR and the VLR or the SGSN.
The VLR or the SGSN is not required to handle received data in a specific
order. As a consequence, any overlapping of data within a dialogue should be
avoided to keep consistency of data between HLR and VLR or the SGSN. If the
VLR or SGSN indicates that it does not support a feature or service, the HLR
may send data for a feature or service to replace the unsupported one. If the
data of that service or feature had already been sent, this shall not be
regarded as overlapping data.
## 4.4 Abstract data structure of shared subscriber data
Figure 1 shows the general organization of the shared non-GPRS subscriber data
stored in the HLR and VLR. Figure 2 shows the overall organization of
subscriber data stored in HLR and SGSN. The figures 3 to 25 show the
organization of the shared subscriber data stored in the HLR and VLR or in the
HLR and SGSN. This structure is only valid for data stored in the registers
and is not identical with the structure in the protocol, defining how data are
transferred.
NOTE: This description is only a model for the logical structure and does not
define the specific implementation of the data storage.
With this structure, the following general rules for the handling of
subscriber data are defined:
\- the root of this data tree is always the IMSI which identifies the
subscriber;
\- to address a specific parameter within this hierarchical tree, it is
necessary to start from the IMSI and to go through the branches until the
parameter is reached. The list of parameters met on the way defines the
address of the parameter within the data structure;
\- to delete or insert a specific parameter, the complete address information
is required;
\- if a parameter is inserted, all parameters in the address and the parameter
itself shall be marked as present. A parameter value is stored irrespective of
whether a value was already stored;
\- if a parameter is deleted, all parameters connected to it in the sub-
branches are also deleted i.e. they are marked as not present;
\- if a parameter is overwritten with a new value, parameters connected to it
in the sub-branches shall be set according to the rules of the individual
service specification.
In addition to the general rules given above, special rules apply to certain
specific subscriber data. This is out of scope of this specification (see
references in the notes in figures 1 to 25).
## 4.5 Handling of supplementary service data with respect to basic service
data
Some supplementary service data is qualified by Elementary Basic Service Group
(EBSG) data. This part of the service data is below the parameter \"BSG\" in
the abstract data hierarchy, and is referred to as the \"EBSG-related SS
data\". This clause provides special rules for handling of EBSG-related SS
data.
The internal representation of EBSGs and EBSG-related SS data in the HLR and
VLR is outside the scope of this specification. For simplicity this
description uses a model where all EBSG-related SS data is stored against
individual EBSGs. Implementations may use alternative internal data
structures.
### 4.5.1 General
EBSG-related SS data shall be stored in the HLR and VLR for all EBSGs that
meet all the following criteria:
\- at least one basic service in the EBSG is supported; and
\- the supplementary service is applicable to at least one (possibly
different) basic service in the EBSG; and
\- the subscriber has a subscription to at least one (possibly different)
basic service in the EBSG.
EBSG-related SS data shall not be stored for any other EBSGs.
For each service for which the HLR sends EBSG-related SS data to the VLR, the
HLR shall send the data for all EBSGs that meet all the following criteria:
\- at least one basic service in the EBSG is supported at the HLR; and
\- the supplementary service is applicable to at least one (possibly
different) basic service in the EBSG; and
\- the subscriber has a subscription to at least one (possibly different)
basic service in the EBSG.
At any time, if the HLR has to send identical EBSG-Related SS data for several
EBSGs, then it may be able to represent a set of EBSGs by a collective basic
service group (CBSG), or by omitting the EBSG information altogether. This is
specified in detail in 3GPP TS 29.002.
### 4.5.2 Changes to basic service subscription
Changes to the basic service subscription can impact EBSG-related SS data.
If a new basic service is provisioned, and this is the first basic service to
be provisioned for this subscriber in a particular EBSG, then the HLR shall
update supplementary service data in the VLR if necessary. The HLR shall
insert in the VLR EBSG-related SS data for the new EBSG for all supplementary
services that:
\- have EBSG-related SS data; and
\- are applicable to at least one basic service in the new EBSG; and
\- are in a state where the VLR should receive data (normally this means the
service must be provisioned).
If a new basic service is provisioned, and this is not the first basic service
provisioned for this subscriber in a particular EBSG, then the HLR is not
required to send any new supplementary service data as a result.
If a basic service is withdrawn, and this was the last remaining basic service
provisioned for this subscriber in a particular EBSG, then when they are
informed about the withdrawal of the basic service the HLR and VLR shall
locally delete any supplementary service data relating to that EBSG.
If a basic service is withdrawn, and this was not the last remaining basic
service provisioned for this subscriber in a particular EBSG, then the HLR and
VLR shall not make any changes to supplementary service data as a result.
### 4.5.3 Special rules for BS61 and BS81 \"alternate\" and \"followed-by\"
services
There is no EBSG-related SS data for the groups BS61 and BS81 (\"alternate\"
and \"followed-by\"). Instead, supplementary services related to these basic
services are handled according to the bearer service group BS2x or BS3x
corresponding to the data part of the \"alternate\" and \"followed by\" bearer
service (see 3GPP TS 22.004). This means that special rules are required for
subscribers with subscriptions to BS61 or BS81.
For the handling of EBSG-related SS data, a subscription to BS61 or BS81 shall
be treated in the same way as a subscription to a basic service in each of the
groups \"all data circuit asynchronous\" and \"all data circuit synchronous\"
(BS2x and BS3x). If a user subscribes to BS61 or BS81 then the HLR shall send
any relevant EBSG-related SS data to the VLR for the groups BS2x and BS3x even
if the subscriber does not subscribe to any basic services in the groups BS2x
and BS3x.
Examples:
\- if a user who does not subscribe to any basic services in BS2x or BS3x is
given a subscription to BS81 then the HLR updates the VLR with any relevant
EBSG-related SS data for the groups BS2x and BS3x. If the subscription to BS81
is then withdrawn, the VLR locally deletes all EBSG-related SS data for BS2x
and BS3x.
\- if a user who has a subscription to BS21, but not to any basic services in
BS3x is given a subscription to BS81 then the HLR updates the VLR with any
relevant EBSG-related SS data for the group BS3x. If the subscription to BS81
is then withdrawn, the VLR locally deletes all EBSG-related SS data for BS3x
(though not for BS2x).
EBSG-related SS data shall not be qualified by the groups BS61 or BS81.
### 4.5.4 Consistency of Supplementary Service data
In some cases, the protocol used between the HLR and VLR encodes some data
that is not EBSG-related SS data with an EBSG qualifier. In this case, the HLR
shall ensure that when this data is sent it is always the same for all EBSGs.
If this data is modified, the HLR must send the supplementary service data to
the VLR for all EBSGs which meet all the following criteria:
\- at least one basic service in the EBSG is supported; and
\- the supplementary service is applicable to at least one (possibly
different) basic service in the EBSG; and
\- the subscriber has a subscription to at least one (possibly different)
basic service in the EBSG.
> IMSI\ │\ ├─Basic MSISDN\ │\ ├─Category\ │\ │ ┌──────────────────┐\ ├─┤Basic
> Service List│\ │ └──────────────────┘\ │ ┌───────────────┐\ ├─┤Forwarding
> Info│\ │ └───────────────┘\ │ ┌─────────────────┐\ ├─┤Call Barring Info│\ │
> └─────────────────┘\ │ ┌────────┐\ ├─┤CUG Info│\ │ └────────┘\ │ ┌───────┐\
> ├─┤SS Data│\ │ └───────┘\ │ ┌──────────────────────────────┐\ ├─┤ODB Data
> for non-GPRS services│\ │ └──────────────────────────────┘\ │
> ┌───────────────────────────────────┐\ ├─┤Roaming Restriction Data in the
> VLR│\ │ └───────────────────────────────────┘\ │
> ┌──────────────────────────┐\ ├─┤Regional Subscription Data│\ │
> └──────────────────────────┘\ │ ┌──────────────────────────┐\ ├─┤VBS, VGCS
> Data │\ │ └──────────────────────────┘\ │ ┌──────────────────────────┐\
> ├─┤CAMEL Subscription Info │\ │ └──────────────────────────┘\ │
> ┌───────────────────────────────┐\ ├─┤NAEA, Preferred Carrier Id │\ │
> └───────────────────────────────┘\ │ ┌───────────────────────────────┐\
> ├─┤LSA Data │\ │ └───────────────────────────────┘\ │
> ┌───────────────────────────────┐\ ├─┤IST Data │\ │
> └───────────────────────────────┘\ ├─LMU Indicator\ │
> ┌───────────────────────────────┐\ ├─┤LCS Information │\ │
> └───────────────────────────────┘\ │ ┌───────────────────────────────┐\
> ├─┤Super Charger Information │\ │ └───────────────────────────────┘\ │
> ┌───────────────────────────────┐\ ├─┤Bearer Service Priority Data │\ │
> └───────────────────────────────┘\ │
> ┌──────────────────────────────────────┐\ ├─┤Administrative Restriction
> Information│\ │ └──────────────────────────────────────┘
Figure 1: Abstract data structure of non-GPRS Subscriber Data (Data sent to
the VLR)
> IMSI\ │\ ├─Access Mode\ │\ ├─Basic MSISDN\ │\ │ ┌──────────────────┐\
> ├─┤Basic Service List│\ │ └──────────────────┘\ │ ┌─────────────────┐\
> ├─┤Call Barring Info│\ │ └─────────────────┘\ │
> ┌──────────────────────────┐\ ├─┤ODB Data for GPRS services│\ │
> └──────────────────────────┘\ │ ┌────────────────────────────────────┐\
> ├─┤Roaming Restriction Data in the SGSN│\ │
> └────────────────────────────────────┘\ │ ┌──────────────────────────┐\
> ├─┤Regional Subscription Data│\ │ └──────────────────────────┘\ │
> ┌──────────────────────────────┐\ ├─┤GPRS subscription Data │\ │
> └──────────────────────────────┘\ │ ┌──────────────────────────────┐\ ├─┤EPS
> subscription Data │\ │ └──────────────────────────────┘\ │
> ┌────────────────────────────────────┐\ ├─┤SGSN CAMEL subscription
> information │\ │ └────────────────────────────────────┘\ │
> ┌───────────────────────────────┐\ ├─┤LSA Data │\ │
> └───────────────────────────────┘\ │ ┌───────────────────────────────┐\
> ├─┤Super-Charger Information │\ │ └───────────────────────────────┘
>
> │ ┌───────────────────────────────┐\ ├─┤Charging Information │\ │
> └───────────────────────────────┘
>
> │ ┌───────────────────────────────┐\ └─┤LCS Information │\
> └───────────────────────────────┘
>
> │ ┌──────────────────────────────────────┐\ ├─┤Administrative Restriction
> Information│\ │ └──────────────────────────────────────┘
Figure 2: Abstract data structure of GPRS Subscriber Data (Data sent to the
SGSN)
> │\ ├─Teleservices\ │ ├─TS(1)\ │ ├─.....\ │ └─TS(n)\ │\ └─Bearer Services\
> ├─BS(1)\ ├─.....\ └─BS(n)
NOTE: For detailed information see 3GPP TS 22.001, 3GPP TS 22.002, 3GPP TS
22.003 and 3GPP TS 29.002.
Figure 3: Basic Service List
> │\ ├─Call Forwarding Unconditional (CFU)\ │ ├─Provisioning State\ │
> ├─BSG(1)\ │ │ ├─Activation State\ │ │ └─Registration State\ │ ├─.....\ │ │\
> │ └─BSG(n)\ │ ├─Activation State\ │ └─Registration State\ │\ ├─Call
> Forwarding on mobile subscriber Busy (CFB)\ │ ├─Subscription Options\ │
> ├─Provisioning State\ │ ├─BSG(1)\ │ │ ├─Activation State\ │ │ ├─Registration
> State\ │ │ └─Forwarded-to Number\ │ │ └─Subaddress\ │ ├─.....\ │ │\ │
> └─BSG(n)\ │ ├─Activation State\ │ ├─Registration State\ │ └─Forwarded-to
> Number\ │ └─Subaddress\ │\ ├─Call Forwarding on mobile subscriber Not
> Reachable (CFNRc)\ │ ├─Subscription Options\ │ ├─Provisioning State\ │
> ├─BSG(1)\ │ │ ├─Activation State\ │ │ ├─Registration State\ │ │ └─Forwarded-
> to Number\ │ │ └─Subaddress\ │ ├─.....\ │ │\ │ └─BSG(n)\ │ ├─Activation
> State\ │ ├─Registration State\ │ └─Forwarded-to Number\ │ └─Subaddress\ │\
> ├─Call Forwarding on No Reply (CFNRy)\ │ ├─Subscription Options\ │
> ├─Provisioning State\ │ ├─BSG(1)\ │ │ ├─Activation State\ │ │ ├─Registration
> State\ │ │ ├─No Reply Condition Timer\ │ │ └─Forwarded-to Number\ │ │
> └─Subaddress\ │ ├─.....\ │ │\ │ └─BSG(n)\ │ ├─Activation State\ │
> ├─Registration State\ │ ├─No Reply Condition Timer\ │ └─Forwarded-to Number\
> │ └─Subaddress\ │\ └─Call Deflection (CD)\ ├─Subscription Options\
> └─Provisioning State
NOTE: For detailed information see 3GPP TS 23.072, 3GPP TS 23.082 and 3GPP TS
29.002.
Figure 4: Forwarding Info
> ├─Barring of All Outgoing Calls (BAOC)\ │ ├─Provisioning State\ │ ├─BSG(1)\
> │ │ └─Activation State\ │ ├─.....\ │ │\ │ └─BSG(n)\ │ └─Activation State\ │\
> ├─Barring of Outgoing International Calls (BOIC)\ │ ├─Provisioning State\ │
> ├─BSG(1)\ │ │ └─Activation State\ │ ├─.....\ │ │\ │ └─BSG(n)\ │ └─Activation
> State\ │\ └─Barring of Outgoing International Calls except\ those directed
> to the Home PLMN Country (BOIC-exHC)\ ├─Provisioning State\ ├─BSG(1)\ │
> └─Activation State\ ├─.....\ │\ └─BSG(n)\ └─Activation State
NOTE: For detailed information see 3GPP TS 23.088 and 3GPP TS 29.002.
Figure 5: Call Barring Info
> └─Closed User Group (CUG)\ ├─Interlock(1)\ │ ├─CUG Index\ │ ├─Intra CUG
> Restrictions\ │ ├─BSG(1)\ │ ├─.....\ │ └─BSG(n)\ ├─.....\ │\ ├─Interlock(m)\
> │ ├─CUG Index\ │ ├─Intra CUG Restrictions\ │ ├─BSG(1)\ │ ├─....\ │ └─BSG(n)\
> │\ ├─BSG(1)\ │ ├─Preferential CUG\ │ └─Inter CUG Accessibility\ ├─.....\ │\
> └─BSG(n)\ ├─Preferential CUG\ └─Inter CUG Accessibility
NOTE: For detailed information see 3GPP TS 23.085 and 3GPP TS 29.002.
Figure 6: CUG Info
> ├─Calling Line Identification Presentation (CLIP)\ │ ├─Provisioning State\ │
> ├─Activation State\ │ └─Override Category\ │\ ├─Calling Line Identification
> Restriction (CLIR)\ │ ├─Provisioning State\ │ ├─Activation State\ │
> └─Presentation Mode\ │\ ├─Connected Line identification Presentation (COLP)\
> │ ├─Provisioning State\ │ ├─Activation State\ │ └─Override Category\ │\
> ├─Connected Line identification Restriction (COLR)\ │ ├─Provisioning State\
> │ └─Activation State\ │\ ├─Call Waiting (CW)\ │ ├─Provisioning State\ │
> ├─BSG(1)\ │ │ └─Activation State\ │ ├─.....\ │ │\ │ └─BSG(n)\ │ └─Activation
> State\ │\ ├─Call Hold (HOLD)\ │ ├─Provisioning State\ │ └─Activation State\
> │\ ├─Multi Party (MPTY)\ │ ├─Provisioning State\ │ └─Activation State\ │\
> ├─Advice of Charge Information (AoCI)\ │ ├─Provisioning State\ │
> └─Activation State\ │\ ├─Advice of Charge Charging (AoCC)\ │ ├─Provisioning
> State\ │ └─Activation State\ │\ ├─Explicit Call Transfer (ECT)\ │
> ├─Provisioning State\ │ └─Activation State\ │\ ├─Calling Name Presentation
> (CNAP)\ │ ├─Provisioning State\ │ ├─Activation State\ │ └─Override Category\
> │\ ├─enhanced Multi-Level Precedence Pre-Emption (eMLPP)\ │ ├─Provisioning
> State\ │ ├─Activation State\ │ ├─Maximum Entitled Priority\ │ └─Default\ │\
> ├─Multicall (MC)
>
> │ ├─Provisioning State\ │ ├─Activation State\ │ ├─Registration State\ │
> ├─Subscribed maximum CS bearers
>
> │ └─User defined maximum CS bearers
>
> │\ ├─Completion of Calls to Busy Subscriber (CCBS)- originating NW\ │
> ├─Provisioning State\ │ └─Activation State\ │\ ├─Completion of Calls to Busy
> Subscriber (CCBS)- destination NW\ │ ├─Provisioning State\ │ └─Activation
> State\ ├─LCS Privacy Exception Class Universal\ │ ├─Provisioning State\ │
> ├─Activation State\ │ └─Registration State\ │\ ├─LCS Privacy Exception Class
> Call Session Related\ │ ├─Provisioning State\ │ ├─Activation State\ │
> └─Registration State\ │\ ├─LCS Privacy Exception Class Call Session
> Unrelated\ │ ├─Provisioning State\ │ ├─Activation State\ │ └─Registration
> State\ │\ ├─LCS Privacy Exception Class PLMN Operator\ │ ├─Provisioning
> State\ │ ├─Activation State\ │ └─Registration State\ │\ ├─LCS Privacy
> Exception Class Service Type\ │ ├─Provisioning State\ │ ├─Activation State\
> │ └─Registration State\ │\ ├─MO-LR Class Basic Self Location\ │
> ├─Provisioning State\ │ ├─Activation State\ │ └─Registration State\ │\ ├─MO-
> LR Class Autonomous Self Location\ │ ├─Provisioning State\ │ ├─Activation
> State\ │ └─Registration State\ │\ └─MO-LR Class Transfer To Third Party\
> ├─Provisioning State\ ├─Activation State\ └─Registration State
NOTE: For detailed information see 3GPP TS 23.067, 3GPP TS 23.081, 3GPP TS
23.083, 3GPP TS 23.084, 3GPP TS 23.086, 3GPP TS 23.091, 3GPP TS 23.093, 3GPP
TS 23.096, 3GPP TS 23.135, 3GPP TS 29.002 and 3GPP TS 23.071.
The codes below are used for the single purpose of enabling the visited
network to notify the home network whether or not the particular Supplementary
Service is supported. These codes are also included in the LCS Information
parameter and the visited network shall use the codes in the LCS Information
parameter, and only this parameter, to obtain the information needed for the
LCS Supplementary Service.
  * LCS Privacy Exception Class Universal
  * LCS Privacy Exception Class Call Session Related
  * LCS Privacy Exception Class Call Session Unrelated
  * LCS Privacy Exception Class PLMN Operator
  * LCS Privacy Exception Class Service Type
  * MO-LR Class Basic Self Location
  * MO-LR Class Autonomous Self Location
  * MO-LR Class Transfer To Third Party
Figure 7: SS Data
> └─Subscriber Status\ ├─all OG-Calls Barred\ ├─international OG-Calls Barred\
> ├─international OG-Calls Not To HPLMN Country Barred\ ├─inter-zonal OG-Calls
> Barred\ ├─inter-zonal OG-Calls Not To HPLMN Country Barred\ ├─international
> OG-Calls Not To HPLMN Country AND\ │ inter-zonal OG-Calls Barred\ ├─Premium
> Rate Information OG-Calls Barred\ ├─Premium Rate Entertainment OG-Calls
> Barred\ ├─SS Access Barred\ ├─all call transfers Barred\ ├─chargeable call
> transfers Barred\ ├─international call transfers Barred\ ├─inter-zonal call
> transfers Barred\ ├─doubly chargeable call transfers Barred\ ├─multiple call
> transfers Barred\ ├─PLMN-Specific Barring Type 1\ ├─PLMN-Specific Barring
> Type 2\ ├─PLMN-Specific Barring Type 3\ └─PLMN-Specific Barring Type 4
NOTE: For detailed information see 3GPP TS 23.015 and 3GPP TS 29.002.
Figure 8: ODB Data for non-GPRS services
> └─Subscriber Status\ ├─all OG-Calls Barred\ ├─international OG-Calls Barred\
> ├─international OG-Calls Not To HPLMN Country Barred\ ├─inter-zonal OG-Calls
> Barred\ ├─inter-zonal OG-Calls Not To HPLMN Country Barred\ ├─international
> OG-Calls Not To HPLMN Country AND\ │ inter-zonal OG-Calls Barred\ ├─PLMN-
> Specific Barring Type 1\ ├─PLMN-Specific Barring Type 2\ ├─PLMN-Specific
> Barring Type 3\ ├─PLMN-Specific Barring Type 4
>
> ├─All Packet Oriented Services Barred\ ├─Roamer Access To HPLMN AP-Barred\
> └─Roamer Access To VPLMN AP-Barred
NOTE: For detailed information see 3G TS 23.015 and 3G TS 29.002.
Figure 9: ODB Data for GPRS services
> └─Roaming Restriction Due To Unsupported Feature
NOTE: For detailed information see 3GPP TS 29.002.
Figure 10: Roaming Restriction Data in the VLR
> └─Roaming Restricted in the SGSN Due To Unsupported Feature
NOTE: For detailed information see 3GPP TS 29.002.
Figure 11: Roaming Restriction Data in the SGSN
> ├─ZoneCode(1)\ │\ ├─.....\ │\ └─ZoneCode(k)
NOTE: For detailed information see 3GPP TS 29.002.
Figure 12: Regional Subscription Data
> └─VGCS membership List\ │\ ├─Group-Id(1)\ │\ ├─.....\ │\ └─Group-Id (n)
NOTE: For detailed information see 3GPP TS 43.068 and 3GPP TS 29.002.
Figure 13: Voice Group Call Data
> └─VBS membership List\ │\ ├─Group-Id(1)\ │ └─Broadcast Call Initiation
> Entitlement\ │\ ├─.....\ │\ └─Group-Id (n)\ └─Broadcast Call Initiation
> Entitlement
NOTE: For detailed information see 3GPP TS 43.069 and 3GPP TS 29.002.
Figure 14: Voice Broadcast Call Data
> └─CAMEL Subscription Information\ │\ ├─ Originating CAMEL Subscription Info\
> │ │\ │ ├─ TDP Data List\ │ │ │\ │ │ ├─ O-BCSM CAMEL TDP Data (1)\ │ │ │ │\ │
> │ │ ├─ O-BCSM TDP\ │ │ │ ├─ DP Criteria\ │ │ │ ├─ Service Key\ │ │ │ ├─
> gsmSCF Address\ │ │ │ ├─ Default Call Handling\ │ │ │\ │ │ ├─.....\ │ │ │\ │
> │ ├─ O-BCSM CAMEL TDP Data (n)\ │ │ │\ │ │ ├─ O-BCSM TDP\ │ │ ├─ DP
> Criteria\ │ │ ├─ Service Key\ │ │ ├─ gsmSCF Address\ │ │ ├─ Default Call
> Handling\ │ │\ │ ├─ CAMEL Capability Handling\ │\ │\ ├─ Dialled Service
> CAMEL Subscription Info\ │ │\ │ ├── DP Criteria List\ │ │ │\ │ │ ├── DP
> Criterion (1)\ │ │ │ │\ │ │ │ ├── Service Key\ │ │ │ ├── gsmSCF Address\ │ │
> │ ├── Default Call Handling\ │ │ │\ │ │ ├──.....\ │ │ │\ │ │ ├── DP
> Criterion (n)\ │ │ │\ │ │ ├── Service Key\ │ │ ├── gsmSCF Address\ │ │ ├──
> Default Call Handling\ │ │\ │ ├── CAMEL Capability Handling\ │\ │\ ├─- VMSC
> Terminating CAMEL Subscription Info\ │ │\ │ ├── TDP Data List\ │ │ │\ │ │ ├─
> VT-BCSM CAMEL TDP Data (1)\ │ │ │ │\ │ │ │ ├─ VT-BCSM TDP\ │ │ │ ├─ DP
> Criteria\ │ │ │ ├─ Service Key\ │ │ │ ├─ gsmSCF Address\ │ │ │ ├─ Default
> Call Handling\ │ │ │\ │ │ ├─.....\ │ │ │\ │ │ ├─ VT-BCSM CAMEL TDP Data (n)\
> │ │ │\ │ │ ├─ VT-BCSM TDP\ │ │ ├─ DP Criteria\ │ │ ├─ Service Key\ │ │ ├─
> gsmSCF Address\ │ │ ├─ Default Call Handling\ │ │\ │ ├─ CAMEL Capability
> Handling\ │\ │\ ├─ SS Invocation Notification CAMEL Subscription Info\ │ │\
> │ ├─ Notification Criterion\ │ ├─ gsmSCF Address\ │ ├─ Activation Flag\ │ ├─
> Notification Flag\ │ ├─ Notify on Change of Subscriber Data Flag\ │\ │\ ├─
> Translation Information Flag CAMEL Subscription
>
> │ Information\ │\ │\ ├─ MO SMS CAMEL Subscription Info\ │ ¦\ │\ ├─ MT SMS
> CAMEL Subscription Info\ │ ¦\ │ ├─ Mobility Management Event Notification
> CAMEL
>
> │ Subscription Info\ │\ ├─ Mobility Trigger List\ ├─ Service Key\ ├─ gsmSCF
> Address
NOTE: For detailed information see 3GPP TS 23.072, 3GPP TS 23.078 and 3GPP TS
29.002.
Figure 15: CAMEL subscription info
> └─LCS Information\ │\ ├─GMLC List\ │ ├─GMLC Address (1)\ │ └─GMLC Address
> (n)\ │\ ├─LCS Privacy Exception List\ │ ├─Universal Privacy Class\ │ │
> ├─Provisioning State\ │ │ ├─Activation State\ │ │ └─Registration State\ │ │\
> │ ├─Call/Session Related Privacy Class\ │ │ ├─Provisioning State\ │ │
> ├─Activation State\ │ │ ├─Registration State\ │ │ └─Notification to MS User\
> │ │ └─External Client List\ │ │ ├─External Client (1)\ │ │ │ ├─Address\
> ...│..│.. ...│...├─Notification to MS User\ │ │ │ └─GMLC restriction\ │ │ │\
> │ │ ├─.....\ │ │ │\ │ │ └─External Client (n)\ │ │ ├─Address\ ...│..│...
> ......├─Notification to MS User\ │ │ └─GMLC restriction │ │\ │
> ├─Call/Session Unrelated Privacy Class\ │ │ ├─Provisioning State\ │ │
> ├─Activation State\ │ │ ├─Registration State\ │ │ ├─External Client List\ │
> │ │ ├─External Client (1)\ │ │ │ │ ├─Address\
> ...│..│...│...│...├─Notification to MS User\ │ │ │ │ └─GMLC restriction\ │ │
> │ │\ │ │ │ ├─.....\ │ │ │ │\ │ │ │ └─External Client (n)\ │ │ │ ├─Address\
> ...│..│...│ ......├─Notification to MS User\ │ │ │ └─GMLC restriction\ │ │
> └─Notification to MS User\ │ │\ │ └─PLMN Operator Privacy Class\ │
> ├─Provisioning State\ │ ├─Activation State\ │ ├─Registration State\ │ └─PLMN
> Client List\ │ ├─PLMN client ID (1)\ │ ├─.....\ │ │\ │ └─PLMN client ID (n)\
> │\ ├─MO-LR List\ │ ├─Basic Self Location Class\ │ │ ├─Provisioning State\ │
> │ ├─Activation State\ │ │ └─Registration State\ │ │\ │ ├─Autonomous Self
> Location Class\ │ │ ├─Provisioning State\ │ │ ├─Activation State\ │ │
> └─Registration State\ │ │\ │ └─Transfer to Third Party Class\ │
> ├─Provisioning State\ │ ├─Activation State\ │ └─Registration State\ │\ ├─LCS
> Service Types\ │ ├─Provisioning State\ │ ├─Activation State\ │
> ├─Registration State\ │ ├─Service Type List\ │ │ ├─Service Type Identity
> (1)\ ...│..│...├─Notification to MS User\ │ │ │ └─GMLC restriction\ │ │ │\ │
> │ ├─....\ │ │ │\ │ │ ├─Service Type Identity (n)\
> ...│..│...│...├─Notification to MS User\ │ │ │ └─GMLC restriction
NOTE: For detailed information see 3GPP TS 23.271 and 3GPP TS 29.002.
Figure 16: LCS Information
> └─PDP Context List\ │\ ├─PDP Context (1)\ │ ├─PDP Context Identifier\ │
> ├─PDP Type\ │ ├─PDP Address\ │ ├─VPLMN Address Allowed\ │ ├─Quality of
> Service Subscribed\ │ ├─Access Point Name\ │ └─PDP Context Charging
> Characteristics\ │\ ├─ ....\ │\ └─PDP Context (n)
NOTE: The figure shows the information in the SGSN. For detailed information
see 3GPP TS 23.060. For information about the GGSN information, see 3GPP TS
23.008.
Figure 17: GPRS subscription data
> └─APN Configuration List\ │
>
> ...├─Default Context\ ├─APN Configuration (1)\ │ ├─Context Identifier\ │
> ├─PDN Type\ │ ├─Served Party IPv4 Address\ │ ├─APN\ │ ├─EPS QoS Subscribed\
> │ ├─PDN GW Identity\ │ ├─PDN GW Allocation Type\ │ ├─VPLMN Address Allowed\
> │ ├─Charging Characteristics\ │ ├─AMBR\ │ ├─Specific APN Info List\ │
> └─Served Party IPv6 Address\ │\ ├─ ....\ │\ └─APN Configuration (n)
Figure 17a: EPS subscription data
> ├─LSA Only Access Indicator\ └─LSA Data List\ │\ ├─LSA Data (1)\ │ ├─LSA
> Identity\ │ ├─LSA Attributes\ │ ├─LSA Active Mode Indicator\ │\ ├─ ....\ │\
> └─LSA Data (n)
NOTE: For detailed information see 3GPP TS 23.073 and 3GPP TS 29.002.
Figure 18: LSA data in the VLR
> ├─LSA Only Access Indicator\ └─LSA Data List\ │\ ├─LSA Data (1)\ │ ├─LSA
> Identity\ │ ├─LSA Attributes\ │ ├─LSA Active Mode Indicator\ │\ ├─ ....\ │\
> └─LSA Data (n)
NOTE: For detailed information see 3GPP TS 23.073 and 3GPP TS 29.002.
Figure 19: LSA data in the SGSN
> └─IST Alert Timer
NOTE: For detailed information see 3GPP TS 43.035 and 3GPP TS 29.002.
Figure 20: IST data in the VLR
> └─Age Indicator
NOTE: For detailed information see TS 23.116 and TS 29.002.
Figure 21: Super-Charger Information
> ├─SGSN CAMEL subscription information\ │\ ├─ GPRS CAMEL Subscription
> Information\ │ │\ │ ├─ TDP Data List\ │ │\ │ │ ├─ GPRS CAMEL TDP Data (1)\ │
> │ │ │\ │ │ │ ├─ GPRS TDP\ │ │ │ ├─ Service Key\ │ │ │ ├─ gsmSCF Address\ │ │
> │ ├─ Default GPRS Handling\ │ │ │\ │ │ ├─....\ │ │ │\ │ │ ├─ GPRS CAMEL TDP
> Data (n)\ │ │ │ │\ │ │ │ ├─ GPRS TDP\ │ │ │ ├─ Service Key\ │ │ │ ├─ gsmSCF
> Address\ │ │ │ ├─ Default GPRS Handling\ │ │\ │ ├─ CAMEL Capability
> Handling\ │\ ├─ MO SMS CAMEL Subscription Info\ │\ ├─ MT SMS CAMEL
> Subscription Info\ │\ ├─ Mobility Management Event for GPRS Notification\ │
> │ CAMEL Subscription Info\ │ │\ │ ├─ Mobility Trigger List\ │ ├─ Service
> Key\ │ ├─ gsmSCF Address\ │
Figure 22: SGSN CAMEL subscription info
> ├─ MO SMS CAMEL Subscription Info\ │\ ├─ TDP Data List\ │ │\ │ ├─ MO SMS
> CAMEL TDP Data (1)\ │ │ │\ │ │ ├─ MO SMS TDP\ │ │ ├─ Service Key\ │ │ ├─
> gsmSCF Address\ │ │ ├─ Default SMS Handling\ │ │\ │ ├─.....\ │ │\ │ ├─ MO
> SMS CAMEL TDP Data (n)\ │ │\ │ ├─ MO SMS TDP\ │ ├─ Service Key\ │ ├─ gsmSCF
> Address\ │ ├─ Default SMS Handling\ │\ ├─ CAMEL Capability Handling
Figure 23a: MO SMS CAMEL Subscription Info
> ├─ MT SMS CAMEL Subscription Info\ │\ ├─ TDP Data List\ │ │\ │ ├─ MT SMS
> CAMEL TDP Data (1)\ │ │ │\ │ │ ├─ MT SMS TDP
>
> │ │ ├─ DP Criteria\ │ │ ├─ Service Key\ │ │ ├─ gsmSCF Address\ │ │ ├─
> Default SMS Handling\ │ │\ │ ├─.....\ │ │\ │ ├─MT SMS CAMEL TDP Data (n)\ │
> │\ │ ├─ MT SMS TDP
>
> │ ├─ DP Criteria\ │ ├─ Service Key\ │ ├─ gsmSCF Address\ │ ├─ Default SMS
> Handling\ │\ ├─ CAMEL Capability Handling
Figure 23b: MT SMS CAMEL Subscription Info
> └─CS Allocation/Retention priority
NOTE: For detailed information see 3GPP TS 23.008.
Figure 24: Bearer Service Priority Data in the VLR
> └─Subscribed Charging Characteristics
NOTE: For detailed information see 3GPP TS 23.060.
Figure 25: Charging Information.
> └─Access Restriction Data
NOTE: For detailed information see 3GPP TS 23.012 [34].
Figure 26: Administrative Restriction Information in the VLR
#