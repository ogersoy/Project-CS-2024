# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document studies and evaluates architectural enhancements required
for 3GPP systems to provide flexible mobile service steering policies as per
the service requirements defined in TS 22.101 [2], clause 30.
NOTE: Service enablers supported within the (S)Gi-LAN and the routing of
traffic between those service enablers are not in the scope. The scope of the
work is restricted to providing policies for traffic steering through
interfaces defined by 3GPP.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.101: \"Service aspects; Service principles \".
[3] 3GPP TS 23.203: \"Policy Control and Charging Architecture\".
[4] 3GPP TS 29.212: \"Policy and Charging Control (PCC); Reference points\"
[5] IETF draft-ietf-sfc-architecture-07: \"Service Function Chaining (SFC)
Architecture\".
[6] IETF draft-ietf-sfc-nsh-00: \"Network Service Header\".
[7] IETF draft-ietf-sfc-use-case-mobility-03: \"Service Function Chaining Use
Cases in Mobile Networks\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1], TS 22.101 [2], and the following apply. A term defined in the
present document takes precedence over the definition of the same term, if
any, in TR 21.905 [1].
**Metadata:** Information needed by the service functions in the (S)Gi-LAN to
perform service (e.g. user identification, device information, IP-CAN type,
RAT-Type, User Location Information).
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
FMSS Flexible Mobile Service Steering
# 4 Architectural Assumptions
4.1 Traffic steering policy generator - PCRF
In order to realize traffic steering in the operator deployed (S)Gi-LAN, the
network operator uses various parameters, related to the subscriber session
and the application traffic, to define traffic steering policies. These
policies are used to control the steering of the subscriber\'s traffic to
appropriate service enablers (e.g. NAT, antimalware, parental control, DDoS
protection) in the (S)Gi-LAN.
The PCRF is extended to support generation of traffic steering policy for the
support of flexible service steering in the (S)Gi-LAN. This will ensure a
central function controlling all the subscriber related policies within the
3GPP core network architecture. In the home routed scenario, H-PCRF shall be
able to generate the traffic steering policy for home routed traffic.
Editor\'s note: The traffic steering in local-breakout scenario is FFS.
The PCRF may use one or more pieces of information available in the PCRF (as
described in the clause 6.2.1.1 of the TS 23.203 [3]), such as the IP-CAN
session information and subscription information and network operator\'s
policies as input for generation of traffic steering policies.
# 5 Key Issues
## 5.1 Key Issue 1 - Interface for provisioning of traffic steering policy
### 5.1.1 Description
In order to support traffic steering in (S)Gi-LAN interface(s) with PCRF for
provisioning of traffic steering policies as well as various procedures over
that/those interface(s) need to be defined. Options include re-using existing
interface(s) or defining new interface(s) from the PCRF. In any case, the
following procedures need to be supported over that/those interface(s):
\- Provisioning of new traffic steering policy with granularity of subscriber,
application and service data flow.
\- Modification/Removal of existing traffic steering policy with granularity
of subscriber, application and service data flow.
NOTE: (S)Gi-LAN is network infrastructure connecting to 3GPP network over the
SGi or Gi reference point that provides various IP-based services (e.g. NAT,
antimalware, parental control, DDoS protection, video optimization).
### 5.1.2 Architectural Requirements
The FMSS solution is required to meet the following requirements:
\- For application based traffic steering, support for the application
detection functionality is needed.
NOTE: The FMSS solution includes components in and outside the scope of 3GPP.
\- A solution to flexible traffic steering needs to describe how it works in
conjunction with the existing 3GPP features, e.g. ADC feature, if the network
has deployed support for this feature.
\- A solution to flexible traffic steering should describe how traffic
steering policies based on the application characteristics (e.g. application
type, URL, application protocol, etc.) can be supported.
## 5.2 Key Issue 2 - Semantics of traffic steering policy
### 5.2.1 Description
This key issue investigates the semantics of the traffic steering policy
provided by the PCRF. The solution to this key issue should propose the nature
of the information exchanged under traffic steering policy.
# 6 Solutions
## 6.1 Solutions to Key Issue 1
### 6.1.1 Solution 1.1: Leveraging of the existing PCC framework with Sd
interface
#### 6.1.1.1 Description
This solution corresponds to key issue 1 \"Interface for provisioning of
traffic steering policy\".
This solution is based on the existing PCC framework principles as defined in
the Clause 4.1. The same parameters, as defined by the TS 23.203 [3], clause
6.2.1.1 provide input to the PCRF for all PCC decision-making functionality,
including a traffic steering policy generation. Clause 5.1.1 refers to the TS
22.101 [2] definition of (S)Gi-LAN as \"the network infrastructure connecting
to 3GPP network over the SGi or Gi reference point that provides various IP-
based services (e.g. NAT, antimalware, parental control, DDoS protection,
video optimization)\".
##### 6.1.1.1.1 Sd based solution
_Within 3GPP core network architecture, the TDF is placed at (S)Gi interface
as defined_ by the TS 23.203 [3]_._ The functionality of the TDF is extended
to support the steering of the traffic within (S)Gi-LAN. Following two are
implementation or deployment choices:
\- (Alternative1): Stand-alone TDF.
The TDF is extended to support steering of traffic within (S)Gi-LAN systems.
The service functions and steering infrastructure between the service
functions are part of (S)Gi-LAN systems. The TDF receives traffic steering
policies from PCRF via Sd interface. Based on these policies, it performs
application detection and provides traffic steering related information (as
part of UE\'s packet) to the (S)Gi-LAN systems, which then performs traffic
steering. This alternative is suitable for the deployment which has standalone
TDF.
\- (Alternative2): TDF collocated/embedded within (S)Gi-LAN.
As all enforcement, DSCP marking, usage monitoring, charging etc.
functionalities are optional at TDF as per TS 23.203 [3], in this case TDF may
be utilized to only support Application Detection and Reporting (ADR)
functionality in order to fulfil flexible service steering requirements
(related to application based service steering and policy decisions based on
detected application traffic). It is feasible to collocate the TDF with (S)Gi-
LAN and interface it with the Sd interface for providing only the Application
Detection (and optionally Reporting) functionality (if the other
functionalities are not needed by the operator) . The PCRF interfaces with the
TDF function within (S)Gi-LAN systems using the Sd interface and provides the
traffic steering policies. The uplink and downlink traffic is passed through
TDF before it enters the service functions. The TDF performs application
detection and reporting to the PCRF and provides traffic steering related
information to the other functional elements within (S)Gi-LAN systems to
achieve traffic steering. This alternative is suitable for the deployment
which has TDF embedded within the (S)Gi-LAN systems.
Following are representative architectural examples of such implementation
alternatives:
Figure 6.1.1.1.1-1: Alternative1 - Stand-alone TDF
Figure 6.1.1.1.1-2: Alternative2 - TDF collocated/embedded within (S)Gi-LAN
This solution proposes to provide the traffic steering policies via the
existing Sd interface which can be leveraged for traffic steering in (S)Gi-LAN
systems. A single Sd interface is established between the PCRF and the TDF for
the single IP-CAN session as per TS 23.203 [3], however TDF may have multiple
instances/processes as per deployment requirements, e.g. one process for
uplink traffic and a different one for downlink traffic.The existing methods
for providing and inquiring policies over the Sd interface are leveraged for
providing and inquiring service steering policies.
The traffic steering policies can apply on session, application and service
data flow level.
The existing IP-CAN session establishment, IP-CAN session modification and IP-
CAN session termination procedures (along with TDF interaction) defined by the
TS 23.203 [3], Sections 7.2, 7.3, 7.4 and 7.5, are leveraged. Within IP-CAN
session establishment and IP-CAN session modification procedures, the PCRF may
provide traffic steering policies to the TDF over Sd interface.
There is a set of metadata available at the TDF per existing specifications,
which may be needed by the service functions in SGi-LAN to perform services.
Per 3GPP TS 23.203 [3], this may include e.g. UE Identity Information and the
location/access network information. This may be received from the PCRF at the
IP-CAN session establishment and, in case the TDF subscribes to the change of
value of selected parameter (s) /set of metadata, i.e. when operator policies
for metadata are defined in TDF, at any time when PCRF gets updates from the
PCEF/BBERF (in such a case, according to the TS 23.203 [3], PCRF also
subscribes for the corresponding parameter (s) at PCEF/BBERF). Operator
policies in PCRF and/or TDF determine which metadata per traffic steering
policy needs to be transferred to the service functions in the SGi-LAN.
Operator policies in PCRF always take precedence over local configuration at
the TDF. Operator policies in the TDF are not per subscriber.
NOTE 1: In case of operator policies in PCRF, a mechanism can be defined to
transfer the information regarding which traffic steering rule requires which
metadata parameters.
NOTE 2: The same procedures and metadata transfer mechanisms apply in case of
Alternative 1 and Alternative 2.
Upon receiving traffic steering policies, TDF enforces it.
NOTE 3: The functionality of the Service functions supported within the (S)Gi-
LAN and the steering of traffic between those Service functions, if needed,
are out of the work\'s scope.
NOTE 4: In order to protect TDF from malicious attacks (e.g. DDoS attacks), an
operator can deploy firewall before the traffic enters TDF. Since this
firewall is meant to protect TDF, and it doesn\'t apply on a per specific TDF
session/service data/flow/detected application traffic but apply in general
per deployment requirements, it is not a part of flexible service chaining
(which is applicable per specific TDF session/service data flow/detected
application traffic).
##### 6.1.1.1.2 Sd interface enhancements
In order to provide traffic steering policies on service data flow level, Sd
interface has to be extended to support service data flow related parameters
within ADC Rules.
Also, Sd interface will be enhanced for transfer of traffic steering policies.
##### 6.1.1.1.3 Traffic steering policy enforcement by TDF
##### 6.1.1.1.3.1 General {#general .H6}
As described in clause 6.1.1.1, the TDF receives the traffic steering policies
from the PCRF over the Sd interface and enforces them. For enforcing these
policies, the exact set of functionalities required to be supported by the TDF
depends upon the mechanism used for routing of the traffic between the service
functions with the (S)Gi-LAN. Since routing of the traffic via Service
Functions is not in 3GPP\'s scope, we are relying on the external SDOs working
on these aspects. By providing high level description, here, we highlight that
the proposed solution can leverage and hence complement the work done by those
external SDOs (either one or more of them, as e.g. some implementation may
leverage IETF\'s work, interworking with an ONF based SGi-LAN, while other may
leverage ONF\'s work, or both). However, these are implementation specific
aspects and wont be standardized by 3GPP.
NOTE: Clauses 6.1.1.1.3.2 and 6.1.1.1.3.3 are for information only and simply
summarize the SFC related work done by the external SDOs and then try to map
the functional entities defined by them to the solution in this section. They
do not define any new functional entity or protocol.
##### 6.1.1.1.3.2 When utilizing the IETF work {#when-utilizing-the-ietf-work
.H6}
Under the Service Function Chain working group, IETF is working on some of the
aspects of flexible traffic steering solution. In their working group draft on
\"Service Function Chaining (SFC) Architecture\" [5], the high-level
architecture of Service Function Chain is defined under clause 4. Among the
other functions, the architecture defines Service Classification Function (SFC
Classifier) which performs L3/L4 or L7 parameter based traffic classification
and imposes SFC encapsulation based on the operator policy. SFC encapsulation
enables service function path selection and sharing of metadata/context
information when required. The working group on \"Network Service Header\" [6]
refers to attaching a Network Services Header to the traffic so as to allow
the Service Function Forwarder (SFF) to steer the traffic via the appropriate
Service Functions (SF). The SFF examines the Network Service Header to
determine how to forward the traffic.
In the current solution, for enforcing the traffic steering policy, the TDF
takes the role of the Service Classification Function (SFC Classifier) defined
within the SFC architecture. In other words, this function defined by IETF\'s
SFC architecture is implemented by the TDF for enforcing the traffic steering
policy. IETF has also described this model in their working group draft on
\"Service Function Chaining Use Cases in Mobile Networks\" [7] under clause 2.
The SFs and SFFs are located within the (S)Gi-LAN.
##### 6.1.1.1.3.3 When utilizing the ONF work {#when-utilizing-the-onf-work
.H6}
As part of \"L4-L7 Service Function Chaining Solution Architecture\", ONF is
working on some of the aspects of flexible traffic steering solution. They
have defined SFC architecture by using IETF\'s architecture as base model and
adding some more SDN related components on top of it, e.g. SFC orchestrator,
SFC controller, etc. The SFC controller interfaces with the SFC classifier
providing it the instructions related to traffic classification and performing
SFC encapsulation. Additionally, the SFC controller also programs the SFF with
the SFC header so that it can route the traffic containing that SFC header via
specific service functions.
When leveraging the ONF work, the TDF takes the role of the SFC classifier for
enforcing the traffic steering policy. The SFC controller may be collocated
with TDF or located within (S)Gi-LAN. If the SFC controller is located with
(S)Gi-LAN then a NBI (North-Bound-Interface, out of scope of 3GPP) to a
Traffic Steering application functional module in the TDF that translates
traffic steering rules from Sd is used to provide the traffic steering
policies to the SFC controller. The protocol defined by the ONF (i.e.
OpenFlow) cannot be used to configure the SFC classifier in the TDF since the
application (i.e. L7 parameter) based traffic classification rules, which is
one of the requirement for the FMSS solution (as described in clause 5.1.2),
are not supported by (the current version of) that protocol. Hence the
OpenFlow protocol with proprietary extension is required to be used between
the SFC classifier and SFC controller when the SFC controller is located
within (S)Gi-LAN. Other components defined by the ONF\'s SFC architecture,
e.g. SFC orchestrator (which mainly deals with the management of service
function instances service function chain) and SFF, can be located within the
(S)Gi-LAN. The other TDF functions remain unchanged: in particular,
application detection activations/reports are exchanged via Sd.
#### 6.1.1.2 Impacts on existing nodes and functionality
The TDF (Solution 6.1.1.1.1):
\- Must be enhanced in order to support traffic steering policy enforcement.
Please refer to clause 6.1.1.1.3.
The PCRF:
\- Must be enhanced in order to make traffic steering policy decisions based
on existing input parameters.
#### 6.1.1.3 Solution Evaluation
This solution re-uses the existing functional entities and the existing PCC
procedures between the PCRF and the TDF.The solution does not add any new call
flows between any functional entities.
As described by the solution, within 3GPP core network architecture, the TDF
is placed on (S)Gi interface.
Also, session and application based usage monitoring reports, supported by the
TDF, may serve as input for policy based decisions by the PCRF, including
traffic steering policies decisions. Besides, the TDF also provides other
functionality such as user charging, traffic redirection, gating and bandwidth
control as of today and hence these can also be leveraged for e.g. Sy based
spending limits reports towards PCRF for making policy decisions or,
additionally, charging based on the use of Service functions and traffic
steering, in the future, if needed.
The Sd interface has well defined procedures to provide policies on session
and on application level.
The solution also fulfils the architectural requirements mentioned in clause
5.1.2:
**Support for the application detection functionality:** As described in TS
23.203 [3], clause 4.5, the application detection function is implemented by
the TDF. This solution uses TDF functionality in standalone mode or collocated
with (S)Gi-LAN and thus supports application detection functionality.
\- As both PCRF and TDF belong to the same operator\'s domain, a coordinated
configuration in PCRF and in TDF for a proper use of Application Identifier
(s) is assured according to existing specification 3GPP TS 23.203 [3].
\- **Working in conjunction with ADC feature:** ADC feature refers to
\"Application Detection and Control\", where the \"Control\" part refers to
the enforcement of the policies such as traffic throttling, blocking or
redirection, application based charging, usage monitoring etc. A common aspect
between the ADC feature and the flexible traffic steering solution is
\"Application Detection\" function. By utilizing the Application Detection
function of the TDF for enforcing the traffic steering policies (refer to
clause 6.1.1.1.3), this solution utilizes the ADC feature defined by 3GPP.
Additionally, the solution also allows enforcement of the ADC policies (i.e.
the \"Control\" part of ADC feature) in conjunction with the traffic steering
policies since both of these are enforced by the same entity, TDF. Thus, the
solution avoids performing application detection of the same (S)Gi traffic
multiple times, i.e. avoids different Application Detection handle the traffic
once for application based charging, usage monitoring and once for service
steering, and works in conjunction with the ADC feature.
\- **Support for traffic steering policies generation based on the application
characteristics:** As mentioned in the solution section, the TDF reports
application detection START and STOP along with optional application instance
identifiers and the corresponding service data flow descriptions per received
ADC Rules, which can also be leveraged for defining and provisioning of
application based traffic steering policies as defined by the TS 23.203 [3].
There are existing procedures to make the metadata, e.g. UE Identity
Information and the location/access network information., and its change of
value available to the PCRF and then transported to the TDF. The PCRF
subscribes to the existing event triggers from BBERF/PCEF to be notified about
any changes in metadata information, and notify the updated metadata to the
TDF. Depending upon the currently active detected application traffic and the
traffic steering policy, the TDF activates reporting of those metadata which
are required by the traffic steering policy, The TDF can use the existing
procedures over the Sd interface to activate/deactivate reporting of change of
value of selected metadata for the traffic steering purpose.
The solution allows various deployments and architectures of the (S)Gi-LAN
(e.g. the SFC architecture as defined by IETF or ONF). The solution is
agnostic to the way routing/forwarding is done and to the routing/forwarding
functional entities within the (S)Gi-LAN.
### 6.1.2 Solution 1.2: Leveraging of the existing PCC framework with Gx
interface
#### 6.1.2.1 Description
This solution corresponds to key issue 1 \"Interface for provisioning of
traffic steering policy\".
_This solution is based on the existing PCC framework principles as defined in
the Clause 4.1. The same parameters, as defined by the TS 23.203 [3], clause
6.2.1.1 provide input to the PCRF for all PCC decision-making functionality,
including a traffic steering policy generation. Clause 5.1.1 refers to the TS
22.101 [2] definition of (S)Gi-LAN as \"the network infrastructure connecting
to 3GPP network over the SGi or Gi reference point that provides various IP-
based services (e.g. NAT, antimalware, parental control, DDoS protection,
video optimization)\"._
##### 6.1.2.1.1 Gx based solution
_Within 3GPP core network architecture, the (S)Gi interface connects the
PGW/PCEF to (S)Gi-LAN._ The functionality of the PCEF is extended to support
the steering of the traffic within (S)Gi-LAN system. The PCEF receives traffic
steering policies from the PCRF via Gx interface. Based on these policies, it
performs application detection and reporting to the PCRF and provides traffic
steering related information (as part of UE\'s packet) to the (S)Gi-LAN
systems, which then performs traffic steering. This alternative is suitable
for the deployment which has PCEF enhanced with ADC functionality.
Following is the representative architectural example of such implementation:
Figure 6.1.2.1.1-1: PCEF extended to support steering of traffic within (S)Gi-
LAN systems
NOTE 1: This solution applies to the case where the PCEF is a PGW. It could
also apply to Service Steering for the traffic of PCEF located at IP Edge as
defined in Annex S of the TS 23.203 [3]).
This solution proposes to provide the traffic steering policies via the
existing Gx interface which can be leveraged for traffic steering in (S)Gi-LAN
systems. A single Gx interface is established between the PCRF and the PCEF
for the single IP-CAN session according to TS 23.203 [3], however internally
PCEF implementation may have multiple processes handling different sub-
functions, e.g. one process for uplink traffic and a different one for
downlink traffic.
The existing methods for providing and inquiring policies over the Gx
interface are leveraged for providing and inquiring service steering policies.
The traffic steering policies can apply on session, application and service
data flow level.
The existing IP-CAN session establishment and IP-CAN session modification and
IP-CAN session termination procedures defined by the TS 23.203 [3], clauses
7.2, 7.3, 7.4 and 7.5, are leveraged. Within IP-CAN session establishment and
IP-CAN session modification procedures, the PCRF may provide traffic steering
policies to the PCEF over Gx interface.
There is a set of metadata available at the PGW/PCEF per existing
specifications, which may help service functions in SGi-LAN to perform
corresponding services. Per 3GPP TS 23.203 [3], this may include e.g. UE
Identity Information and the location/access network information. Operator
policies in PCRF and/or PGW/PCEF determine which metadata needs to be
transferred to the service functions in the SGi-LAN. Operator policies in PCRF
always take precedence over local configuration at the PGW/PCEF. Operator
policies in the PCEF are not per subscriber.
NOTE 2: In case of operator policies in PCRF, a mechanism can be defined to
transfer the information regarding which traffic steering rule requires which
metadata parameters.
Upon receiving traffic steering policies, PCEF enforces it.
In order to apply traffic steering policies on application level, Application
Detection and Control (ADC) feature needs to be supported by the PCEF.
NOTE 3: The functionality of the Service functions supported within the (S)Gi-
LAN and the steering of the traffic between those Service functions, if
needed, are out of the work\'s scope.
NOTE 4: In order to protect PGW from malicious attacks (e.g. DDoS attacks), an
operator can deploy firewall before the traffic enters PGW. Since this
firewall is meant to protect PGW, and it doesn\'t apply on a per specific
session/service data/flow/detected application traffic but apply in general
per deployment requirements, it is not a part of flexible service chaining
(which is applicable per specific session/service data flow/detected
application traffic).
##### 6.1.2.1.2 Gx interface enhancements
Gx interface will be enhanced for transfer of traffic steering policies.
##### 6.1.2.1.3 Traffic steering policy enforcement by PGW
##### 6.1.2.1.3.1 General {#general-1 .H6}
As described in clause 6.1.1.1, the PGW receives the traffic steering policies
from the PCRF over the Gx interface and enforces it. For enforcing these
policies, the exact set of functionalities required to be supported by the PGW
depends upon the mechanism used for routing of the traffic between the service
functions with the (S)Gi-LAN. Since routing of the traffic via Service
Functions is not in 3GPP\'s scope, we are relying on the external SDOs working
on these aspects. By providing high level description, here, we highlight that
the proposed solution can leverage and hence complement the work done by those
external SDOs (either one or more of them, as e.g. some implementation may
leverage IETF\'s work, interworking with an ONF based SGi-LAN, while other may
leverage ONF\'s work or both). However, these are implementation specific
aspects and wont be standardized by 3GPP.
NOTE: Clauses 6.1.2.1.3.2 and 6.1.2.1.3.3 are for information only and simply
summarize the SFC related work done by the external SDOs and then try to map
the functional entities defined by them to the solution in this section. They
do not define any new functional entity or protocol.
##### 6.1.2.1.3.2 When utilizing the IETF work {#when-utilizing-the-ietf-
work-1 .H6}
Under the Service Function Chain working group, IETF is working on some of the
aspects of flexible traffic steering solution. In their working group draft on
\"Service Function Chaining (SFC) Architecture\" [5], the high-level
architecture of Service Function Chain is defined under clause 4. Among the
other functions, the architecture defines Service Classification Function (SFC
Classifier) which performs L3/L4 or L7 parameter based traffic classification
and imposes SFC encapsulation based on the operator policy. SFC encapsulation
enables service function path selection and sharing of metadata/context
information when required. The working group draft on \"Network Service
Header\" [6] refers to attaching a Network Services Header to the traffic so
as to allow the Service Function Forwarder (SFF) to steer the traffic via the
appropriate Service Functions (SF). The SFF examines the Network Service
Header to determine how to forward the traffic.
In the current solution, for enforcing the traffic steering policy, the PGW
takes the role of the Service Classification Function (SFC Classifier) defined
within the SFC architecture. In other words, this function defined by IETF\'s
SFC architecture is implemented by the PGW for enforcing the traffic steering
policy. IETF has also described this model in their working group draft on
\"Service Function Chaining Use Cases in Mobile Networks\" (draft-ietf-sfc-
use-case-mobility-03 [7]) under clause 2. The SFs and SFFs are located within
the (S)Gi-LAN.
##### 6.1.2.1.3.3 When utilizing the ONF work {#when-utilizing-the-onf-work-1
.H6}
As part of \"L4-L7 Service Function Chaining Solution Architecture\", ONF is
working on some of the aspects of flexible traffic steering solution. They
have defined SFC architecture by using IETF\'s architecture as base model and
adding some more SDN related components on top of it, e.g. SFC orchestrator,
SFC controller, etc. The SFC controller interfaces with the SFC classifier
providing it the instructions related to traffic classification and performing
SFC encapsulation. Additionally, the SFC controller also programs the SFF with
the SFC header so that it can route the traffic containing that SFC header via
the corresponding service functions.
When leveraging the ONF work, the PGW takes the role of the SFC classifier for
enforcing the traffic steering policy. The SFC controller may be collocated
with PGW or located within (S)Gi-LAN. If the SFC controller is located with
(S)Gi-LAN then a NBI (North-Bound-Interface, out of scope of 3GPP) to a
Traffic Steering application functional module in the PGW that translates
traffic steering rules from Gx is used to provide the traffic steering
policies to the SFC controller. The protocol defined by the ONF (i.e.
OpenFlow) cannot be used to configure the SFC classifier in the PGW since the
application (i.e. L7 parameter) based traffic classification rules, which is
one of the requirement for the FMSS solution (as described in clause 5.1.2),
are not supported by (the current version of) that protocol. Hence the
OpenFlow protocol with proprietary extension is required to be used between
the SFC classifier and SFC controller when the SFC controller is located
within (S)Gi-LAN. Other components defined by the ONF\'s SFC architecture,
e.g. SFC orchestrator (which mainly deals with the management of service
function instances service function chain) and SFF, can be located within the
(S)Gi-LAN. The other PGW functions remain unchanged and related exchanges are
performed via Gx.
#### 6.1.2.2 Impacts on existing nodes and functionality
The PCEF:
\- Must be enhanced in order to support traffic steering policy enforcement.
Please refer to clause 6.1.2.1.3.
The PCRF:
\- Must be enhanced in order to make traffic steering policy decisions based
on existing input parameters.
#### 6.1.2.3 Solution Evaluation
This solution re-uses the existing functional entities and the existing PCC
procedures between the PCRF and the PCEF. The solution does not add any new
call flows between any functional entities.
As described by the solution, within 3GPP core network architecture, the
PGW/PCEF is connected to S(Gi)-LAN over S(Gi) interface.
Also, session and application based usage monitoring reports, supported by the
PCEF, may serve as input for policy based decisions by the PCRF, including
traffic steering policies decisions. Besides, the PCEF also provides other
functionality such as user charging, traffic redirection, gating and bandwidth
control as of today and hence these can also be leveraged for e.g. Sy based
spending limits reports towards PCRF for making policy decisions or,
additionally, charging based on the use of Service functions and traffic
steering, in the future, if needed.
Also as mentioned by the solution, in order to provide traffic steering
policies on application level, ADC feature has to be supported by the PCEF.
The Gx interface has well defined procedures to provide policies on session,
application and service data flow level.
The solution also fulfils the architectural requirements mentioned in clause
5.1.2:
\- **Support for the application detection functionality:** As described in
3GPP TS 23.203 [3], clause 4.5, the application detection function is
implemented by the PCEF enhanced with ADC. This solution uses PCEF enhanced
with ADC and thus supports application detection functionality.
\- As both PCRF and PCEF belong to the same operator\'s domain, a coordinated
configuration in PCRF and in PCEF for a proper use of Application Identifier
(s) is assured according to existing specification 3GPP TS 23.203 [3].
\- **Working in conjunction with ADC feature:** ADC feature refers to
\"Application Detection and Control\", where the \"Control\" part refers to
the enforcement of the policies such as traffic throttling, blocking or
redirection, application based charging, usage monitoring etc. A common aspect
between the ADC feature and the flexible traffic steering solution is
\"Application Detection\" function. By utilizing the Application Detection
function of the PCEF enhanced with ADC for enforcing the traffic steering
policies (refer to clause 6.1.1.1.3), this solution utilizes the ADC feature
defined by 3GPP. Additionally, the solution also allows enforcement of the ADC
policies (i.e. the \"Control\" part of ADC feature) in conjunction with the
traffic steering policies since both of these are enforced by the same entity,
PCEF enhanced with ADC. Thus, the solution avoids performing application
detection of the same (S)Gi traffic multiple times, i.e. avoids different
Application Detection handle the traffic once for application based charging,
usage monitoring and once for service steering, and works in conjunction with
the ADC feature.
\- **Support for traffic steering policies generation based on the application
characteristics:** As mentioned in the solution section, the PCEF enhanced
with ADC reports application detection START and STOP along with optional
application instance identifiers and the corresponding service data flow
descriptions per received PCC Rules, which can also be leveraged for defining
and provisioning of application based traffic steering policies as defined by
the TS 23.203 [3].
There is a set of metadata available at the PGW/PCEF per existing
specifications, which may help service functions in SGi-LAN to perform
corresponding services. This includes e.g. UE Identity Information and the
location/access network information.. Depending upon the currently active
detected application traffic and the service function(s) through which the
traffic is steered, the PCEF only activates reporting of those metadata which
are required by service function(s), as indicated by the steering policy
received from PCRF. Dynamic PCC Rules received from PCRF always take
precedence over pre-defined PCC Rules configuration at the PGW/PCEF.
The solution allows various deployments and architectures of the (S)Gi-LAN
(e.g. the SFC architecture as defined by IETF or ONF). The solution is
agnostic to the way routing/forwarding is done and to the routing/forwarding
functional entities within the (S)Gi-LAN.
### 6.1.3 Solution 1.3:Dual-Classifier Solution
#### 6.1.3.1 Architecture Description
To achieve effective traffic steering, the traffic shall be routed to the so
called Value Added Services (VAS) in a proper manner: the traffic goes through
VAS only as needed, avoid traffic concentration as much as possible and avoid
duplicated computational intensive functions execution.
There are two classifiers are introduced in the 3GPP network scope. The
architecture are summarized as below:
Ë— PCRF is enhanced to provide Traffic Steering Policy on how to decide the
traffic path based on related information.
Ë— The TCF (Traffic Classifier Function) is introduced to be collocated with
PGW differentiate variant traffic based on the policy received from PCRF and
perform traffic marking.
Ë— TCFd is a network function performs as classifiers for downlink traffic
only. The IP address of TCFd is configured in PCRF.
Ë— A new interface Sts may be introduced to provide downlink traffic marking
rule to TCFd. Or, the TCF incorporates the downlink traffic marking rule into
the packet data being forwarded to TCFd.
NOTE: TCFd could be a function that can be implemented standalone or can be
collocated with network elements such as NAT, FW, switches, etc.
##### 6.1.3.1.1 Solution description
For the uplink, the traffic travels through TCF then goes to (s)Gi-LAN. The
packets are marked by TCF according to the traffic steering policy provided by
PCRF.
For applications with deducible service data flows, there are two ways to
inform TCFd the downlink traffic classification rule:
1) Control plane approach: the TCF informs PCRF the mapping of the Application
ID with IP 5-tuple through application reporting message. PCRF then further
informs TCFd on the downlink traffic marking rule over the Sts interface as
shown in the figure 6.1.3.1 below. TCFd performs downlink traffic
classification based on the rule.
2) Data plane approach: after TCF identifies the deducible DL traffic flows,
the downlink data packets are routed back to the TCFd directly from the TCF or
routed to the TCFd through a specific chain where the TCFd acts as a service
enabler. TCFd derives and records the classification rule (e.g., the IP
5-tuple with the NSH defined in IETF [6]).
The downlink traffic travels through TCFd and will be classified if such rule
exists otherwise those traffic (non-deducible service data flow) is forwarded
to TCF (i.e., the line â‘ ) for classification and marking. Then, the traffic
will be sent back to (s)Gi-LAN (i.e., the line â‘¡). The downlink traffic is
processed and sent back to user (i.e., the line â‘¢). The subsequent downlink
traffic is sent to TCF for marking until TCF informs TCFd the downlink chain
ID through PCRF.
Considering that traffic inspection is computational intensive, the traffic
steering policy shall be able to indicate to TCF which traffic need to be
processed. For example, only traffic generated by users subscribed with some
service/application in the congested cell will be handled by deep inspection.
Figure 6.1.3.1: Architecture and information flow when TCF collocated with
PGW/TDF
When TDF is deployed with ADC function, the TCF can be collocated with TDF.
TDF obtains traffic steering policy over Sd from PCRF. In case of applications
with deducible service data flows, there may be no ADC Rules for downlink
traffic.
#### 6.1.3.2 Signalling procedures of the control plane alternative
There are three types of information are involved in this solution: the PCRF
provide traffic steering policy to TCF, TCF report deducible traffic
information to PCRF. Based on it, PCRF send traffic marking rule to TCFd. The
overall related procedures are shown in the following figure. It should be
pointed out only the Step 3 and 4 on Sts are new messages need to be
introduced.
Figure 6.1.3.2-1
1) PCRF provides traffic steering policy to TCF. The existing IP-CAN session
establishment, IP-CAN session modification and IP-CAN session termination
procedures defined by the TS 23.203 [3], clauses 7.2, 7.3, 7.4 and 7.5, are
leveraged. Within IP-CAN session establishment and IP-CAN session modification
procedures, the PCRF may provide traffic steering policies to the TCF over
Gx/Sd interface.
2) PCEF/TDF leverage solicited application reporting as defined in clause 4.5
in the TS 23.203 [3] to reports the application information (e.g. IP-5 tuple,
together with the Application ID). PCRF can generate downlink traffic marking
rule based on it.
3) PCRF Notifies the downlink traffic marking rule to the TCFd (Step 3).
4) Message in step 3 is acknowledged by TCFd.
The downlink traffic marking rule may be predefined in PCRF (e.g., in case the
source IP address of some application/service is known by the operator) or be
derived from the TCF reported information by PCRF.
#### 6.1.3.3 Impacts on existing nodes and functionality
\- Traffic Classifier Function in PGW/TDF: has the function to identify the
service path and traffic marking based on the steering policy received from
PCRF.
\- Gx/Sd interface needs to be enhanced to transfer steering policy from PCRF
to PGW/TDF.
\- PCRF is enhanced to send a traffic steering policy to TCF in PGW/TDF
through interface Gx/Sd, and may send a downlink traffic steering policy
(marking rule) to TCFd through a new interface Sts.
#### 6.1.3.4 Solution Evaluation
1) Advantages
This solution can handle deducible service data flows and avoid back and forth
downlink traffic routing. This is especially beneficial when the VAS are
deployed in different data centers.
For deducible service data flow, no application layer detection is required
for downlink since the TCFd does not perform application layer detection and
classification.
NOTE: the traffic routing for non-deducible service data flows is not
optimized as shown in the redline in Figures 6.1.3.1 and 6.1.3.2.
2) Disadvantages
The solution introduces a new interface (Sts) and a new functional entity
(TCFd) for the downlink traffic marking.
Reporting of per-UE application-ID and corresponding IP-5-tuple between the
TCF to PCRF and PCRF provisions corresponding traffic marking rule to TCFd may
cause signaling impact on the PCRF if the control plane alternative is used.
### 6.1.4 Solution 1.4: Service steering policy interface
#### 6.1.4.1 Description
##### 6.1.4.1.1 Overview
This solution addresses key issue 1: \"Interface for provisioning of traffic
steering policy\".
A new interface (St) is defined over which the traffic steering policy is
provided. The St interface is defined between the PCRF and a Service Chain
Traffic Controller Function (SCTCF).
The functionality of the SCTCF includes the following:
\- The SCTCF is the receiver of the traffic steering policy and supports
control plane functionality to terminate the St interface.
\- The SCTCF ensures that the traffic steering policy is implemented in the
SGi-LAN. The SCTCF may e.g. perform a mapping of the traffic steering policy
to service chain specific identifiers and procedures and mapping of the
traffic descriptor to convey traffic steering information, which e.g.
comprises service chain identifiers and other information which is required by
the SGi-LAN implementation, to the SGi-LAN. The details for how the SCTCF
ensures that the traffic steering policy received from PCRF is enforced in the
SGi-LAN is out of 3GPP scope.
\- Receiving metadata from the PCRF and activating/deactivating their
reporting
NOTE: The SCTCF may be implemented as a standalone entity or combined with
another entity.
The St interface is used to provide traffic steering policy to the SCTCF,
together with a traffic descriptor describing the traffic data flow for which
the traffic steering policy applies.
It is assumed that application reporting from SCCTF to PCRF is not required
over the St interface. If the PCRF requires application reporting as input for
traffic steering policy decisions in a deployment, support for the ADC feature
with application reporting over Gx/Sd is required in that deployment.
The figure below shows the architecture with St interface and Service Chain
Traffic Controller Function. The Forwarding Entities, Classifiers and Service
Functions, as well as any interface(s) between the SCTCF and these functions,
are out of scope of this work item.
Figure 6.1.4.1.1-1: Reference architecture for service steering policy
interface St
##### 6.1.4.1.2 Deployment variants
**Deployment without ADC functionality in TDF or PCEF**
In a deployment without ADC support, as shown in Figure 6.1.4.1.2-1, traffic
classification is done by entities in the SGi-LAN. In particular the SGi-LAN
may support SGi-LAN specific solutions for application detection for the
purpose of traffic steering. The PCRF can provide a traffic description being
either application identifier or SDF filter to the SCTCF to indicate for what
traffic the traffic steering policy applies.
Figure 6.1.4.1.2-1: Deployment without ADC functionality (in TDF or PCEF)
**Deployment with existing ADC functionality (in TDF or PCEF)**
The PCEF or TDF may support ADC functionality based on current PCC
specifications. In a deployment variant with such existing ADC functionality,
the PCEF/TDF can provide the PCRF with application detection reports, as
described in TS 23.203 [3]. The PCRF can use the reported information (e.g.
application start/stop and detected application information) as input for
generating traffic steering policy towards the SCTCF. The SGi-LAN is assumed
to make traffic classification based on the UL/DL packets that enters the
service chain domain. This allows the re-use of existing ADC functionality in
the Flexible Mobile Service Steering solution without impact to PCEF/TDF.
Figure 6.1.4.1.2-2 illustrates this deployment variant.
For traffic steering policy purposes, there is only a need to perform
application detection in PCEF/TDF for those applications where application
reporting is a desired input in PCRF for traffic steering policy decisions
(application detection of other application traffic may however be needed for
other reasons such as charging or usage monitoring). For application traffic
with non-deducible SDF, if application reporting is performed over Gx/Sd and
traffic steering policy over St is needed for the same application,
application detection takes place once in PGW/TDF for application reporting
purpose and once in (S)Gi-LAN for service chain classification purposes. The
solution also provides support for optional packet marking based on
enhancements to ADC feature in PCEF/TDF. This avoids the need for application
detection in the SGi-LAN if it is performed already using ADC in PCEF/TDF.
These extensions are described in clause 6.1.4.1.3 below.
Figure 6.1.4.1.2-2: Deployment with ADC functionality (in TDF or PCEF)
##### 6.1.4.1.3 Extensions with traffic steering functionality in TDF or PCEF
The St based solution described in previous sections may be used together with
packet classification functionality in PCEF/TDF.
In order to utilize the existing packet classification capability in PCEF
(with or without ADC) or TDF in an FMSS deployment, the functionality of the
PCEF and TDF can be extended to support packet marking for Traffic Steering
purposes. The PCEF or TDF performs packet marking based on the active PCC/ADC
rules. The classifiers and forwarding entities in the SGi-LAN system can then
perform classification and traffic steering based on the marked traffic. This
allows the packet classification result in PGW/TDF (e.g. based on ADC) to be
utilized in the SGi-LAN domain where traffic can be further classified and
steered based on the packet marking without repeating the same packet
inspection as was done in PGW/TDF. Both uplink and downlink traffic would go
via the PCEF/TDF for packet marking. In this case, the traffic classification
happens in PCEF/TDF and in SGi-LAN but for different purposes: in PGW/TDF for
detecting the application and in the (S)Gi-LAN domain for determining the
service chain based on the packet marking performed by PCEF/TDF.
In case TDF is used for packet marking, the TDF marks application traffic
based on the packet marking profile within active ADC rules. The TDF may be
deployed as standalone entity outside the SGi-LAN, as illustrated in Figure
6.1.4.1.3-1 below. The TDF may also be deployed in the SGi-LAN as illustrated
in Figure 6.1.4.1.3-2 below. In case the TDF is deployed in the SGi-LAN, the
SGi-LAN may have an initial classifier controlled by the SCTCF while the TDF
acts as a non-initial classifier. In this case the traffic steering policy
provided over St can be used to control what traffic is forwarded via the TDF
and what traffic is not forwarded via the TDF.
NOTE: In either case, the TDF is performing packet marking of the traffic
matching the active ADC rules. Traffic that does not match an ADC rule is not
marked.
Figure 6.1.4.1.3-1: Example of traffic steering with packet marking in
standalone TDF
Figure 6.1.4.1.3-2: Example of traffic steering with packet marking in TDF
embedded in (S)Gi-LAN
If the PCEF is used for packet marking towards the SGi-LAN, the uplink and
downlink traffic would pass the PCEF before it enters the SGi-LAN system. The
PCEF marks the Service Data Flows based on the packet marking profile within
active PCC rules. An example of this alternative is shown in the figure
6.1.4.1.3-3 below.
Figure 6.1.4.1.3-3: Example of traffic steering with packet marking in PCEF
The PCRF provides a packet marking profile id to PCEF/TDF which refers to a
preconfigured packet marking behaviour on the PCEF/TDF and uses a format
suitable for the deployment. For example, GRE, NSH encapsulation as being
defined by IETF [6] SFC WG, or DSCP marking as described in TS 23.203 [3] may
be used.
NOTE: In case the NSH is used, it is used as carrier of information about the
traffic classification in the PCEF/TDF. In case DSCP is used, depending on
deployment scenario, there is a need for further IP encapsulation, VLAN
tagging etc. by the PGW/TDF to ensure proper routing of the traffic towards
the (S)Gi-LAN.
The PCRF also provides the packet marking profile id together with the traffic
steering policy to the SCTCF. The SCTCF uses the packet marking profile id in
order to further classify the traffic into service chain based on the packet
marking in the traffic received from PGW/TDF.
##### 6.1.4.1.4 Interface enhancements
For the St based solution with or without ADC in PCEF/TDF (and without the
optional packet marking by PCEF/TDF):
\- No impact on the Gx/Sd interfaces.
\- The St interface is used to provision and remove traffic steering policy to
the SCTCF, together with a traffic descriptor describing the traffic flows for
which the traffic steering policy applies. The traffic descriptor may be an
Application ID or an SDF filter. The provisioning means that the traffic data
flow associated to the traffic steering policy is a candidate for traffic
steering over the service chain configured in the SGi-LAN. Removal means that
the traffic is not associated to the traffic steering policy any longer.
NOTE: Use of Application Identifier on St assumes proper coordinated
configuration in PCRF and in SGi-LAN. If there are multiple L7 classifiers
used within the (S)Gi-LAN then the operator has to ensure coordination of
application IDs between the PCRF and (S)Gi-LAN (be it 3rd party or belonging
to operator).
When the optional packet marking by PCEF/TDF is used the following differences
apply:
\- The Gx and Sd interfaces are enhanced to carry a packet marking profile
identifier in the PCC and ADC rules. The packet marking profile identifier is
a reference to a packet marking behaviour that is preconfigured on the
PCEF/TDF.
\- The St interface is still used to provision and remove traffic steering
policy to the SCTCF but instead of Application ID or SDF filter the packet
marking profile identifier is used as description of traffic for which the
traffic steering policy applies. . The packet marking profile identifier is a
reference to a packet detection behaviour that is preconfigured on the SCTCF.
In all cases, the St interface can be used to provide metadata to the SCTCF.
##### 6.1.4.1.5 Procedures
Editor\'s note: This clause will capture the message sequence procedures
including St.
NOTE: Only non-roaming and roaming home-routed scenarios are considered in the
procedures below. The SCTCF is thus located in the HPLMN and the traffic
steering policy is provided by the H-PCRF. The scenario with Visited Access
(Local Breakout) is not covered.
##### 6.1.4.1.5.1 IP-CAN session establishment {#ip-can-session-establishment
.H6}
Figure 6.1.4.1.5.1-1: IP-CAN Session Establishment
1-11. These steps are the same as in TS 23.203 [3], clause 7.2, with the
following additions:
\- Step 8: This step is the same as step 8 in TS 23.203 [3], clause 7.2 with
the addition that ADC rules may include a packet marking profile identifier.
(This is applicable for the variant when TDF detects application traffic and
performs packet marking of the traffic).
12\. For service steering control, if operator policies determine that traffic
steering policies are needed for the IP-CAN session, the PCRF provides a
traffic steering policy to the SCTCF. The PCRF includes the UE IP address and
one or more Traffic Steering Rules. The Traffic Steering Rule(s) may contain
metadata. The SCTCF IP address is pre-configured on the PCRF.
NOTE 1: The Traffic Steering Policy is to be detailed as part of key issue #2.
NOTE 2: The SCTCF IP address is pre-configured in PCRF, e.g. per PCEF and APN.
13\. The SCTCF sends an acknowledgement to the PCRF to inform the PCRF about
the outcome of the actions related to the Traffic Steering Policy received in
step 12.
14\. This step is the same as step 12 in TS 23.203 [3], clause 7.2 with the
addition that PCC rules may include a packet marking profile identifier. (This
is applicable for the variant when PCEF detects application traffic and
performs packet marking of the traffic).
15-19. These steps are the same as steps 13-17 in TS 23.203 [3], clause 7.2.
##### 6.1.4.1.5.2 UE initiated IPâ€‘CAN Session termination {#ue-initiated-
ipcan-session-termination .H6}
Figure 6.1.4.1.5.2-1: UE-initiated IP-CAN Session Termination
1-12. These steps are the same as in TS 23.203 [3], clause 7.3.1.
13\. If the PCRF has provided Traffic Steering Rule(s) to the SCTCF for the
IP-CAN session, the PCRF sends a request to the SCTCF to remove the Traffic
Steering Rule(s).
14\. The SCTCF acknowledges the removal of the Traffic Steering Rule(s).
15-21. These steps are the same as steps 13-19 in TS 23.203 [3], clause 7.3.1.
##### 6.1.4.1.5.3 GW (PCEF) initiated IPâ€‘CAN Session termination {#gw-pcef-
initiated-ipcan-session-termination .H6}
Figure 6.1.4.1.5.3-1: GW (PCEF) Initiated IP-CAN Session Termination
1-14. These steps are the same as in TS 23.203 [3], clause 7.3.2.
15\. If the PCRF has provided Traffic Steering Rule(s) to the SCTCF for the
IP-CAN session, the PCRF sends a request to the SCTCF to remove the Traffic
Steering Rule(s).
16\. The SCTCF acknowledges the removal of the Traffic Steering Rule(s).
17-22. These steps are the same as steps 15-20 in TS 23.203 [3], clause 7.3.2.
##### 6.1.4.1.5.4 GW/PCEF-initiated IP-CAN session modification {#gwpcef-
initiated-ip-can-session-modification .H6}
Figure 6.1.4.1.5.4-1: GW (PCEF) Initiated IP-CAN Session Modification
1-14. These steps are the same as in TS 23.203 [3], clause 7.4.1, with the
following additions:
\- Step 11: This step is the same as step 11 in TS 23.203 [3], clause 7.4.1
with the addition that ADC rules may include a packet marking profile
identifier. (This is applicable for the variant when TDF detects application
traffic and performs packet marking of the traffic).
15\. For service steering control, the PCRF may provide an updated traffic
steering policy to the SCTCF. The PCRF provides new Traffic Steering Rule(s),
or modifies or removes existing Traffic Steering Rule(s). The Traffic Steering
Rule(s) may contain updated metadata.
NOTE: The Traffic Steering Policy is to be detailed as part of key issue #2.
16\. The SCTCF sends an acknowledge to the PCRF.
17\. This step is the same as step 15 in TS 23.203 [3], clause 7.4.1 with the
addition that PCC rules may include a packet marking profile identifier. (This
is applicable for the variant when PCEF detects application traffic and
performs packet marking of the traffic).
18-25. These steps are the same as steps 16-23 in TS 23.203, clause 7.4.1.
##### 6.1.4.1.5.5 PCRF-initiated Traffic Steering Policy and Metadata
Modification {#pcrf-initiated-traffic-steering-policy-and-metadata-
modification .H6}
Figure 6.1.4.1.5.5-1: PCRF-Initiated IP-CAN Session Modification
1-8. These steps are the same as in TS 23.203 [3], clause 7.4.2 with the
following additions:
\- Step 5: This step is the same as step 5 in TS 23.203 [3], clause 7.4.2 with
the addition that ADC rules may include a packet marking profile identifier.
(This is applicable for the variant when TDF detects application traffic and
performs packet marking of the traffic).
9\. For service steering control, the PCRF may provide an updated traffic
steering policy to the SCTCF. The PCRF provides new Traffic Steering Rule(s),
or modifies or removes existing Traffic Steering Rule(s). The Traffic Steering
Rule(s) may contain updated metadata.
NOTE: The Traffic Steering Policy is to be detailed as part of key issue #2.
10\. The SCTCF sends an acknowledge to the PCRF
11-20. These steps are the same as steps 9-18 in TS 23.203 [3], clause 7.4.2
with the following exceptions.
\- Step 12 is optional. If sent, the PCC rule included in this message may
include a packet marking profile identifier. (This is applicable for the
variant when PCEF detects application traffic and performs packet marking of
the traffic).
\- Steps 13-18 only apply if the message in step 12 is sent.
##### 6.1.4.1.5.6 Update of the subscription information in the PCRF {#update-
of-the-subscription-information-in-the-pcrf .H6}
Figure 6.1.4.1.5.6-1: Procedure for update of the subscription information in
the PCRF
1-5. These steps are the same as in TS 23.203 [3], clause 7.5.
6\. This step is the same as step 6 in TS 23.203 [3], clause 7.5 with the
addition that PCRF may make a traffic steering policy decision.
7\. This step is the same as step 6 in TS 23.203 [3], clause 7.5 with the
addition that the PCRF provides the new traffic steering policy decisions to
the SCTCF (if applicable).
##### 6.1.4.1.6 Traffic steering policy enforcement in (S)Gi-LAN
##### 6.1.4.1.6.1 General {#general-2 .H6}
As described in clause 6.1.4.1.1, the SCTCF receives the traffic steering
policies from the PCRF over the St interface. For enforcing these policies,
the exact set of functionalities required to be supported by the (S)Gi-LAN
depends upon the mechanism used for routing of the traffic between the service
functions within the (S)Gi-LAN. Since routing of the traffic via Service
Functions is not in 3GPP\'s scope, we are relying on the external SDOs working
on these aspects. By providing high level description (on a possible way to
leverage the work of external SDO(s)), here, we highlight that the proposed
solution can leverage and hence complement the work done by those external
SDOs. However, these are implementation specific aspects and will not be
standardized by 3GPP.
NOTE: Clauses 6.1.4.1.X.2 and 6.1.4.1.X.3 are for information only and simply
summarize the SFC related work done by the external SDOs and then try to map
the functional entities defined by them to the solution in this section. They
do not define any new functional entity or protocol.
##### 6.1.4.1.6.2 When utilizing the IETF work {#when-utilizing-the-ietf-
work-2 .H6}
Under the Service Function Chain working group, IETF is working on some of the
aspects of flexible traffic steering solution. In their working group draft on
\"Service Function Chaining (SFC) Architecture\" (see draft-ietf-sfc-
architecture-07 [5]), the high-level architecture of Service Function Chain is
defined under clause 4. Among the other functions, the architecture defines
Service Classification Function (SFC Classifier) which performs L3/L4 or L7
parameter based traffic classification and imposes SFC encapsulation based on
the operator policy. SFC encapsulation enables service function path selection
and sharing of metadata/context information when required. For the SFC
encapsulation format, there is a working group draft on \"Network Service
Header\" (see draft-ietf-sfc-nsh-00 [6]) which describes the addition of a
Network Services Header to the traffic to allow the Service Function
Forwarders (SFF) to steer the traffic via the appropriate Service Functions
(SF). The SFF examines the Network Service Header to determine how to forward
the traffic.
In the current solution, for enforcing the traffic steering policy, the SFC
Classifiers, SFFs and SFs are located in the (S)Gi-LAN and may receive
instructions from the SCTCF for how to classify and route traffic. The details
for how this is done, and if/how other functions in the (S)Gi-LAN are involved
is out of 3GPP scope. When the optional packet marking in PCEF/TDF is applied,
traffic classification in SGi-LAN based on L3/L4 rules is sufficient.
Furthermore, since the solution does not define the location of the SFC
Classifier(s), it allows multiple classifiers that may be distributed in the
(S)Gi-LAN, in line with the IETF architecture (see TS 29.212 [4]).
##### 6.1.4.1.6.3 When utilizing the ONF work {#when-utilizing-the-onf-work-2
.H6}
As part of \"L4-L7 Service Function Chaining Solution Architecture\", ONF is
working on some of the aspects of flexible traffic steering solution. They
have defined SFC architecture by using IETF\'s architecture as base model and
adding some more SDN related components on top of it, e.g. SFC orchestrator,
SFC Network Controller, etc. The SFC Network Controller interfaces with the
SFC classifier providing it with instructions related to traffic
classification and performing SFC encapsulation. Additionally, the SFC
controller also programs the SFF with the SFC header so that it can route the
traffic containing that SFC header via specific service functions. In addition
to using SFC encapsulation using a new header as discussed in IETF, the ONF
work also describes usage of existing headers, such as VLAN, MPLS label,
source MAC addresses etc.
When leveraging the ONF work, the PCRF takes the role of a SFC Chain
Application and the SCTCF is part of the SFC Orchestrator/Controller
functions. The protocol defined by the ONF (i.e. OpenFlow) cannot be used to
configure the SFC classifier since the application (i.e. L7 parameter) based
traffic classification rules, which is one of the requirement for the FMSS
solution (as described in clause 5.1.2), are not supported by (the current
version of) that protocol. In order to handle application based traffic
classification a number of options are possible. The OpenFlow protocol with
proprietary extensions, may be used to a DPI-capable SFC classifier in the
(S)Gi-LAN. In addition, the solution can utilize the ONF work by using the
extensions in clause 6.1.4.1.3 for the (optional) packet marking in PGW/TDF.
In this case traffic classification in SGi-LAN based on L2/L3 rules is
sufficient.
#### 6.1.4.2 Impacts on existing nodes and functionality
Impacts on PCRF:
\- The PCRF is enhanced to support the St interface as well as any
interactions between existing procedures (e.g. Gx) and procedures on St.
\- The PCRF is enhanced to make traffic steering policy decisions based on
existing input parameters
\- The PCRF is enhanced to control packet marking related to the traffic
steering policy decisions.
Impacts on TDF:
\- The TDF is enhanced to perform packet marking of application traffic based
on the packet marking profile within active ADC Rules
Impacts on PCEF:
\- The PCEF is enhanced to perform packet marking of Service Data Flows based
on the packet marking profile within active PCC rules.
#### 6.1.4.3 Solution Evaluation
Editor\'s note: Use this section for evaluation at solution level. Evaluation
at key issue level is done in a separate clause.
This solution enables an architecture for providing traffic steering policy
that allows different deployments and architectures of the SGi-LAN (e.g. the
SFC architecture as defined by IETF or ONF) and that is agnostic to the way
routing/forwarding is done and forwarding/routing functionality in the SGi-
LAN. The solution also does not restrict or define the number or location of
the traffic classification and forwarding/routing entities in the SGi-LAN.
The solution provides a solution for flexible mobile service steering via a
new interface from PCRF and a new function SCTCF, allowing a separation of the
service chain domain from existing the PCEF/TDF functionality and allows an
operator to deploy flexible mobile service steering without impact to PGW/PCEF
and TDF entities or the Gx or Sd interfaces.
The solution also supports enhancing Gx/Sd and PCEF/TDF to perform optional
packet marking, thereby re-using the PCC/ADC rule based traffic classification
functionality in PCEF and TDF. In this case, the traffic classification
happens in PCEF/TDF and in SGi-LAN but for different purposes: in PGW/TDF for
detecting the application and in the (S)Gi-LAN domain for determining the
service chain based on the packet marking performed by PCEF/TDF. In this case
the (S)Gi-LAN classifier(s) needs to support classification based on the same
packet marking protocol and marking format performed by the PCEF/TDF.
The PCRF can use the existing PCC functionality for making traffic steering
policy decisions. For example, the PCRF can use application reporting over
Sd/Gx (if available) as input to providing application based traffic steering
rules to the SCTCF.
When application reporting over Gx/Sd is used, the PCRF may take the reported
application information (e.g. service data flow descriptions) into account
when creating the traffic steering rule. For application traffic with non-
deducible service data flow descriptions, if application reporting is
performed over Gx/Sd and traffic steering policy over St is needed for the
same application, application detection takes place once in PGW/TDF for
application reporting purpose and once in (S)Gi-LAN for service chain
classification purposes. The solution also provides support for avoiding the
need for application detection in the SGi-LAN for these flows by using
optional packet marking based on enhancements to ADC feature in PCEF/TDF.
Use of Application Identifier on St assumes proper coordinated configuration
in PCRF and in SGi-LAN. If there are multiple L7 classifiers used within the
(S)Gi-LAN then the operator has to ensure coordination of application IDs
between the PCRF and (S)Gi-LAN (be it 3rd party or belonging to operator).
The solution also fulfils the architectural requirements mentioned in clause
5.1.2:
\- **Support for the application detection functionality:** This solution can
use application detection functionality implemented in SGi-LAN. In addition,
the solution allows the application detection functionality in PCEF/TDF (if
deployed) to assist and influence the service steering in SGi-LAN by
performing traffic classification and packet marking that can be utilized by
classifiers in the SGi-LAN. This avoids the need to deploy separate
application detection functionality in the SGi-LAN.
\- **Working in conjunction with the existing 3GPP features, e.g. ADC
feature:** The solution works in conjunction with existing 3GPP features, e.g.
ADC feature in TDF/PCEF (if deployed), allowing the PCRF to use e.g. IP-CAN
session information, subscription information, network operator\'s policies,
application reporting (if deployed) as input to traffic steering policy
decisions. In particular, the solution can work with ADC feature for
application reporting and extending it to optionally perform traffic marking.
Editor\'s note: Additional evaluation is FFS.
## 6.2 Solutions to Key Issue 2
### 6.2.1 Solution 2.1: Semantics of traffic steering policy
#### 6.2.1.1 Description
##### 6.2.1.1.0 General
This solution describes the nature of information exchanged within a PCC Rule,
an ADC Rule or a TS Rule for achieving traffic steering within (S)Gi-LAN.
##### 6.2.1.1.1 Components of Traffic Steering Rule
For a given IP/subscriber session, the Traffic Steering Rule (TSR) identifies
the application traffic and the service functions via which the application
traffic needs to be steered. Following components are defined under TSP: The
Traffic steering policy contains:
\- **TSR-Name:** It uniquely identifies a steering policy. It is used to
reference a pre-defined or dynamic steering policy and it is mandatory for all
the operations related steering policy. While provisioning a steering policy,
if the following components are excluded then TSP-Name refers to a pre-defined
steering policy. Else, it is referring to a new steering policy whose
definition is provided using the below components.
\- **Service-Description:** It identifies a specific UE traffic in terms of UE
IP address (via IPv4 and/or IPv6 prefix) or application flow in terms of
either service data flow filters, e.g. using IP 5-tuple or Application
Identifier for which steering rule referenced by Traffic-Steering-Policy-
Identifier shall be applied.
\- **Traffic-Steering-Policy-Identifier:** It is a reference to a pre-
configured rule which identifies one set of service function(s) for the uplink
direction and/or one set of service function(s) for the downlink direction,
potentially including their order, via which the uplink/downlink traffic,
identified by the Service-Description, shall be steered.
\- **Precedence:** It identifies the priority order of the traffic steering
policy. It is relevant only when multiple TSPs overlap i.e. the IP-traffic is
identified by multiple TSPs that apply different traffic steering policies. In
that case, the traffic steering policy with the highest precedence shall be
applied.
NOTE: It is left to stage 3 to decide if two Traffic-Steering-Policy-
Identifiers (i.e. one for uplink and one for downlink) are provided separately
or if a single Traffic-Steering-Policy-Identifier is provided along with a
traffic steering policy direction related information (uplink, downlink or
bidirectional). The distinction of Traffic-Steering-Policy-Identifier for
uplink and downlink is to be done within one PCC/ADC rule, instead of creating
multiple PCC/ADC rules for the differentiation.
##### 6.2.1.1.2 Traffic Steering Rule over Sd/Gx interface
Sd/Gx interface is used to provide the traffic steering policies, and the
existing PCC/ADC rules can be reused to support some of the components of
Traffic Steering Rule (as described in clause 6.1.1.1.1) that can be mapped to
the existing information (refer TS 23.203 [3] table 6.8 and table 6.3) and AVP
(refer to TS 29.212 [4]) as described below.
Table 6.2.1.1.2-1: Mapping of components of TSP to information over Sd/Gx
interface
+----------------------+----------------------+----------------------+ | Component of TSR | Potential | Potential | | | information & AVP | information & AVP | | | over Sd | over Gx | +----------------------+----------------------+----------------------+ | TSR-Name | ADC Rule Identifier | Rule Identifier | | | (ADC-Rule-Name) | (PCC-Rule-Name) | +----------------------+----------------------+----------------------+ | Service Description | Service Data Flow | Service Data Flow | | | Template | Template | | | (Flow-Information). | (Flow-Information, | | | | Application | | | Note: Support needed | Identifier). | | | in PCRF to TDF | | | | direction. | | | | | | | | Application | | | | Identifier | | | | (TDF-Appl | | | | ication-Identifier). | | +----------------------+----------------------+----------------------+ | Traffic-Steeri | New information | New information | | ng-Policy-Identifier | needed. | needed. (NOTE 2). | +----------------------+----------------------+----------------------+ | Precedence | Precedence | Precedence | | | (Precedence) | (Precedence). | +----------------------+----------------------+----------------------+ | NOTE 1: The mapping | | | | to AVPs over Sd/Gx | | | | interface, mentioned | | | | within \"( )\" in | | | | the above table is | | | | shown to highlight | | | | that existing AVPs | | | | can be used for most | | | | of the components of | | | | the TSP. | | | | | | | | NOTE 2: | | | | Traffic-Steeri | | | | ng-Policy-Identifier | | | | can be different for | | | | uplink and downlink | | | | traffic. How they | | | | can be distinguished | | | | is left to stage 3 | | | | protocol definition. | | | | See the NOTE in | | | | clause 6.2.1.1.1. | | | +----------------------+----------------------+----------------------+
##### 6.2.1.1.3 Traffic Steering Rule over St interface
##### 6.2.1.1.3.1 Description {#description-6 .H6}
A TS Rule includes a traffic description and traffic steering policy
information. A TS Rule is sent over St interface. This aligns the control
information sent over the St interface with existing interfaces in TS 23.203
[3].
A TS Rule comprises the information that is required to determine the service
chains associated to a traffic flow and provide related metadata. Metadata
provides contextual information about the IP-CAN session to the SCTCF to be
transferred to the service functions in the SGi-LAN. Specific examples of
metadata are: RAT type, MSISDN or IP-CAN type.
For pre-defined TS Rules, metadata is sent associated to a list of TS Rules
for which that metadata applies, e.g. subscriber-id is metadata associated to
TS_Rule_1 and TS_Rule_2.
The packets detected by applying a traffic description in the TS Rule form a
traffic flow. The SCTCF uses the traffic steering policy identifier to select
the list of service functions, their order, etc. and configure the classifiers
and forwarding entities in the SGi-LAN. There may be a different traffic
steering policy identifier for UL and DL part of a service data flow.
Table 6.2.1.3.1.1-1: The TS Rule Information
+----------------+----------------+----------------+----------------+ | Traffic | Description | Category | PCRF permitted | | Steering Rule | | | to modify for | | Information | | | a dynamic TS | | | | | Rule | +----------------+----------------+----------------+----------------+ | Rule | Uniquely | Mandatory | No | | identifier | identifies the | | | | | Traffic | | | | | Steering Rule | | | | | at the SCTCF. | | | | | It refers to | | | | | the TSR-Name | | | | | in clause | | | | | 6.2.1.1.1. | | | +----------------+----------------+----------------+----------------+ | Traffic | | | | | classification | | | | +----------------+----------------+----------------+----------------+ | Traffic | A list of | Conditional | Yes | | Description | traffic flow | | | | | filters or an | | | | | application | | | | | identifier or | | | | | a packet | | | | | marking | | | | | profile | | | | | identifier for | | | | | the | | | | | classification | | | | | of a service | | | | | chain in the | | | | | SGi-LAN. It | | | | | may be | | | | | applicable for | | | | | uplink or | | | | | downlink or | | | | | both | | | | | directions. | | | | | The traffic | | | | | flow filters | | | | | and the | | | | | application | | | | | identifier | | | | | refers to the | | | | | Service | | | | | Description in | | | | | clause | | | | | 6.2.1.1.1. The | | | | | packet marking | | | | | profile | | | | | identifier | | | | | refers to a | | | | | preconfigured | | | | | traffic | | | | | detection | | | | | behavior in | | | | | the SCTCF. | | | +----------------+----------------+----------------+----------------+ | Precedence | When traffic | Conditional | Yes | | | flow filters | (NOTE 1) | | | | overlap, the | | | | | precedence | | | | | determines the | | | | | order in which | | | | | the traffic | | | | | flow filters | | | | | are applied | | | | | for traffic | | | | | classification | | | | | in the | | | | | SGi-LAN. It | | | | | refers to the | | | | | Precedence in | | | | | clause | | | | | 6.2.1.1.1. | | | +----------------+----------------+----------------+----------------+ | Traffic | | | | | Steering | | | | | Policy | | | | | Information | | | | +----------------+----------------+----------------+----------------+ | Traffic | A reference to | Mandatory | Yes | | Steering | the service | | | | Policy | chain | | | | Identifier | associated to | | | | | a traffic | | | | | description. | | | | | It may be | | | | | applicable for | | | | | uplink or | | | | | downlink or | | | | | both | | | | | directions. | | | +----------------+----------------+----------------+----------------+ | Metadata | Contextual | Conditional | Yes | | | information | (NOTE 2) | | | | associated to | | | | | the traffic | | | | | steering | | | | | policy | | | | | identifier. It | | | | | may be | | | | | applicable for | | | | | uplink or | | | | | downlink or | | | | | both | | | | | directions. | | | +----------------+----------------+----------------+----------------+ | NOTE 1: The | | | | | Precedence is | | | | | mandatory for | | | | | TS Rules with | | | | | a traffic | | | | | identifier | | | | | containing | | | | | traffic flow | | | | | filters. For | | | | | dynamic TS | | | | | rules | | | | | containing an | | | | | application | | | | | identifier, | | | | | the precedence | | | | | is either | | | | | preconfigured | | | | | in SCTCF or | | | | | provided in | | | | | the TS rule | | | | | from PCRF. | | | | | | | | | | NOTE 2: The | | | | | metadata is | | | | | optional. | | | | | Operator | | | | | policies in | | | | | PCRF determine | | | | | if the traffic | | | | | steering | | | | | policy | | | | | identifier has | | | | | any metadata | | | | | associated and | | | | | which metadata | | | | | should be | | | | | included in | | | | | the TS Rule. | | | | | Only metadata | | | | | available at | | | | | the PCEF/TDF | | | | | via existing | | | | | interfaces | | | | | (e.g. S5, | | | | | S2a/S2b, Sd) | | | | | may be sent | | | | | via St | | | | | interface to | | | | | SGi-LAN. When | | | | | a TS Rule | | | | | includes | | | | | metadata, the | | | | | PCRF | | | | | subscribes to | | | | | the existing | | | | | event triggers | | | | | from | | | | | BBERF/PCEF to | | | | | be notified | | | | | about any | | | | | changes in | | | | | metadata | | | | | information. | | | | +----------------+----------------+----------------+----------------+
##### 6.2.1.1.3.2 Metadata {#metadata .H6}
The PCRF may be configured to provide contextual information related to a
traffic steering policy identifier to the SCTCF. Some examples of what type of
contextual information can be provided, so called metadata, are: subscriber-
Id, APN, IP-CAN type, RAT-type, PLMN-id, and UE location to the SCTCF. Each TS
Rule may have associated different contextual information.
The SCTCF may request to start and stop sending changes of metadata for one or
multiple TS Rule(s) over the St Interface. When levering the ONF work, the SFC
classifier may report when application traffic starts/stops sending to a
service chain. This will trigger the SCTCF to request metadata over St. If the
contextual information is not available to the PCRF when the PCRF provides the
corresponding traffic steering policy to the SCTCF, the PCRF starts to
subscribe to notification of the contextual information updates from
BBERF/PCEF/TDF when the SCTCF requests to start reporting metadata. Start
sending metadata may trigger the provisioning of the associated event triggers
defined in TS 23.203 [3] by PCRF over Gx/Gxx or Sd interfaces. Stop sending
metadata may trigger the removal of the associated event triggers by PCRF
defined in TS 23.203 [3] over Gx/Gxx or Sd interfaces.
When an event trigger(s) is met and reported over Gx/Gxx or Sd interface, the
PCRF determines the TS Rule(s) that has that metadata associated with and for
which reporting is activated and then reports the metadata and the list of
affected TS Rule(s) for a particular IP-CAN session to the SCTCF.
##### 6.2.1.1.4 Extensions to PCC and ADC Rules for traffic classification
For those scenarios where the PCEF/TDF acts as a traffic classifier outside
the SGi-LAN, i.e. solution 4 for key issue#1, PCC and ADC Rules are extended
for traffic classification.
Table 6.2.1.1.4-1: Extensions to PCC/ADC Rule Information
* * *
PCC/ADC Rule extensions  
Packet marking for traffic classification Description Category PCRF permitted
to modify for a dynamic PCC/ADC Rule Packet marking profile identifier It
refers to a preconfigured packet marking behaviour in the PCEF/TDF. It
determines how the traffic shall be marked before being forwarded to the SGi-
LAN. It may be applicable for uplink or downlink or both directions.
Conditional (NOTE) Yes NOTE: If packet marking for traffic classification
applies.
* * *
#### 6.2.1.2 Impacts on existing nodes and functionality
PCRF:
\- Must be enhanced to generate TSP and perform operations to provision,
modify and remove TSP.
PCEF and TDF:
\- Must support TSP, execute operations to provision, modify and remove TSP
and enforce those steering policies on subscriber traffic.
\- Enforcement of the packet marking profile. This includes service
classification for UL and DL traffic and marking before forwarding packets to
the SGi-LAN.
#### 6.2.1.3 Solution Evaluation
The proposed solution provisions a traffic steering policy (TSP) by
referencing to a set of pre-configured steering rules (uplink, downlink or
both) each one identifying a set of service function(s) including their order.
The pre-configured steering rules may also comprise other information, e.g.
input needed for specific service function to perform traffic service
steering. This, i.e. referencing a pre-defined steering rule, fulfils the
objective of providing service steering policies within the scope of the work
since the service functions and the steering of traffic between them are out
of 3GPP\'s scope of work.
The Traffic Steering Rule and the components proposed under it can be mapped
to existing set of AVPs, where applicable, if the existing 3GPP interface is
used to provide service steering policies.
New Traffic Steering Rule are defined with both a traffic descriptions and
actions on those traffic descriptions, this is to align with the control
information that is sent in PCC via existing interfaces.
This solution places the control of what information to provision PCC/ADC and
TS Rules in the PCRF as single control place.
## 6.3 Solutions to Metadata Transferring
### 6.3.1 Description
A set of metadata available at the BBERF/PCEF/TDF, such as RAT type or IP-CAN
type may be needed by the service functions in (S)Gi-LAN to perform services
in the future. The following solution can be used for metadata transferring
from 3GPP to (S)Gi-LAN.
### 6.3.2 Solution X.1: Data plane based solution for metadata transferring
#### 6.3.2.1 Description
This solution for metadata transferring is applicable to all solutions, i.e.
solution1.1\~1.4, as described in in the TR.
In this solution, PCEF/TDF/TCFd acting as a classifier can encapsulate the
metadata into the data packets. Operator policies in PCRF or PCEF/TDF/TCFd
determine which metadata need to be sent to (S)Gi-LAN.
#### 6.3.2.2 Solution Evaluation
In this solution, metadata is transferred via data plane, which has less
impact on the control plane and does not increase signalling load. However,
this solution requires configuration from both 3GPP and (S)Gi-LAN or normative
definition regarding the semantics of the metadata to be transferred.
Furthermore, transferring via data plane may induce fragmentation and
reassembly, in case the packet size beyond the MTU supported on some or all of
the media used in the service chaining domain, which will have special
requirements to the SFF in (S)Gi-LAN and may be impossible with some
transports.
# 7 Conclusions
It has been concluded to proceed the normative work as follows:
\- Functionalities of PCEF and TDF are extended to support traffic steering in
(S)Gi-LAN. Protocols over the Sd and Gx interfaces are enhanced to carry
information related to traffic steering policy.
\- If traffic steering rules are sent to PCEF/TDF, they can be at both L7
(identified by application identifier) and at L3-L4 layers.
\- A new functional entity Traffic Steering Support Function (TSSF) is defined
to support traffic steering in (S)Gi-LAN. It interfaces with PCRF via a new
reference point St. This new reference point is introduced to the PCC
Reference Architecture in addition to the existing reference points.
\- If traffic steering rules are sent to TSSF, they can be at both L7
(identified by application identifier) and at L3-L4 layers.
\- It is assumed that:
\- Parts of Diameter based Sd protocol relevant for traffic steering
functionality will be re-used on St reference point and that no new Diameter
based protocol for St reference point will need to be defined.
\- Restful based protocol alternative for St will need to be defined. This can
also be used over the Sd reference point when TDF supports traffic steering
functionality only.
An LS will be sent to CT WG3 informing about the St reference point and
requesting CT WG3 to confirm the above assumptions and provide feedback, if
needed.
\- Traffic steering can be deployed using PCEF/TDF only, using TSSF only or
using a combination of both.
\- To support scenario when PCEF/TDF is utilized for L7 packet classification
while traffic steering is done using TSSF, the TSSF and TDF/PCEF enhanced with
traffic steering are deployed. Since the St ref point can be deployed together
with other ref points, i.e. Sd and Gx or Gx only, for the same IPâ€‘CAN session
then,
\- If traffic steering rules sent to PCEF/TDF are at L7, the new reference
point will not carry L7 traffic steering rules.
\- It was agreed that a deployment scenario enabled by the above principles
allows, for applications with deducible data flows, L3/L4 classifiers in the
(S)Gi-LAN for DL traffic and L3/L4/L7 classifiers for UL traffic in the
PCEF/TDF. DL classifier rules can be obtained by the DL classifier in (S)Gi-
LAN via St (without defining any additional aspects on top of above
principles) or implementation specific methods. Such implementation specific
methods will neither be specified nor further investigated during the
normative phase.
\- Solution 2.1, \"Semantics of traffic steering policy\" (defined in clause
6.2.1), is selected as the basis for the normative work for the key issue#2 in
Relâ€‘13.
\- All aspects of metadata including the transfer of metadata are not
considered for the normative work in this release.
#