# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
**This document captures the study result of possible system enhancements to
support applications that communicate with** devices that are not reachable
for a long period over the 3GPP IP connectivity **and being able to support
large number of such devices in the system without negatively affecting the
system performance.**
In addressing the above, the following problem is studied:
\- Downlink access for devices that are not reachable for a long period and
the problems associated with such devices (e.g. packet discard when the UE
sleeps, frequent retransmissions, load on the CN network, waste of radio
resources and UE power when the network unnecessarily conveys retransmit
packets, etc.). This study may propose and evaluate enhancements to the 3GPP
system. Depending on conclusions, the study may also propose 3GPP enablers to
be used by the service layer e.g. defined by other SDOs for downlink access to
devices that are not reachable for a long period.
Different application layer protocols used within the M2M ecosystem have
different requirements and characteristics with respect to acceptable end-to-
end delay, round trip time, persistence in retransmissions, etc. The result of
this study may include general recommendations for application layers how to
use the 3GPP accesses for better application performance and optimal core and
radio network efficiency thereof.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TR 23.789: \"Monitoring Enhancements\".
[3] 3GPP TR 21 912 (V3.1.0): \"Example 2, using fixed text\".
[4] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[5] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
description; Stage 2\".
[6] 3GPP TS 23.272: \"Circuit Switched (CS) fallback in Evolved Packet System
(EPS); Stage 2\".
[7] 3GPP TS 23.682: \"Architecture enhancements to facilitate communications
with packet data networks and applications; Stage 2\".
[8] 3GPP TR 23.708: \"Architecture Enhancements for Service Capability
Exposure\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] apply.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] apply.
# 4 Scenarios
Editor\'s note: Scenarios where optimizations may be needed and motivation
why.
## 4.1 Scenario A: Downlink packet transmission to UE applying power saving
function
Editor\'s note: Description of a scenario where optimization is considered and
motivation for the optimization.
It is observed that the current system has the following behaviour
\- When downlink data arrive for a UE that is in ECM-IDLE mode, at least one
IP packet is buffered in the SGW and the UE is paged. When the UE responds to
the paging, the buffered IP packet(s) are transmitted to the UE. If there is
no paging response within an SGW implementation specific period of time, the
packets are discarded.
\- When downlink data arrive for a UE that is in a power saving state e.g. PSM
(Power Saving Mode), the IP _packets are immediately discarded_ in the SGW. No
paging is done of the UE (see note 1).
NOTE 1: TS 23.401 [4], clause 4.3.5.2, which states that the PPF flag shall be
cleared when the Activity Time expires. With the PPF clear, the MME does not
page the UE in E-UTRAN coverage and shall send a Downlink Data Notification
Reject message to the Serving GW when receiving a Downlink Data Notification
message from the Serving GW. TS 23.401 [4], clause 5.3.4.3 then specifies that
the Serving GW shall empty its packet buffer (discard buffered packets) when
the Downlink Data Notification Reject message is received.
\- In other cases, when the UE may be temporarily unavailable, e.g. in
extended idle mode DRX, the IP packet buffered in the S-GW would frequently be
discarded before the UE paging response.
The issues that the packet discard behaviour of the current system may lead to
are:
\- Higher load on the network.
\- Difficulty to reach devices that use power saving functions.
\- Applications required to handle frequent transmission failures of transport
protocols.
\- Frequent use of device triggering at network initiated communication with
devices using power saving functions.
And in particular for the cases where the device is reachable again in a
reasonable amount of time the current behaviour may lead to:
\- Application layer attempts which may be out of sync with the actual UE
availability, which would cause extended latency to reach the UE or lack of
reachability;
\- Difficulty to reach devices that use extended DRX, that could make cellular
a less preferred choice, for example for Internet-of-Things and MTC
applications**.**
**Higher load on the network** are caused by the retransmission schemes (see
note 2) applied by transport protocols to ensure a successful transmission of
packets. Each retransmitted packet needs to be forwarded by the operator core
network and packet backbone. It may generate additional Downlink Data
Notification signalling between the SGW and the MME, and may require potential
storage resources in the SGW. Of course the retransmission of transmitted
packets also consumes additional resources at the sender side, i.e. the
application server. Higher load on the network will also be caused by
application servers that after retransmission timeout fallback to device
triggering over the Tsp interface when there is no response from the UE. This
network load consists of the signalling and processing to deliver the device
trigger SMS to the UE when it becomes active again.
NOTE 2: Some examples: CoAP/UDP/IP will by default repeat each transmitted
packet max 4 times. MQTT-SN/UDP/IP will repeat each transmitted packet max 2-3
times. TCP will by default repeat the initial SYN packet 3 times. XMPP, MQTT
and HTTP all use TCP for their transport.
**Difficulty to reach devices that use power saving functions** is an issue
that could make cellular a less preferred choice, for example for Internet-of-
Things and MTC applications. The 3GPP power saving functions are designed for
a maximum energy saving in constrained devices. Hence the power saving period
may, depending on application, be quite long, e.g. several minutes or hours.
The transport protocol\'s retransmission schemes are not designed to handle
such long response times and will therefore not help for reaching the device.
A specific case of difficulty to reach devices that use power saving functions
is when the sending application server is not using the Tsp interface or other
SMS interface, i.e. device triggers cannot be sent. In those cases, network
initiated communication with devices may not be possible at all, e.g. if the
active time is short and the power saving intervals long.
**Applications required to handle frequent transmission failures of transport
protocols.** Devices minimize power consumption by using short active windows
and long power saving intervals. Applications that transmit IP data to the UE
may experience frequent transmission failures. The tasks of the application
can take long time or fail to finalize and the application need to be tolerant
to potentially very long processing times and increased failure rates.
**Frequent use of device triggering at network initiated communication with
devices using power saving functions** may begin to crystallize within the
application developer community. Device triggering is a useful feature in some
situations, e.g. when the UE IP address is unknown, the UE is behind a closed
NAT or firewall etc, but it may also generate significant load in terms of
network signalling and processing. In situations where UE IP connectivity is
established, the UE IP address is known and a NAT or firewall isn\'t blocking
downlink packet transmission, it is more efficient to send data on the IP
connectivity and avoid device triggering. Especially for applications
constrained by cost and low operator ARPU, it should be preferential to avoid
high usage of device triggering for a large number of MTC devices.
## 4.2 Scenario B: Coordination of maximum latency between the application and
the network
Editor\'s note: Description of a scenario where optimization is considered and
motivation for the optimization.
### 4.2.1 Description
Different MTC applications have different maximum latency requirements.
\"Maximum latency\" is, from the application point of view, the time elapsed
from the moment that an AS application sends DL data to a 3GPP constrained
device on an existing IP connection, until the device has received the DL
data. High latency typically occurs for the initial DL packets for a UE not
being in ECM-CONNECTED mode and applying a power saving function. Contributors
to the latency are for example Power Saving Mode and Extended long DRX.
The maximum latency requirement is highly application dependent. For example
for a device that measures and controls a water flow, a response time (i.e.
maximum latency) of 1 hour may be sufficient for increasing or reducing the
water flow. For another device that measures and controls a gas flow, a
response time of 1 minute may for example be required in order to switch off
the gas in case of emergency. This maximum latency requirement the application
has need to be communicated to the network. The network needs this maximum
latency information to set parameters correctly for the different affected
mechanisms e.g. the PSM.
Potential Solutions for this Scenario should state if they are applicable to
multi-application environments or not.
Figure 4.2-1: An IP connection with a certain maximum latency property between
two application peers
### 4.2.2 General considerations for solutions to this scenario
A prerequisite for this scenario is that it is possible to set parameters in
the 3GPP network for the different power saving mechanisms in order to obtain
a specific maximum latency characteristic of the IP connection. Applications
having a maximum latency requirement are expected to inform the network about
their requirement. Applications may also inform the 3GPP network about a
change of the current maximum latency requirement, e.g. due to a changed
application state or changed conditions. The overall goal with informing the
network of the maximum latency requirement is to minimize total power
consumption in the device.
For constrained devices having multiple applications with different maximum
latency requirements, it is assumed that the lowest maximum latency is applied
for the used IP connection(s).
# 5 Potential solutions
> Editor\'s note: Description of optimizations to address a scenario in clause
> 4. A complete solution should also include a documentation approach for
> creating CRs to normative specifications within the responsibility of SA
> WG2.
## 5.1 Solution 1: Enabler for coordination of SCS/AS initiated downlink
transmission
Editor\'s note: Include a paragraph at the beginning explaining which Scenario
the Solution addresses.
### 5.1.1 Description
This solution is an optimization for Scenario A (clause 4.1).
For some use cases it may be beneficial to handle the high latency of power
saving devices on the application level by waiting with the transmission until
the device becomes active. If the application can be notified when a device
becomes active and can be reached over the IP connectivity, the application
can start a packet transmission in the \"active window\", make the
communication with the device without delay and finalize the subsequent
application processing promptly. This would allow a simple application logic,
no or a minimum number of retransmissions, minimized load on the network and
the radio interface, minimum energy consumption in the device and also a
minimum of required processing at the sending side (i.e. the SCS/AS).
This approach for handling the high latency of devices is not in conflict with
an optimization of DL transmission to power saving devices by buffering, but
they work well together as complementary approaches. In fact, buffering may
even be a prerequisite when extreme synchronization is required e.g. when
Extended DRX is used for power saving.
### 5.1.2 Impacts on existing nodes and functionality
### 5.1.3 Evaluation
## 5.2 Solution 2: DL data buffering in S-GW or Gn-SGSN
### 5.2.1 Description
This solution is an optimization for Scenario A (clause 4.1).
This solution is valid e.g. to cater for congestion situations, for temporary
loss of coverage, or for UE\'s in a power saving state in ECM-IDLE like Power
Saving Mode (PSM) or extended Discontinuous Reception (eDRX).
For cases where the expected temporary unavailability for DL data reachability
is compatible with the application layer and transport protocols delay
tolerance, it may be worthwhile to buffer DL data in the S-GW (for EPC based
system) or Gn-SGSN (in GPRS based system) so that when the UE is available
again, the data can be immediately delivered.
The network uses S-GW buffering for UEs that are applying power saving
functions e.g. PSM or eDRX. The buffer time is derived from the power saving
function in use and is set to allow delivery next time the UE is expected to
wake up.
For EPC based system, the solution is based on the MME/S4-SGSN deciding to
allow packets to be buffered for up to a certain maximum amount of time T in
the S-GW. For GPRS based system, the solution is based on the Gn-SGSN deciding
to allow packets to be buffered for up to a certain maximum amount of time T
in the Gn-SGSN. This maximum amount of time T may be related e.g. to a known
or assumed delay tolerance to temporary loss of reachability (if it is not too
long compared to the protocol used for triggering characteristic delay
tolerance), to an eDRX timer, or to a Periodic TAU/RAU timer. It is in general
assumed that this time is not too long. The MME may as a hint provide the
Number N of packets to the S-GW of the number of packets to be stored. If the
MME does not provide a hint, the default is 1. The S-GW decision for the
number of packets to buffer is implementation specific. It may include
consideration of the hint and of S-GW internal configuration and algorithms.
The MME/S4-SGSN, when it receives a Downlink Data Notification (DDN) from
S-GW, would check whether this optimization for high latency communications is
applicable, i.e. it checks whether the UE applies features that cause high
latencies like PSM or eDRX. If so, it would immediately return a DDN ACK with
the request S-GW to store packets for up to a DL buffering time T and to not
send any further DDNs until the timer T expires. The MME/SGSN stores that
paging is needed at next occasion or that RAB(s) need to be set up when the UE
becomes reachable. The S-GW then buffers the DL packet(s) and waits for the
establishment of the S1-U/S12/Iu bearers for the UE, or until time T has
elapsed. The S-GW may discard all buffered packets that stored longer that
time T. Whilst there are packets in the buffer or the timer T is running, the
S-GW does not issue any additional DDN upon receiving any additional DL packet
for the same UE. And if more than a S-GW decided amount of packets are
received, the S-GW also starts discarding packets. Figure 5.2.1-1 illustrates
the mechanism, with an application on the network side sending a downlink
packet in the user plane.
Furthermore the following clarifications of the solution are valid:
\- Extended buffering in the S-GW is used to handle high latency communication
to devices using power saving functions e.g. PSM and eDRX. The buffering shall
have the following characteristics:
\- The timer in the S-GW/SGSN shall be per UE (applicable for PDN
connections). That is, no per-packet timer is used.
\- No additional DDN shall be sent by S-GW as long as it has packets for
extended buffering when subsequent packets are received and the same ARP
applies.
\- The MME/SGSN sends the time to buffer to the S-GW in the DDN reply.
\- The MME/SGSN keeps a condition if buffered DL data exists in S-GW/SGSN. The
MME/SGSN take actions (e.g. establish E-RAB/RAB) for delivery of the buffered
data at next time the UE contacts the network. The condition lasts equally
long as the MME/SGSN told the S-GW/SGSN to buffer.
\- The details for how many packets are buffered for a specific UE is left
implementation specific. The details for which packets are buffered if
multiple packets are received for a specific UE, is left implementation
specific.
NOTE: Since the size of buffer memory is implementation specific, both buffer
time and # of packets, should not be specified.
\- Every packet on the PDN/PDP connection is treated the same (from a
buffering logic perspective).
\- The S-GW is not aware of which power saving function is used by the UE.
\- The Extended buffering in the S-GW/SGSN shall be supported in E-UTRAN,
UTRAN and GERAN.
In addition the solution fulfils the following expectations from an AS/SCS
point of view:
\- When sending downlink data to a UE that uses power saving functions (e.g.
PSM or eDRX), from an AS/SCS perspective, the behaviour of the 3GPP access
should be predictable in that the AS/SCS can expect at least the last sent
packet to be delivered when the UE wakes up.
\- By that:
\- The AS/SCS can adjust its retransmissions to a minimum.
\- The load on the 3GPP network may be reduced.
\- AS/SCS will reach the UE with high reliability.
Figure 5.2.1-1: DL data buffering in S-GW
0\. The solution applies when the UE is in ECM-IDLE and is potentially
temporarily unavailable, e.g., the UE is in PSM, or eDRX.
1\. The S-GW receives a DL packet for the UE from the P-GW.
2\. The S-GW sends DDN to MME/S4-SGSN and starts local timer, as per current
Rel‑12 specifications.
3\. The MME/S4-SGSN detects that the UE for which it received the DDN is in a
power saving state or may be temporarily unreachable, e.g. it is in PSM or
idle mode with extended DRX cycle, and decides to instruct the S-GW to
temporarily buffer the DL packet. The MME decision possibly depends on
additional information, like the APN.
4\. The MME/S4-SGSN sends a DDN Ack with new message cause \"DL buffering
Requested \", a \"DL Buffering duration T\", and optionally \"Buffering hint
N\" which may assist the S-GW to handle buffering of DL packets more
accurately. The \"DL Buffering duration T\" and \" Buffering hint N\" and
should be set as follows:
a. In the case of eDRX, Tis a value no shorter than the eDRX cycle.
b. In the case of PSM, T is a value up to the periodic TAU timer value of the
UE.
c. The Value N of DL packets to be stored is based on information available
either via subscription or via AESE framework API.
5\. The S-GW then attempts to store up to a certain amount (at least one or at
least the Value N in the \"Buffering hint N\" if available) of DL packets, and
starts timer T for this device. The S-GW decision for the number of packets to
store is implementation specific. It may include consideration of the hint and
of S-GW internal configuration and algorithms
6\. The MME/S4-SGSN establishes the E-RABs either:
a. In the case of eDRX, the MME pages the UE with consideration to the
extended DRX, and when the UE replies to paging by initiating service request
procedure, the bearers are established following normal procedures as
described in TS 23.401 [4], clause 5.3.4.
b. In the case of PSM, MME stores the event of a DDN failure due to the UE
being unreachable in a power saving state. When the UE initiates periodic TAU
(TS 23.401 [4], clause 5.3.3), or service request due to MO data (TS 23.401
[4], clause 5.3.4). The MME/S4-SGSN establishes the E-RABs if the UE initiates
a TAU procedure after passing the new message cause \"DL buffering
Requested\", in step 4 to the S-GW.
In both cases, the UE may initiate TAU procedure with S-GW relocation. That
case is covered is Figure 5.2.1-2.
7\. When the S-GW receives the modify bearer request from the MME/S4-SGSN
(during either service request procedure or TAU procedure), if time T is still
running, it stops the timer T, and delivers the buffered DL packet(s).
8\. Bi-directional data communication is now possible.
Subscriber requirements or vertical application requirements or Scenario B
solution may drive the PSM or the eDRX parameter settings. If neither PSM nor
eDRX were used, then the value T may be linked to a delay tolerance by
applications only (e.g. due to temporary loss of coverage).
Upon TAU/RAU, a MME/S4-SGSN change and/or a S-GW change could happen. The old
MME/S4-SGSN indicates to new MME/S4-SGSN the existence of buffered data in
S-GW and also, whether the packets buffered in the old S-GW should be
forwarded to the new S-GW if S-GW relocation is required.
The inter-MME TAU/Inter-S4-SGSN RAU procedure with S-GW change is depicted in
Figure 5.2.1-2, whereby:
> \- the old MME/S4-SGSN indicates to the new MME/S4-SGSN whether DL buffered
> data exists in S-GW (Step 5);
>
> \- the new MME/S4-SGSN may determines to relocate the S-GW. It may also
> determine whether indirect forwarding is required for example when the
> network architecture doesn\'t allow connectivity between the old S-GW and
> the new S-GW. A Forwarding S-GW may then be used to bridge the two IP
> domains.
\- the new MME/S4-SGSN requests and assigns F-TEIDs according to step 11 to 15
to both establish a forwarding path for the buffered DL data and establish the
new user plane.
NOTE: There is no impact on the S-GW for the forwarding of the buffered DL
data.
Figure 5.2.1-2: Forwarding of buffered DL data at S-GW change
5\. If DL data is being buffered in the old S-GW, the old MME/old S4-SGSN
indicates in the Context Response that DL data forwarding is required.
7-9. A normal Create Session Request/Response and MBR are done.
10-11. TAU/RAU Accept and user plane bearer setup are done. The new MME
receives the eNB F-TEID for the user plane to be established.
12\. Optionally if the network architecture doesn\'t allow connectivity
between the old S-GW and the new S-GW or the target eNB, indirect forwarding
can be used. A Create Indirect Forwarding Tunnel Request is sent to the new
S-GW including the target F-TEID where the S-GW should forward the data. The
S-GW returns its Forwarding DL F-TEID.
Indirect forwarding may be performed via a S-GW which is different from the
S-GW used as the anchor point for the UE.
13\. A normal Modify Bearer Request is sent to the new S-GW including the
F-TEID of the eNodeB.
14\. The new MME returns a Context Acknowledge to the old MME/old S4-SGSN
including the F-TEID where buffered DL data should be forwarded and a
Forwarding indication. The F-TEID may either be the F-TEID of the eNB (when
eNB supports forwarding) or the F-TEID for the indirect forwarding from step
12.
15\. A normal Modify Bearer Request/Response is sent to the old S-GW including
the F-TEID where buffered DL data should be forwarded.
NOTE: this is done to trigger immediately the forwarding of the DL buffered
data since in these scenarios, the old MME/S4-SGSN defers the sending of the
Delete Session Request until the timer armed upon receipt of the Context
Request expires.
16\. The old S-GW forwards its buffered data towards the received F-TEID in
step 15. The radio bearers have already been established and the buffered DL
data is sent to the UE.
17-21. The new MME sends an Update Location to HSS. The HSS cancels the
location in the old MME/old S4-SGSN. The old MME/old S4-SGSN releases the
radio bearers and deletes the session in the old S-GW (i.e. after any buffered
data has been properly forwarded in step 16).
22\. The new MME Deletes the indirect forwarding tunnel either based on a
timer or when UE is back to ECM-IDLE mode, if such indirect forwarding tunnel
is established in step 12.
Also, the inter-MME TAU/inter-S4-SGSN RAU procedure without S-GW relocation is
depicted in Figure 5.2.1-3, whereby:
\- the old MME/S4-SGSN indicates to the new MME/S4-SGSN whether DL buffered
data exists in S-GW (Step 5);
\- if no S-GW relocation is required, the new MME/S4-SGSN should remember the
need of user plane setup procedure should be activated in conjunction with the
TAU/RAU Accept message (step 7);
\- the new MME/S4-SGSN performs user plane setup procedure in conjunction with
the TAU/RAU Accept message (step 11).
Figure 5.2.1-3: Indication whether DL data is buffered in S-GW at MME/SGSN
change
For a Gn-SGSN buffering the procedure below applies:
The Gn-SGSN, when it receives a DL packet, would check whether this
optimization for high latency communications is applicable. If so, it would
store packets for up to a DL buffering time T. The Gn-SGSN delivers the
buffered packets to the UE at the next transition into READY state (e.g. due
to a page response received after a successful paging, a RAU procedure or
triggered by any other MO activity), or if time T has elapsed the SGSN may at
any time discard all buffered packets. Whilst there are packets in the buffer
or the timer T is running, and if more than a SGSN decided amount of packets
are received, the SGSN also starts discarding packets.
Figure 5.2.1-4: DL data buffering in Gn-SGSN
0\. The solution applies when the UE is in IDLE and is potentially temporarily
unavailable, e.g. the UE is in PSM, or extended idle mode DRX.
1\. The Gn-SGSN receives a DL packet for the UE from the P-GW.
2\. The Gn-SGSN detects that the UE for which it received the DL packet is in
a power saving state or may be temporarily unreachable, e.g. it is in PSM or
idle mode with extended DRX cycle, and decides to temporarily buffer the DL
packet.
3\. The SGSN then attempt to store up to a certain amount (at least one) of DL
packets, and starts timer T for this device set as follows:
a. In the case of extended DRX, it is a value set based on the extended DRX
cycle.
b. In the case of PSM, it is a value no shorter than the time remaining for
the next expected periodic RAU from the UE.
4\. Based on successful execution of RAU or paging procedure as describe in TS
23.060 [5], the Gn-SGSN sends the data to the UE.
5\. Bi-directional data communication is now possible.
The value T may be selected based on subscriber requirements, or vertical
application requirements, or as described in solution for Scenario B.
Subscriber requirements, or vertical application requirements or Scenario B
solution may also drive the PSM state duration or the eDRX duration. If
neither PSM nor eDRX were used, then the value T may be linked to a delay
tolerance by applications only (e.g. due to temporary loss of coverage).
Upon TAU/RAU, a SGSN change could happen. The packets buffered in the old Gn-
SGSN may be forwarded to the new Gn-SGSN as is specified in TS 23.060 [5],
clause 6.9.1.2.2.
### 5.2.2 Impacts on existing nodes and functionality
Impact is on the:
**MME/S4-SGSN:**
\- Decide to instruct S-GW to buffer DL data based on detecting the UE is in a
power saving state or may be temporarily unreachable and that buffering
applies.
\- Signalling impact in DDN Ack.
\- Establish E-RABs/RABs if UE performs TAU/RAU if message cause \"DL
buffering Requested\" was received from old MME/S4-SGSN.
\- Support for forwarding of buffered S-GW DL packets.
**Gn-SGSN:**
\- Handle buffering based on Gn-SGSN control.
\- Support for forwarding of buffered Gn-SGSN DL packets.
**S-GW:**
\- Handle buffering based on MME/S4-SGSN control.
\- Signalling impact in DDN Ack.
### 5.2.3 Evaluation
This solution addresses Scenario A by providing a mechanism to buffer data in
S-GW or Gn-SGSN for later delivery to UEs that are unreachable for some time.
The solution works regardless if the AS/SCS uses a SCEF interface or not. It
also works regardless which power saving method is used, given that
considerations in the eDRX work are taken. The solution has only minor impact
on signalling protocols, i.e. the DDN and DDN Ack messages on S11 and S4. The
solution has impact on S-GW buffer size, potentially a significant impact, but
implementations may mitigate the impact. With regards to the impact on buffer
resources the solution should preferably be used when the buffer time (power
saving interval) has short and medium lengths. For long power saving
intervals, it is recommended that instead a solution is applied where the
AS/SCS only sends DL data when the UE is reachable to reduce required buffer
resources.
## 5.3 Solution 3: Using Monitoring Event \"UE Reachability\"
### 5.3.1 Functional Description
This is a solution for Scenario A and Scenario B mainly for a UE which is
adopting Power Saving Mode or other features that cause high latencies for
downlink data e.g. eDRX (depending on eDRX study results). The Monitoring
event \"UE reachability\" for MONTE in TR 23.789 [2] is reused to inform about
UE reachability to SCS/AS. If a SCS/AS wants to send downlink data to a
sleeping UE (e.g. to a UE that is adopting Power Saving Mode), the SCS/AS
registers a new Onetime Request \'UE reachability\' monitoring event via the
SCEF-interface/API in order to detect delivery availability. Then the SCS/AS
sends MT data only when the UE is reachable i.e. when the SCS/AS receives a
\'UE reachability\' notification. This solution ensures the safe delivery of
MT data if the SCS/AS sends MT data after the SCS/AS is informed the UE
reachability.
NOTE: Current Monitoring event on \"UE reachability\" in TR 23.789 [2] does
not consider extended DRX case. If this solution is required to support eDRX,
MME behaviour should be enhanced to care this case too (e.g. MME may send
paging message to eNBs to wake up the UEs for reachability.
### 5.3.2 UE Reachability configuration and reporting
Figure 5.3.2-1 UE Reachability configuration and reporting
1\. The SCS/AS sends a Monitoring Request message to the SCEF with the
configuration for UE reachability event reporting. The SCEF configures the
monitoring of the UE reachability.
2\. When the UE becomes reachable, e.g. when a PSM UE contacts the network or
when a UE attaches, this monitoring event is reported to SCEF and then
forwarded to SCS/AS.
3\. The SCS/AS sends the downlink packets to the UE.
### 5.3.3 Impacts on existing nodes and functionality
There is no impact from this solution as the required functionality is
provided by monitoring enablers.
A NAT/FW may need specific configuration if delivery of downlink data is
wanted without relying on keep alive uplink data.
### 5.3.4 Evaluation
It is a solution that enables any monitoring enabler/API user to be informed
when downlink data can be sent to a UE that is not permanently reachable, e.g.
due to applying power saving means. It doesn\'t require any extra
functionality besides the monitoring enablers. Also, this solution is
preferable for infrequent mobile terminating services because of the
signalling overhead due to monitoring event configuration.
## 5.4 Solution 4: Availability Notification after DDN Failure
### 5.4.1 General
Editor\'s note: Describe the solution. Clause(s) may be added to capture
details, procedural flow, etc.
In this solution, the AS subscribes once and then gets notification only when
there has been some Data delivery failure followed by the UE becoming
reachable.
This solution involves an entry in the subscription for a UE for \"network
application triggering when the UE is available after a DDN failure\". This is
a different MONTE event from the MONTE event \"UE is reachable\". This
information will be provided to the serving node (MME/SGSN) at registration.
The serving node will note this and will set a flag after a DDN failure. If
the flag is set when the UE next contacts the network, the serving node will
notify the HSS that the UE is reachable, and will clear the DDN failure flag.
An important use case for this solution is the application that wants to
communicate with a UE that sleeps for a long time. If downlink packets from
the application are not delivered, the application will recognize that the UE
is not available by lack of response within a reasonable time from the UE, and
will then await notification from the network (i.e. from the MME/SGSN via the
SCEF) of UE reachability.
### 5.4.2 Architecture
In this architecture, the MME is informed about the subscription to \"network
application triggering when the UE is available after a DDN failure\" by the
HSS as part of the normal registration process. The application registers with
the HSS, e.g., via an interface defined as part of AESE, to be notified of DDN
failure.
Figure 5.4.2-1: Availability Notification after DDN Failure architecture
### 5.4.3 Registration
The figure below provides the registration procedure.
Figure 5.4.3-1: Registration - Availability Notification after DDN Failure
1\. The UE subscription in the HSS includes the option \"notify on available
after DDN failure\".
2a. The application requests that the SCEF register a trigger to be notified
when downlink data delivery fails.
2b. The SCEF registers with the HSS to be notified when the UE becomes
available after a DDN failure.
NOTE: The registration includes the parameters specified in the MONTE work,
e.g. SCEF address, SCEF reference.
3a. The HSS internally notes the request, and sends an acknowledgement to the
SCEF.
3b. The SCEF responds to the AS regarding the trigger request.
4\. This information is made known to the MME/SGSN via existing mechanisms:
via an Insert Subscriber Data Operation when the UE is already associated with
a MME/SGSN or at some later point in time, when the UE issues a register that
causes the MME/SGSN to receive a set of subscription information for the UE
that contains the \"notify on available after DDN failure\" option.
### 5.4.4 Notification
The figure below provides the registration procedure. This figure is relative
to EUTRAN, but the equivalent figure for UTRAN can be directly derived from
this.
Figure 5.4.4-1: Notification - Availability Notification after DDN Failure
1\. The application sends down link data.
2\. The PGW forwards the data to the SGW. The SGW sends a Down link data
notification (DDN) message to the MME requesting that UE-1 be paged.
3\. The MME initiates paging for UE-1 but receives no response or the UE is in
Power Saving Mode or in eDRX.
4\. The MME sends a DDN failure indication to the SGW.
5\. The MME notes the subscription option for notification of availability
after DDN failure for UE-1, and sets a flag. Not every DDN failure triggers
this event. This event may be triggered only when the UE is in PSM/eDRX.
6\. At some later time, UE-1 contacts the network, e.g., to perform a TAU, or
as it executes a service request of MO data.
7\. The MME notes that UE-1 is available and that the DDN failure flag for
UE-1 is set.
8\. The MME sends an indication to the SCEF that UE-1 is available. The MME
also resets the DDN failure flag for UE-1.
9\. The SCEF notifies the application that UE-1 is available.
10\. The application decides to resend data it has queued for UE-1.
11\. The application sends the queued data toward UE-1.
### 5.4.5 Solution Impacts on Existing Nodes
The HSS must be modified to:
\- Support the MONTE based event configuration for \"Notify on UE Reachability
after DDN Failure\" including:
\- application registration;
\- sending the subscription option to the MME/SGSN.
The MME/SGSN must be modified to:
\- Receive the subscription option from the HSS and store it with the
subscription;
\- Check the option after a DDN failure to determine if the flag should be
set;
\- Check whether any DDN failure flags are set when the UE again contacts the
network, and for which APNs;
\- If the DDN failure flag is set for a UE, reset the flag and notify the
SCEF.
### 5.4.6 Solution Evaluation
This solution provides the ability to notify an application of the
availability of a UE that may be a high latency UE, with minimized signalling
load.
This solution is particularly applicable for operators who choose to support
notifications to the application level.
This solution incorporates the MONTE monitoring method of Solution 3 and
provides the details used at the MME to determine when to send \"available\"
and \"not available\" indications for the UE to the HSS. In particular, the
use of an internal indication of whether the SCEF needs to be notified avoids
the need for the MME/SGSN to send an indication to the SCEF that the UE is
unavailable every time that paging fails, and it also provides the ability to
send a notification that the UE is available once only also after a paging
failure.
This method effectively provides an alternative to the use of SMS for
triggering, along with the associated core network signalling necessary to
deliver the SMS message.
This solution also provides additional battery saving to the UE that awakes
and does not receive a DL packet. In that case, the UE can go back to sleep
more quickly, thus saving battery. If the UE receives a DL packet, it can
remain awake longer to send response packets or to await further DL packets.
**PROS:**
\- Applications are only notified when they are registered for the event, thus
minimising the amount of signalling.
\- This solution applies to cases where downlink data is not often sent to a
UE, e.g., water meters and similar devices that rarely receive downlink data,
and are usually sending uplink data (albeit not too frequently). This class of
devices comprises a large segment of M2M traffic.
\- The application does not need to be aware of power saving mode (PSM/eDRX)
intervals.
\- The registration can be done once and allowed to remain for a long period
of time.
\- The application can made a determination about whether to queue data or to
take other actions, depending on application logic, thus avoiding unnecessary
complexity that a 3GPP-defined entity may incur.
\- There are no impacts to the PGW/GGSN, SGW, eNB, or SMSC.
\- Network signalling is minimised:
\- Signalling from the HSS to the MME is included in the subscription update
procedure.
\- Signalling from the MME to the SCEF is limited to the notification of re-
establishment of the radio contact with the UE.
**CONS:**
\- The HSS storage and processing will be impacted to handle a new MONTE
event, depending on how many UEs are given this subscription option, and to
what extent it is used by applications. Therefore, this solution applies to
cases where downlink data is not often sent to a UE.
\- The MME storage and processing will be impacted. If the option is not
present for a given subscription, the only impact will be checking on the
existence of the option upon DDN failure. If the option is present for a given
subscription, processing will be used when a DDN failure occurs, and whenever
the UE (re)connects with the network to check the flag and possibly to send an
event report to the HSS.
\- Not suitable for applications where frequent UL data is sent which may
cause too many transitions of state to involve the HSS).
\- The AS/SCS needs to use an SCEF interface to the network.
## 5.5 Solution 5: DL data buffering in SGW with SCS/AS Assistance
### 5.5.1 Description
This solution is an optimization for the \"DL Data Buffering in SG\" solution
of clause 5.2. The solution of clause 5.2 may be enhanced to allow the SCS/AS
to optionally configure the maximum amount of time T that packets may be
buffered.
In some cases, the acceptable range of T may depend on the UE\'s application
level state. For cases where a UE\'s delay tolerance changes, an acceptable
value of T may be provided by the SCS/AS. The serving node (MME/SGSN) decides
on the actual value to be used based on local policies.
NOTE: It is expected that changes to the value of T will be infrequent.
Figure 5.5.1 1: The SCS/AS provides the desired tolerance time via the SCEF
1\. The SCS/AS submits a request to the SCEF for adjusting the delay tolerance
T that is desired for the device. The message includes the SCS-ID, External-ID
of the device and the maximum delay that should be used with buffered downlink
packets for this UE.
2\. The SCEF checks that the SCS/AS is authorised to send the Buffer
Configuration Request. If this check fails, the SCEF proceeds to step 7 and
sends a Buffer Configuration Response message with a cause value indicating
the reason for the failure condition.
3\. The SCEF sends a Buffer Configuration Request to the HSS and includes the
SCS-ID, External-ID and the maximum delay tolerance for packets for this UE.
4\. The HSS identifies the internal UE ID and authorizes the request for the
identified UE.
5\. If the request was authorized, the HSS updates the subscription data at
the MME/SGSN with the maximum delay tolerance for downlink data buffering for
this device by sending Insert Subscriber Data. The MME/SGSN responds with
Insert Subscriber Data Ack. The MME/SGSN takes the received value into account
along with other local policies for determining the buffering time T for this
UE.
6\. The HSS sends a Buffer Configuration Response to the SCEF and indicates
the result of the request.
7\. The SCEF sends a Buffer Configuration Response to the SCS/AS and indicates
the result of the request.
### 5.5.2 Impacts on existing nodes and functionality
Impacts on the following nodes are foreseen:
**SCEF:**
\- Support messages from the SCS/AS to update a desired tolerance time
associated with downlink packets.
\- Interact with the HSS for updating the delay tolerance information.
**HSS:**
\- Support interactions with the SCEF for providing delay tolerance
information as requested by the SCS/AS.
\- Update the MME/SGSN with any tolerance information received from the SCEF.
**MME/SGSN:**
\- Support interactions with the HSS for getting the desired delay tolerance
value.
### 5.5.3 Evaluation
The following evaluation is only applicable to optimization of this solution
with regards to the interaction between the SCS/AS and the network. The
evaluation of the buffering solution itself is documented in clause 5.2 -
\"Solution 2: DL data buffering in SGW\".
**Benefits:**
\- The solution allows the SCS/AS to indicate the actual tolerance beyond
which it is no longer desired to buffer the downlink packet. Such information
are best known at the SCS/AS and the proposal enables a dynamic change to this
value based on application layer needs.
**Drawbacks:**
\- The solution requires interaction between the SCS/AS and the network via
the SCEF framework.
\- If the request is authorized, it triggers an Insert Subscriber Data/Ack
between the HSS and the MME/SGSN.
## 5.6 void
## 5.7 Solution 7: Coordination using the UE application
### 5.7.1 Description
This solution relates to Scenario B \"Coordination of maximum latency between
the application and the network\" (clause 4.2). The solution describes how the
UE should set parameters related to power saving functions e.g. PSM and eDRX.
This might also be subject to UE certification (but that is a decision out of
scope for this study).
For 3GPP devices that use power saving functions, the 3GPP network will
instruct the device to power down their radio functions as soon as there is a
pause in the communication, e.g. a period of time after the device has moved
to ECM-IDLE. The devices will power on their radio functions periodically to
synchronize with the 3GPP network, e.g. for sending their periodic TAU/RAU
update, listening to the paging channel or just sending uplink data. The
result of this behaviour is that if data is sent to such a device, it will
take some time before the device can respond (given that the data is buffered
in the network, see clause 5.2 above).
Application Servers, which need to initiate data transmissions to devices that
are applying power saving functions, may control the maximum latency for
downlink data to the device by applying the procedure described below. When it
is possible and sufficient to configure the maximum response time in the
devices themselves, steps 1 to 3 in the figure below may be omitted.
The \"maximum response time\" in the figure is the \"maximum latency\" studied
in this TR. It is the delay an application may experience for the initial
downlink IP packet after a pause in packet transmissions where a power saving
function has become active for the 3GPP IP connection.
Figure 5.7.1 1: Coordination of maximum response time using the UE application
1-3. An SCS/AS has IP connectivity with a device. The SCS/AS knows the maximum
acceptable response time for the application and communicates this value to
the application in the device using application specific signalling. If the
value is already known in the device by other means e.g. pre-configuration,
this procedure may also start at step 4.
NOTE 1: Step 2 and 3 are application specific out of 3GPP scope.
4\. Local UE configuration, operator policies and the maximum acceptable
response time for the application are considered when the parameters for PSM
and eDRX are set in the EMM/GMM NAS requests sent to the MME/SGSN.
When there are multiple SCS/ASs using different maximum acceptable response
times, the device is recommended to use the minimum of these values to satisfy
all SCS/ASs.
NOTE 2: The eDRX study (and other potential future WIs for new power saving
functions) needs to consider how the eDRX parameters are passed in NAS
request/response messages and how parameters for eDRX are aligned with other
existing power saving functions i.e. PSM. This include considerations how the
max response time is be conveyed when several different parameters (power
saving functions) are used, for example what happens if there is a possibility
for the network to negotiate some values (e.g. a too short periodic timer) and
if the network then can switch to eDRX instead of PSM, etc.
5\. The MME/SGSN checks the received parameters and time values and sets
relevant MME/SGSN timers based on the received time values, operator policies
and network configuration. The MME/SGSN can negotiate values or switch power
saving function if there is a conflict between requested parameters and
operator policies or network configuration. The used values should also
consider characteristics of power saving functions, e.g. missed paging
opportunities at eDRX. This may result in that the used values are less than
the maximum response time for the application (e.g. half the time values).
6a. If PSM is used, the negotiated Active time and Extended Periodic Timer are
returned in the NAS response. The parameters are set not to exceed the maximum
response time. Potentially also a DRX value is returned depending on the
result of the eDRX study.
6b. If eDRX is used, potentially the negotiated DRX value and Periodic timer
are returned in the NAS response, depending on the result of the eDRX study.
The parameters are set not to exceed the maximum response time and parameters
may be less when different aspects of the eDRX (e.g. missed paging
opportunity) are considered.
7b. If eDRX is used, any Paging request message is sent to the eNB/RNC/BSC
based on the negotiated DRX value (depending on the result of the eDRX study).
8\. The end-to-end experience should be that any (initial) MT data does not
exceed the maximum response time conveyed in steps 3 and 4.
### 5.7.2 Recommendations for Cellular IoT application developers
Application Servers, which need to initiate data transmissions to devices that
are based on 3GPP technology and are applying power saving functions to reduce
the energy consumption in the device, should follow the recommendations below.
For 3GPP devices that use power saving functions, the 3GPP network will
instruct the device to power down their radio functions as soon as there is a
pause in the communication. The devices will however power on their radio
functions periodically to synchronize with the 3GPP network. The result of
this behaviour is that if data is sent to such a device, it will take some
time before the device can respond, i.e. until the next synchronization
occurs. It is possible for application servers to control this maximum
response time. Application servers that wish to do this should follow a
procedure as described by steps 1 to 5 below.
When it is possible and sufficient to configure the maximum response time in
the devices themselves, only steps 3 to 5 needs to be followed.
Figure 5.7.2 1: Coordination of maximum response time using the UE application
### 5.7.3 Impacts on existing nodes and functionality
**UE:**
\- Potential impact on UE API (e.g. AT commands) for passing the maximum
response time and a decision logic in the UE for selecting the periodic
tracking area time value according the most stringent application requirement.
**SGSN/MME:**
\- None.
Potential future new power saving functions:
\- Need to consider aspects clarified in the note in step 4 of clause 5.7.1.
### 5.7.4 Evaluation
The solution makes it possible for applications to set the maximum acceptable
response time it will experience when the 3GPP system applies power saving
functions such as PSM and potentially eDRX (depending of eDRX study results).
Only minor system impacts depending on eDRX study results.
## 5.8 Solution 8: Enhanced Power Saving Mode (ePSM)
### 5.8.1 Description
This solution proposes to define an enhanced Power Saving Mode (ePSM) as
illustrated in Figure 5.8.1-1. The solution applies to both Scenario A and
Scenario B.
These are the salient features of ePSM:
\- Based on network configuration when there is no data communication the UE
can alternate between successive Idle mode interval and PSM interval that are
repeated periodically.
\- The period of the repetitive Idle-cum-PSM cycle (further referred to as
\"ePSM cycle\") is equal to the sum of a configured Idle mode sojourn time
(Ti) plus PSM sojourn time (Tp).
\- The repetitive (Ti + Tp) pattern can be made deterministic by locking it on
an absolute clock reference (Tref). In other words, the combined (Ti + Tp)
cycle starts at instants defined as t = Tref + N * (Ti + Tp), where N is a
whole number.
\- If UE needs to break the cycle for any reason (e.g. initiating MO
communication, responding to paging, sending a Periodic TAU, etc.), it returns
to the (Ti + Tp) cycle as soon as the network releases the RRC connection.
Note that if the (Ti + Tp) cycle is locked to an absolute clock reference then
this may involve an exceptional truncation or extension of the very first Ti
or Tp interval, allowing the UE to lock on the absolute reference clock.
\- The parameters defining the periodic cycle (Tref, Ti, Tp) may be provided
to the 3rd party AS, either by pre-configuration or by using a Service
Capability Enablement Function (SCEF).
Illustrated in Figure 5.8.1-1 is a call flow for configuration of ePSM in the
UE.
Figure 5.8.1-1. Configuration of enhanced Power Saving Mode (ePSM)
1\. UE sends a TAU Request message, either due to mobility or due to Periodic
TAU timer expiry. If UE wishes to use ePSM, it includes a set of parameters
that describe the desired ePSM cycle e.g. the duration of Idle sojourn time
(Ti), the duration of PSM sojourn time (Tp) and possibly an absolute clock
reference (Tref).
The absolute clock reference should be based on a clock that can be made
available both within the UE and the AS. For example, Universal Time or GPS
time may be used.
2\. MME decides if it allows ePSM based on operator\'s configuration. If MME
decides to accept the request, it forwards the description of the ePSM cycle
to a Service Capability Exposure Function (SCEF) along with a UE identity (UE
ID). Note that MME may modify the values describing the ePSM cycle if it does
not accept the values as proposed by the UE.
Alternatively, Tp and Ti timer values may be configured in HSS as part of UE
subscription data and downloaded to MME. If MME receives this information from
HSS it may use them to override the values requested by UE.
3\. MME sends a TAU Accept message including the approved description of the
ePSM cycle (i.e. the original parameter values as proposed by UE in step 1, or
modified values).
4\. At some point the eNB releases the RRC connection. At this point UE enters
the ePSM cycle by typically going through Idle mode first. Note that the RRC
connection release message is asynchronous (i.e. it can occur at any instant),
whereas the ePSM cycle is locked to an absolute time reference. This means
that, step 4 may occur either within the \"Idle interval\" or within the \"PSM
interval\" of an ePSM cycle.
In Figure 2 it is assumed that step 4 has occurred within the latter. For this
case the UE can use one of the following options:
a) UE may lock immediately to the ePSM cycle by entering PSM immediately. In
this case the very first \"PSM interval\" will be truncated.
b) Alternatively, UE may decide to enter Idle mode first and extend the Idle
mode stay until the start of the first upcoming \"PSM interval\" of the ePSM
cycle. In this case the very first \"Idle interval\" is exceptionally longer
than usual.
c) Alternatively, the UE may enter Idle mode first and remain in Idle mode for
a given time duration, possibly equal to the value of Ti, before reverting to
the ePSM cycle.
NOTE 1: The potential benefit of options b) or c) is that they guarantee that
the UE is reachable for some time period immediately after the Attach or TAU
procedure which is a time when there may be an increased possibility of MT
signalling or data.
5\. A 3rd party AS wishing to send MT data to this UE registers with the SCEF
and obtains the description of UE\'s ePSM cycle. Given that the ePSM cycle is
described relative to an absolute time reference (Tref), the AS needs to fetch
the ePSM description from the SCEF only once. The AS may also subscribe to be
notified in case the ePSM cycle parameters are modified or if ePSM is
cancelled for this UE.
6\. The Periodic TAU timer is independent of the ePSM cycle. Upon this
timer\'s expiry, the UE sends a periodic TAU Request message, as usual. The UE
can use this opportunity to request a change of ePSM parameters or cancel the
ePSM. In such a case the MME contacts the SCEF (not shown in the figure) to
update it with the new ePSM description or indication that UE is not using
ePSM anymore. The SCEF can then notify all ASs (not shown in the figure)
interested in this UE about the change.
Conversely, if the UE is happy with the current ePSM configuration, it may
indicate this to MME by sending the same values. UE may cancel ePSM by not
including any ePSM-related parameters.
NOTE 2: Figure 5.8.1-1 describes all aspects listed above including the
locking of the (Ti + Tp) cycle onto an absolute clock reference (Tref). If
that aspect were not included then there would be the following differences in
the sequence:
\- Steps 2 and 5 would not occur;
\- The passing of the Tref parameter in steps 1 and 3 would not be needed;
\- At step 4 the UE would immediately enter the (Ti + Tp) cycle on release of
the RRC connection.
The signalling of ePSM parameters (i.e. Ti, Tp, Tref) also applies to the
Attach procedure by replacing the TAU Request/Accept messages with the Attach
Request/Accept messages.
Figure 5.8.1-2 describes the call flow for MT communication towards a UE in
ePSM.
Figure 5.8.1-2. MT communication towards a UE in ePSM
1\. At the beginning of the call flow the UE has entered ePSM cycle and is
alternating between the \"Idle interval\" and the \"PSM interval\". The 3rd
party AS obtains the ePSM cycle description for this UE.
2\. When the AS has MT data for sending, it waits until the UE enters the
\"Idle interval\" before sending the MT packet(s).
3\. The MT packets are short term buffered in the SGW as usual. SGW sends a
Downlink Data Notification (DDN) message to the MME to initiate paging.
4\. MME triggers paging.
5\. Given that UE is currently inside the \"Idle interval\" it is able to read
the paging message. UE establishes a connection with the network and enters
Connected mode. While in Connected mode, the ePSM cycle runs in parallel, but
is not used in any way. The UE just needs to keep track of the ePSM cycle in
the background so that it can later lock on it again.
6\. After the data communication is terminated, at some point the network
decides to release the RRC connection. In Figure 5.8.1-2 it is assumed that
the RRC connection is released within the \"Idle interval\". The UE may lock
immediately on the ePSM cycle, as a result of which the very first \"Idle
interval\" will be truncated.
NOTE: Figure 2 describes all aspects listed including the locking of the (Ti +
Tp) cycle onto an absolute clock reference (Tref). If that aspect were not
included then there would be the following differences in the sequence:
\- Step 1 would not occur.
\- At step 2 the AS would just send data when it is available (i.e. it would
not have to wait for an \"Idle interval\" as it would not be aware when this
\"Idle interval\" occurs in the UE).
\- At step 3 the SGW would need to be able to long-term buffer the packet (as
described in solution 2) until it is possible for the UE to be paged during
one of its \"Idle intervals\".
\- At step 4 the UE would immediately enter the (Ti + Tp) cycle on release of
the RRC connection.
MT SMS is supported as follows:
\- If the MT SMS arrives at the MME while the UE is in the \"PSM interval\",
the MME indicates towards the SMS Infrastructure that the UE is unreachable
and sets the URRP flag.
\- The MT SMS is delivered when the UE is brought to Connected mode again
(e.g. due to Periodic TAU timer expiry or due to MO data).
Editor\'s note: The applicability of this solution to GERAN/UTRAN is FFS.
### 5.8.2 Impacts on existing nodes and functionality
Impact is on the:
**MME:**
\- Configuration of ePSM in the UE.
Editor\'s note: Impact on mobile reachable timer, PPF flag setting and mobile
detach timers is FFS. The default assumption is that both timers are
determined based on the Periodic TAU timer.
**UE:**
\- Support for ePSM i.e. alternating between \"Idle mode interval\" and \"PSM
interval\" without any signalling with the network.
Editor\'s note: Impact on access stratum procedures and timers is FFS.
### 5.8.3 Evaluation
The solution has the following benefits:
\- If the (Ti + Tp) cycle is locked to an absolute clock reference (Tref) and
the cycle parameters (Tref, Ti, Tp) are provided to the SCEF/AS then there is
no need for long term buffering in the S-GW. The 3rd party AS always knows
when the UE is in PSM, so it can refrain from sending MT data at those times.
In other words the buffering is moved from the SGW to the data source (i.e.
the AS).
\- Contrary to Rel‑12 PSM, the duration of the PSM sojourn time (Tp) is not
linked to the Periodic TAU timer (T3412). This allows for configuring shorter
PSM sojourn times (much shorter than typical T3412 values), which is
beneficial for serving MT traffic with certain delay tolerance requirements.
\- The fact that the PSM sojourn time (Tp) is not linked to the Periodic TAU
timer (T3412) means that UE can freely alternate between Idle mode and PSM
without any signalling with the network. This has the obvious benefits of
reducing the signalling load and improving UE\'s power efficiency.
\- The (Ti + Tp) cycle being deterministic, it needs to be exposed to 3rd
party ASs (via SCEF API) only once. I.e. avoids the need for communication
with the AS every time the UE changes between being reachable and not
reachable. Of course, if the Ti and Tp values need to be changed for some
reason, the new values will need to be updated to the AS (via SCEF API),
however, it is not expected that Ti and Tp will change frequently.
# 6 Evaluation
Editor\'s note: Evaluation of potential solutions in section 5 and comparisons
when needed.
# 7 Conclusion
Editor\'s note: List of conclusions of the study. A solution for a scenario
may be concluded and recommended for standardization before the whole study is
finalized.
The following conclusions are made from the FS_HLCOM study and proposed to be
moved to a normative phase:
\- Extended buffering in the SGW based on solution 2 clause 5.2 is used to
handle high latency communication to devices using power saving functions e.g.
eDRX and PSM.
\- MONTE event notifications to notify an AS/SCS when downlink data can be
sent to a UE that uses power saving functions e.g. PSM or eDRX, based on:
\- solution 3 clause 5.3 using a \'UE Reachability\' one-time event shall be
specified; and
\- solution 4 clause 5.4 sending notifications triggered by DDN shall be
specified.
\- The Extended buffering in the SGW/SGSN and the MONTE based notifications
shall apply to E-UTRAN, UTRAN and GERAN.
\- Coordination of maximum latency between the application and the network is
handled either by interaction between the application in the UE with the UE
NAS layer according to solution 7 clause 5.7, or through the parameter on
Maximum latency in monitoring event configuration from SCS/AS to SCEF
according to TR 23.789 [2], clause 5, describing specific parameters for the
UE Reachability event.
#