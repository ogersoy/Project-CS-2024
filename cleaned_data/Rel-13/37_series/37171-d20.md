# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document establishes the minimum performance requirements for RAT-
Independent Positioning Enhancements (e.g. MBS positioning technology) for FDD
or TDD mode of UTRA and E-UTRA for the User Equipment (UE).
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] ETSI TR 102 273-1-2: \"Electromagnetic compatibility and Radio spectrum
Matters (ERM); Improvement on Radiated Methods of Measurement (using test
site) and evaluation of the corresponding measurement uncertainties; Part 1:
Uncertainties in the measurement of mobile radio equipment characteristics;
Sub-part 2: Examples and annexes\".
[3] 3GPP TS 36.355: \"Evolved Universal Terrestrial Radio Access (E-UTRA); LTE
Positioning Protocol (LPP)\".
[4] 3GPP TS 36.509: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Packet Core (EPC); Special conformance testing functions for User
Equipment (UE)\".
[5] 3GPP TS 36.942: Evolved Universal Terrestrial Radio Access (E-UTRA); Radio
Frequency (RF) system scenarios\".
[6] 3GPP TS 25.331: \"Radio Resource Control (RRC); Protocol specification\".
[7] ATIS-0500027: \"Recommendations for Establishing Wide Scale Indoor
Location Performance\", May 2015.
[8] 3GPP TS 34.109: \"Terminal logical test interface; Special conformance
testing functions \".
[9] 3GPP TS 37.571-1: \"Universal Terrestrial Radio Access (UTRA) and Evolved
UTRA (E-UTRA) and Evolved Packet Core (EPC); User Equipment (UE) conformance
specification for UE positioning; Part 1: Conformance test specification \".
[10] 3GPP TS 36.521-1: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
User Equipment (UE) conformance specification; Radio transmission and
reception; Part 1: Conformance testing \".
# 3 Definitions, abbreviations and test tolerances
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
AWGN Additive White Gaussian Noise
EPA Extended Pedestrian A
E-UTRA Evolved UMTS Terrestrial Radio Access
FDD Frequency Division Duplex
LPP LTE Positioning Protocol
MBS Metropolitan Beacon System
RRC Radio Resource Control
TDD Time Division Duplex
UE User Equipment
UTRA UMTS Terrestrial Radio Access
## 3.3 Test tolerances
The requirements given in the present document make no allowance for
measurement uncertainty. The test specification 3GPP TS 37.571 -1 [9] will
define test tolerances. These test tolerances are individually calculated for
each test. The test tolerances are then added to the limits in the present
document to create test limits. The measurement results are compared against
the test limits as defined by the shared risk principle.
Shared Risk is defined in ETSI TR 102 273-1-2 [2], subclause 6.5.
# 4 General
## 4.1 Introduction
The present document defines the minimum performance requirements for UEs that
support RAT Independent positioning technologies.
## 4.2 MBS Measurements
### 4.2.1 General
Clause 4.2 describes the measurements performed by the UE for MBS positioning.
### 4.2.2 MBS measurement parameters
The measurement parameters are the MBS code phase measurements contained in
the _TBS-MeasurementInformation_ IE provided in the LPP message of type
PROVIDE LOCATION INFORMATION [3] for LTE, and the _UE Positioning AddPos
measured results_ IE in the MEASUREMENT REPORT message for UTRA [6].
### 4.2.3 MBS Measurement time
For LTE, MBS measurement time is defined as the time starting from the moment
that the UE has received the LPP message of type REQUEST LOCATION INFORMATION,
and ending when the UE starts sending the LPP message of type PROVIDE LOCATION
INFORMATION on the Uu interface. The response times specified for all test
cases are based on new measurements unless otherwise stated, i.e. the UE shall
not re use any information on measurements or other aiding data that was
previously acquired or calculated and stored internally in the UE. A dedicated
test message \'RESET UE POSITIONING STORED INFORMATION\' has been defined in
TS 36.509 [4] clause 6.9 for the purpose of deleting this information.
For UTRA, MBS measurement time is defined as the time starting from the moment
that the UE has received the final RRC measurement control message containing
reporting criteria different from \"No Reporting\" sent before the UE sends
the measurement report containing the MBS measured results, and ending when
the UE starts sending the measurement report containing the measured result on
the Uu interface. The response times specified for all test cases are based on
new measurements unless otherwise stated, i.e. the UE shall not re use any
information on measurements or other aiding data that was previously acquired
or calculated and stored internally in the UE. A dedicated test message
\'RESET UE POSITIONING STORED INFORMATION\' has been defined in TS 34.109 [8]
clause 5.4 for the purpose of deleting this information.
The measurements for n MBS beacons, enabled across the slots of an MBS
transmission period [7], shall be available at the UE by$T_{\text{MBS_meas}}$,
where $T_{\text{MBS_meas}}$can be expressed as:
$T_{\text{MBS_meas}} = \tau + \text{10} \times
\text{ceil}(\frac{n}{\text{10}}) \times T_{\text{MBS_TP}} +
T_{\text{Pr}\text{oc}}$ ms
where
$T_{\text{MBS_meas}}$ is the total time for detecting and measuring n beacons
$\tau$ is the elapsed time from the trigger of the measurement to the start of
the first MBS transmission period
$T_{\text{MBS_TP}}$ is the MBS transmission period (1 second)
$T_{\text{Pr}\text{oc}}$ is the processing time, an upper-bound for which can
be given as $\text{10} \times \text{ceil}(\frac{n}{\text{10}}) \times
T_{\text{MBS}_{\text{slot}}}$ where $T_{\text{MBS}_{\text{slot}}}$ is the
duration of a MBS slot (100 ms) with continuous MBS transmissions
Figure 4.2.3-1: MBS Measurement Time
For this requirement, the assumption is that there is zero frequency offset
for the beacons and the UEs have a minimum of 13 parallel correlators.
The test case requirements for MBS Measurement time can be found in clause
A.3.
### 4.2.4 RRC states for MBS measurements
For LTE, the minimum MBS performance requirements are specified in clause 5
for RRC_CONNECTED state.
For UTRA, the minimum MBS performance requirements are specified in clause 5
for different RRC states that include Cell_DCH and Cell_FACH.
### 4.2.5 MBS Measurement Error Definitions
The code phase measurement error is defined as the difference between the
actual code phase for a given MBS beacon, and the estimated code phase for
that beacon, as reported in the LPP message of type PROVIDE LOCATION
INFORMATION for LTE [3], and the _UE Positioning AddPos measured results_ IE
in the MEASUREMENT REPORT message for UTRA [6]. This difference has to then be
adjusted for the measurement bias introduced by the UE clock to provide the
final code phase measurement error.
# 5 MBS minimum performance requirements
## 5.1 General
The minimum performance requirements specified in clause 5 apply for UEs that
support MBS. This section applies to requirements for both for UTRA and
E-UTRA.
The code phase accuracy requirements in this clause are statistical in nature
and pertain to the 90^th^ percentile of the distribution.
The measurement time for each requirement shall be T~MBS_meas~ as described in
clause 4.2.3. This clause does not include nor consider delays occurring in
the various signalling interfaces of the network.
## 5.2 Sensitivity
A Sensitivity requirement is essential for verifying the performance of MBS
receiver in weak signal conditions. In order to test the most stringent signal
levels for the beacons the Sensitivity test case is performed in AWGN channel.
This test case verifies the UE MBS performance at the lowest expected signal
levels.
In MBS deployments, target sensitivity levels of -130 dBm (at the UE antenna
connector, across the signal bandwidth) are used.
The minimum requirements for Sensitivity are shown in Table 5.2-1.
Table 5.2-1: Requirements for Sensitivity
* * *
MBS Configuration Signal Strength (dBm) Code phase measurement accuracy (ms)
TB1 (2 MHz) [7] -130 1.66 × 10^-4^
* * *
The test case requirements for Sensitivity measurement accuracy can be found
in clause A.4.2.
## 5.3 Nominal Accuracy
The Nominal Accuracy requirement verifies the UE MBS performance under ideal
conditions. The primary aim of the test is to ensure good accuracy when the
MBS signal conditions allow it.
In this requirement AWGN channel model is used and the signal level is above
the noise floor.
The minimum requirements for Nominal are shown in Table 5.3-1.
Table 5.3-1: Requirements for Nominal Accuracy
* * *
MBS Configuration Signal Strength (dBm) Code phase measurement accuracy (ms)
TB1 (2 MHz) [7] -30 5.0 × 10^-5^
* * *
The test case requirements for Nominal measurement accuracy can be found in
clause A.4.2.
## 5.4 Dynamic Range
The Dynamic Range requirement is targeted at testing the performance of the
MBS receiver under time varying signal conditions. This test case is important
for a system such as MBS where the time slotting of beacons is used.
The maximum signal level of a MBS beacon is expected to be -30 dBm (at the UE
antenna connector). This can be shown theoretically by assuming a TX power of
+40 dBm and a minimum coupling loss between the transmitter and the UE of 70
dB [5].
For this requirement, the power level of the MBS beacons shall be alternated
between the strongest and the weakest expected levels across consecutive slots
in the MBS transmission period.
The minimum requirements for Dynamic Range are shown in Table 5.4-1.
Table 5.4-1: Requirements for Dynamic Range
* * *
MBS Configuration Signal Strength (dBm) Code phase measurement accuracy (ms)
TB1 (2 MHz) [7] -30 5.0 × 10^-5^ -130 1.66 × 10^-4^
* * *
The test case requirements for Dynamic Range measurement accuracy can be found
in clause A.4.2.
## 5.5 Multipath
The purpose of the test case is to verify the receiver\'s tolerance to
multipath.
The pedestrian channel model used in TS 37.571-1 [9], captured in Annex B of
TS 36.521-1 [10] is used for assessing the MBS performance under the multipath
scenario, specifically the Extended Pedestrian A (EPA) with a maximum Doppler
frequency of 5 Hz (EPA 5Hz).
The minimum requirements for the Multipath scenario are shown in Table 5.5-1.
Table 5.5-1: Requirements for Multipath scenario
* * *
MBS Configuration Direct Path Signal Strength (dBm) Code phase measurement
accuracy (ms) TB1 (2 MHz) [7] -30 1.66 × 10^-4^
* * *
The test case requirements for Multipath measurement accuracy can be found in
clause A.4.3.
###### ## Annex A (normative): Test Case Requirements
# A.1 Purpose of annex
This Annex specifies test specific parameters for some of the functional
requirements in clause 5. The tests provide additional information to how the
requirements should be interpreted for the purpose of conformance testing. The
tests in this Annex are described such that one functional requirement may be
tested in one or several test and one test may verify several requirements.
Some requirements may lack a test.
The conformance tests are specified in clauses A.3 and A.4. Statistical
interpretation of the requirements is described in clause A.2.
# A.2 Requirement classification for statistical testing
Requirements in the present document are either expressed as absolute
requirements with a single value stating the requirement, or expressed as a
success rate. There are no provisions for the statistical variations that will
occur when the parameter is tested.
Annex A outlines the tests in more detail and lists the test parameters
needed. The test will result in an outcome of a test variable value for the
device under test (DUT) inside or outside the test limit. Overall, the
probability of a \"good\" DUT being inside the test limit(s) and the
probability of a \"bad\" DUT being outside the test limit(s) should be as high
as possible. For this reason, when selecting the test variable and the test
limit(s), the statistical nature of the test is accounted for.
The statistical nature depends on the type of requirement. Some have large
statistical variations, while others are not statistical in nature at all.
When testing a parameter with a statistical nature, a confidence level is set.
This establishes the probability that a DUT passing the test actually meets
the requirements and determines how many times a test has to be repeated and
what the pass and fail criteria are. Those aspects are not covered by TS
37.171. The details of the tests on how many times to run it and how to
establish confidence in the tests are described in TS 37.571-1 [9]. This Annex
establishes the variable to be used in the test and whether it can be viewed
as statistical in nature or not.
# A.3 UE Measurement Procedures
## A.3.1 MBS Measurement reporting delay test case
### A.3.1.1 Test Purpose and Environment
The purpose of the test is to verify that the MBS measurements meet the
measurement time requirements specified in clause 4.2.3 in an environment with
fading propagation conditions (EPA 5 Hz). This test can be used for both UTRA
and E-UTRA testing.
In this test case there is one beacon transmitted in one beacon slots in the
MBS beacon transmission period (see Figure 4.2.3-1). The position of the
beacon in the beacon transmission period is static for the duration of the
test. In other slots there are no simulated beacons. The beacon has centre
frequency of 925.977 MHz. The beacon has transmitted signal strength of -30
dBm. The beacon is transmitted with code phase (delay) of 1.6678x10^-4^ms,
corresponding to 50 m.
The UE shall perform and report the MBS measurements for the beacon within
12000 ms, starting from the receipt of the location request.
NOTE: The MBS measurement time in the test is derived from the following
expression: $T_{\text{MBS_meas}} = \tau + \text{10} \times
\text{ceil}(\frac{n}{\text{10}}) \times T_{\text{MBS_TP}} +
T_{\text{Pr}\text{oc}}$ms, where n=1, τ is one second, _T_ ~MBS_TP~ is one
second and _T_ ~Proc~ is one second.
The beacon is of type TB1 (2 MHz) specified in clause 9 of the MBS ICD [7] and
the data transmitted is in Type 2 packets specified in clause 9.6.3 of the MBS
ICD [7] with the following data fields: The MBS Transmitter ID and the Slot
Index shall be set to the MBS slot number; All other beacon payload data shall
be populated with zeros [7].
The beacon shall use a PN code chosen from the PN code list for TB1 [7].
Table A.3.1.1-1: General test parameters for measurement reporting delay
* * *
Parameter Unit Value Comment Centre Frequency MHz 925.977  
RF Channel N/A EPA 5 Hz  
MBS Beacon Configuration N/A TB1 (2 MHz)  
MBS Data Packet Type N/A Type 2  
Beacon PN Code Integer Chosen from the PN code list for TB1  
Beacon transmitted Code Phase (delay) ms 1.6678 × 10^-4^ Corresponds to 50 m.
Constant per beacon for the duration of the test. Beacon Signal Strength dBm
-30
* * *
Table A.3.1.1-2: MBS Beacon Payload fields for measurement reporting delay
* * *
Parameter Unit Value Comment TxID Integer Equal to Slot number  
Slot Index Integer Equal to Slot number  
All other fields N/A 0
* * *
### A.3.1.2 Test Requirements
The MBS measurement reporting delay shall fulfil the requirements in clause
4.2.3.
# A.4 Measurement Performance Requirements
## A.4.1 General
Unless explicitly stated otherwise:
\- Reported measurements shall be within defined range of accuracy limits
defined in clause 5 for at least 90 % of the reported cases. If multiple
measurement performance requirements are verified in the same test, the
reported measurements for each requirement shall be within defined range of
accuracy limits of the corresponding requirement defined in clause 5 for at
least 90% of the reported cases.
\- Measurements are performed in RRC_CONNECTED state.
## A.4.2 MBS Code Phase Measurement Accuracy Requirements in AWGN
### A.4.2.1 Test Purpose and Environment
The purpose of this test is to verify that the MBS Code Phase measurement
accuracy is within the specified limits. This single test will verify the
requirements in clauses 5.2, 5.3 and 5.4 for MBS measurements. The channel
type for this test is AWGN, as specified in the appropriate sub-clause of
clause 5. This test can be used for both UTRA and E-UTRA testing.
In each test, there is one beacon transmitted in each of four consecutive
beacon slots. The position of first of the four consecutive beacons in the
beacon transmission period can be any slot, but it is static for the duration
of the test. In other slots there are no simulated beacons. All beacons are in
the same time slotted RF channel, with centre frequency of 925.977 MHz. All
beacons are of type TB1 (2 MHz) [7] and the data transmitted is in Type 2
packets with the following data fields: The MBS Transmitter ID and the Slot
Index shall be set to the MBS slot number; All other beacon payload data shall
be populated with zeros.
In the four slots containing beacon transmissions, every other slot shall
contain a beacon with the higher signal strength beacon, and the other slots
shall contain a beacon with the lower signal strength.
The higher power beacons (-30 dBm) shall have code phase delay of
1.6678x10^-4^ ms (corresponding to 50 m) and the lower power beacons (-130
dBm) shall have code phase delay of 5.00346x10^-3^ ms (corresponding to 1500
m).
Each of the beacons shall use a unique PN code chosen from the PN code list
for TB1 [7].
Table A.4.2.1-1: General test parameters for Code Phase measurement Accuracy
* * *
Parameter Unit Value Comment Centre Frequency MHz 925.977  
RF Channel N/A AWGN  
MBS Beacon Configuration N/A TB1 (2 MHz)  
MBS Packet Type N/A Type 2  
Beacon PN Code Integer Chosen from the PN code list for TB1  
-30 dBm beacon transmitted Code Phase (delay) ms 1.6678x10^-4^ Corresponds to 50 m. Constant per beacon for the duration of the test. -130 dBm beacon transmitted Code Phase (delay) ms 5.00346 × 10^-3^ Corresponds to 1500 m. Constant per beacon for the duration of the test. T~MBS_meas~ ms 12000 
* * *
Table A.4.2.1-2: MBS Beacon Payload fields for Code Phase measurement Accuracy
* * *
Parameter Unit Value Comment TxID Integer Equal to Slot number  
Slot Index Integer Equal to Slot number  
All other fields N/A 0
* * *
### A.4.2.2 Test Requirements
The MBS Code Phase measurement accuracy shall fulfil the requirements in
clauses 5.2, 5.3 and 5.4.
## A.4.3 MBS Code Phase Measurement Accuracy Requirements in Multipath
### A.4.3.1 Test Purpose and Environment
The purpose of this test is to verify that the MBS Code Phase measurement
accuracy is within the specified limits. This test will verify the
requirements in clause 5.5 for MBS measurements. The channel type for the test
is specified in clause 5.5. This test can be used for both UTRA and E-UTRA
testing.
In this test, there is one beacon transmitted in each of two chosen slots. The
position of the beacons in the beacon transmission period is static for the
duration of the test. In other slots there are no simulated beacons. Both
beacons are in the same time slotted RF channel, with centre frequency of
925.977 MHz. All beacons are of type TB1 (2 MHz) [7] and the data transmitted
is in Type 2 packets with the following data fields: The MBS Transmitter ID
and the Slot Index shall be set to the MBS slot number; All other beacon
payload data shall be populated with zeros.
Both beacon slots shall contain a beacon with the signal strength listed in
clause 5.5.
The beacons shall have code phase delay of 1.6678x10^-4^ ms (corresponding to
50 m).
Each of the beacons shall use a unique PN code chosen from the PN code list
for TB1 [7].
Table A.4.3.1-1: General test parameters for Code Phase measurement Accuracy
in Multipath
* * *
Parameter Unit Value Comment Centre Frequency MHz 925.977  
RF Channel N/A EPA 5 Hz  
MBS Beacon Configuration N/A TB1 (2 MHz)  
MBS Packet Type N/A Type 2  
Beacon PN Code Integer Chosen from the PN code list for TB1  
-30 dBm beacon transmitted Code Phase (delay) ms 1.6678 × 10^-4^ Corresponds to 50 m. Constant per beacon for the duration of the test. T~MBS_meas~ ms 12000 
* * *
Table A.4.3.1-2: MBS Beacon Payload fields for Code Phase measurement Accuracy
* * *
Parameter Unit Value Comment TxID Integer Equal to Slot number  
Slot Index Integer Equal to Slot number  
All other fields N/A 0
* * *
### A.4.3.2 Test Requirements
The MBS Code Phase measurement accuracy shall fulfil the requirements in
clause 5.5.
#